(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Am={exports:{}},Oh={},km={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function dx(){if(l2)return on;l2=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(Z){return Z===null||typeof Z!="object"?null:(Z=_&&Z[_]||Z["@@iterator"],typeof Z=="function"?Z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function U(Z,A,z){this.props=Z,this.context=A,this.refs=O,this.updater=z||w}U.prototype.isReactComponent={},U.prototype.setState=function(Z,A){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,A,"setState")},U.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function j(){}j.prototype=U.prototype;function H(Z,A,z){this.props=Z,this.context=A,this.refs=O,this.updater=z||w}var X=H.prototype=new j;X.constructor=H,R(X,U.prototype),X.isPureReactComponent=!0;var he=Array.isArray,be=Object.prototype.hasOwnProperty,Ne={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function C(Z,A,z){var J,te={},ae=null,oe=null;if(A!=null)for(J in A.ref!==void 0&&(oe=A.ref),A.key!==void 0&&(ae=""+A.key),A)be.call(A,J)&&!B.hasOwnProperty(J)&&(te[J]=A[J]);var ue=arguments.length-2;if(ue===1)te.children=z;else if(1<ue){for(var Ae=Array(ue),We=0;We<ue;We++)Ae[We]=arguments[We+2];te.children=Ae}if(Z&&Z.defaultProps)for(J in ue=Z.defaultProps,ue)te[J]===void 0&&(te[J]=ue[J]);return{$$typeof:n,type:Z,key:ae,ref:oe,props:te,_owner:Ne.current}}function F(Z,A){return{$$typeof:n,type:Z.type,key:A,ref:Z.ref,props:Z.props,_owner:Z._owner}}function G(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function L(Z){var A={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(z){return A[z]})}var D=/\/+/g;function T(Z,A){return typeof Z=="object"&&Z!==null&&Z.key!=null?L(""+Z.key):A.toString(36)}function se(Z,A,z,J,te){var ae=typeof Z;(ae==="undefined"||ae==="boolean")&&(Z=null);var oe=!1;if(Z===null)oe=!0;else switch(ae){case"string":case"number":oe=!0;break;case"object":switch(Z.$$typeof){case n:case e:oe=!0}}if(oe)return oe=Z,te=te(oe),Z=J===""?"."+T(oe,0):J,he(te)?(z="",Z!=null&&(z=Z.replace(D,"$&/")+"/"),se(te,A,z,"",function(We){return We})):te!=null&&(G(te)&&(te=F(te,z+(!te.key||oe&&oe.key===te.key?"":(""+te.key).replace(D,"$&/")+"/")+Z)),A.push(te)),1;if(oe=0,J=J===""?".":J+":",he(Z))for(var ue=0;ue<Z.length;ue++){ae=Z[ue];var Ae=J+T(ae,ue);oe+=se(ae,A,z,Ae,te)}else if(Ae=S(Z),typeof Ae=="function")for(Z=Ae.call(Z),ue=0;!(ae=Z.next()).done;)ae=ae.value,Ae=J+T(ae,ue++),oe+=se(ae,A,z,Ae,te);else if(ae==="object")throw A=String(Z),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return oe}function Pe(Z,A,z){if(Z==null)return Z;var J=[],te=0;return se(Z,J,"","",function(ae){return A.call(z,ae,te++)}),J}function Ie(Z){if(Z._status===-1){var A=Z._result;A=A(),A.then(function(z){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=z)},function(z){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=z)}),Z._status===-1&&(Z._status=0,Z._result=A)}if(Z._status===1)return Z._result.default;throw Z._result}var we={current:null},ie={transition:null},_e={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Ne};function fe(){throw Error("act(...) is not supported in production builds of React.")}return on.Children={map:Pe,forEach:function(Z,A,z){Pe(Z,function(){A.apply(this,arguments)},z)},count:function(Z){var A=0;return Pe(Z,function(){A++}),A},toArray:function(Z){return Pe(Z,function(A){return A})||[]},only:function(Z){if(!G(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},on.Component=U,on.Fragment=t,on.Profiler=s,on.PureComponent=H,on.StrictMode=r,on.Suspense=h,on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,on.act=fe,on.cloneElement=function(Z,A,z){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var J=R({},Z.props),te=Z.key,ae=Z.ref,oe=Z._owner;if(A!=null){if(A.ref!==void 0&&(ae=A.ref,oe=Ne.current),A.key!==void 0&&(te=""+A.key),Z.type&&Z.type.defaultProps)var ue=Z.type.defaultProps;for(Ae in A)be.call(A,Ae)&&!B.hasOwnProperty(Ae)&&(J[Ae]=A[Ae]===void 0&&ue!==void 0?ue[Ae]:A[Ae])}var Ae=arguments.length-2;if(Ae===1)J.children=z;else if(1<Ae){ue=Array(Ae);for(var We=0;We<Ae;We++)ue[We]=arguments[We+2];J.children=ue}return{$$typeof:n,type:Z.type,key:te,ref:ae,props:J,_owner:oe}},on.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:o,_context:Z},Z.Consumer=Z},on.createElement=C,on.createFactory=function(Z){var A=C.bind(null,Z);return A.type=Z,A},on.createRef=function(){return{current:null}},on.forwardRef=function(Z){return{$$typeof:u,render:Z}},on.isValidElement=G,on.lazy=function(Z){return{$$typeof:y,_payload:{_status:-1,_result:Z},_init:Ie}},on.memo=function(Z,A){return{$$typeof:p,type:Z,compare:A===void 0?null:A}},on.startTransition=function(Z){var A=ie.transition;ie.transition={};try{Z()}finally{ie.transition=A}},on.unstable_act=fe,on.useCallback=function(Z,A){return we.current.useCallback(Z,A)},on.useContext=function(Z){return we.current.useContext(Z)},on.useDebugValue=function(){},on.useDeferredValue=function(Z){return we.current.useDeferredValue(Z)},on.useEffect=function(Z,A){return we.current.useEffect(Z,A)},on.useId=function(){return we.current.useId()},on.useImperativeHandle=function(Z,A,z){return we.current.useImperativeHandle(Z,A,z)},on.useInsertionEffect=function(Z,A){return we.current.useInsertionEffect(Z,A)},on.useLayoutEffect=function(Z,A){return we.current.useLayoutEffect(Z,A)},on.useMemo=function(Z,A){return we.current.useMemo(Z,A)},on.useReducer=function(Z,A,z){return we.current.useReducer(Z,A,z)},on.useRef=function(Z){return we.current.useRef(Z)},on.useState=function(Z){return we.current.useState(Z)},on.useSyncExternalStore=function(Z,A,z){return we.current.useSyncExternalStore(Z,A,z)},on.useTransition=function(){return we.current.useTransition()},on.version="18.3.1",on}var u2;function Yg(){return u2||(u2=1,km.exports=dx()),km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function fx(){if(c2)return Oh;c2=1;var n=Yg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var y,_={},S=null,w=null;p!==void 0&&(S=""+p),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)r.call(h,y)&&!o.hasOwnProperty(y)&&(_[y]=h[y]);if(u&&u.defaultProps)for(y in h=u.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:e,type:u,key:S,ref:w,props:_,_owner:s.current}}return Oh.Fragment=t,Oh.jsx=l,Oh.jsxs=l,Oh}var h2;function px(){return h2||(h2=1,Am.exports=fx()),Am.exports}var N=px(),ce=Yg(),uf={},Nm={exports:{}},ws={},Im={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function mx(){return d2||(d2=1,function(n){function e(ie,_e){var fe=ie.length;ie.push(_e);e:for(;0<fe;){var Z=fe-1>>>1,A=ie[Z];if(0<s(A,_e))ie[Z]=_e,ie[fe]=A,fe=Z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var _e=ie[0],fe=ie.pop();if(fe!==_e){ie[0]=fe;e:for(var Z=0,A=ie.length,z=A>>>1;Z<z;){var J=2*(Z+1)-1,te=ie[J],ae=J+1,oe=ie[ae];if(0>s(te,fe))ae<A&&0>s(oe,te)?(ie[Z]=oe,ie[ae]=fe,Z=ae):(ie[Z]=te,ie[J]=fe,Z=J);else if(ae<A&&0>s(oe,fe))ie[Z]=oe,ie[ae]=fe,Z=ae;else break e}}return _e}function s(ie,_e){var fe=ie.sortIndex-_e.sortIndex;return fe!==0?fe:ie.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],y=1,_=null,S=3,w=!1,R=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ie){for(var _e=t(p);_e!==null;){if(_e.callback===null)r(p);else if(_e.startTime<=ie)r(p),_e.sortIndex=_e.expirationTime,e(h,_e);else break;_e=t(p)}}function he(ie){if(O=!1,X(ie),!R)if(t(h)!==null)R=!0,Ie(be);else{var _e=t(p);_e!==null&&we(he,_e.startTime-ie)}}function be(ie,_e){R=!1,O&&(O=!1,j(C),C=-1),w=!0;var fe=S;try{for(X(_e),_=t(h);_!==null&&(!(_.expirationTime>_e)||ie&&!L());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,S=_.priorityLevel;var A=Z(_.expirationTime<=_e);_e=n.unstable_now(),typeof A=="function"?_.callback=A:_===t(h)&&r(h),X(_e)}else r(h);_=t(h)}if(_!==null)var z=!0;else{var J=t(p);J!==null&&we(he,J.startTime-_e),z=!1}return z}finally{_=null,S=fe,w=!1}}var Ne=!1,B=null,C=-1,F=5,G=-1;function L(){return!(n.unstable_now()-G<F)}function D(){if(B!==null){var ie=n.unstable_now();G=ie;var _e=!0;try{_e=B(!0,ie)}finally{_e?T():(Ne=!1,B=null)}}else Ne=!1}var T;if(typeof H=="function")T=function(){H(D)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Pe=se.port2;se.port1.onmessage=D,T=function(){Pe.postMessage(null)}}else T=function(){U(D,0)};function Ie(ie){B=ie,Ne||(Ne=!0,T())}function we(ie,_e){C=U(function(){ie(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){R||w||(R=!0,Ie(be))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var _e=3;break;default:_e=S}var fe=S;S=_e;try{return ie()}finally{S=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=S;S=ie;try{return _e()}finally{S=fe}},n.unstable_scheduleCallback=function(ie,_e,fe){var Z=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Z+fe:Z):fe=Z,ie){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=fe+A,ie={id:y++,callback:_e,priorityLevel:ie,startTime:fe,expirationTime:A,sortIndex:-1},fe>Z?(ie.sortIndex=fe,e(p,ie),t(h)===null&&ie===t(p)&&(O?(j(C),C=-1):O=!0,we(he,fe-Z))):(ie.sortIndex=A,e(h,ie),R||w||(R=!0,Ie(be))),ie},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ie){var _e=S;return function(){var fe=S;S=_e;try{return ie.apply(this,arguments)}finally{S=fe}}}}(Tm)),Tm}var f2;function gx(){return f2||(f2=1,Im.exports=mx()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function yx(){if(p2)return ws;p2=1;var n=Yg(),e=gx();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function S(i){return h.call(_,i)?!0:h.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function w(i,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,a,c,m){if(a===null||typeof a>"u"||w(i,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function O(i,a,c,m,b,k,$){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=k,this.removeEmptyString=$}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){U[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];U[a]=new O(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){U[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){U[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){U[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){U[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){U[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){U[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){U[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function H(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(j,H);U[a]=new O(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(j,H);U[a]=new O(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(j,H);U[a]=new O(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){U[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),U.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){U[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function X(i,a,c,m){var b=U.hasOwnProperty(a)?U[a]:null;(b!==null?b.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,c,b,m)&&(c=null),m||b===null?S(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):b.mustUseProperty?i[b.propertyName]=c===null?b.type===3?!1:"":c:(a=b.attributeName,m=b.attributeNamespace,c===null?i.removeAttribute(a):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,m?i.setAttributeNS(m,a,c):i.setAttribute(a,c))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ie=Symbol.iterator;function _e(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var fe=Object.assign,Z;function A(i){if(Z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Z=a&&a[1]||""}return`
`+Z+i}var z=!1;function J(i,a){if(!i||z)return"";z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(je){var m=je}Reflect.construct(i,[],a)}else{try{a.call()}catch(je){m=je}i.call(a.prototype)}else{try{throw Error()}catch(je){m=je}i()}}catch(je){if(je&&m&&typeof je.stack=="string"){for(var b=je.stack.split(`
`),k=m.stack.split(`
`),$=b.length-1,le=k.length-1;1<=$&&0<=le&&b[$]!==k[le];)le--;for(;1<=$&&0<=le;$--,le--)if(b[$]!==k[le]){if($!==1||le!==1)do if($--,le--,0>le||b[$]!==k[le]){var me=`
`+b[$].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=$&&0<=le);break}}}finally{z=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?A(i):""}function te(i){switch(i.tag){case 5:return A(i.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return i=J(i.type,!1),i;case 11:return i=J(i.type.render,!1),i;case 1:return i=J(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case Ne:return"Portal";case F:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case se:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case G:return(i._context.displayName||"Context")+".Provider";case D:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Pe:return a=i.displayName||null,a!==null?a:ae(i.type)||"Memo";case Ie:a=i._payload,i=i._init;try{return ae(i(a))}catch{}}return null}function oe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(i){var a=Ae(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,k=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function($){m=""+$,k.call(this,$)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function $e(i){i._valueTracker||(i._valueTracker=We(i))}function Ye(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return i&&(m=Ae(i)?i.checked?"true":"false":i.value),i=m,i!==c?(a.setValue(i),!0):!1}function it(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function kt(i,a){var c=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Me(i,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=ue(a.value!=null?a.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ne(i,a){a=a.checked,a!=null&&X(i,"checked",a,!1)}function _t(i,a){ne(i,a);var c=ue(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ze(i,a.type,c):a.hasOwnProperty("defaultValue")&&Ze(i,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ft(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Ze(i,a,c){(a!=="number"||it(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var nt=Array.isArray;function st(i,a,c,m){if(i=i.options,a){a={};for(var b=0;b<c.length;b++)a["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=a.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&m&&(i[c].defaultSelected=!0)}else{for(c=""+ue(c),a=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function lt(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function xt(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(nt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:ue(c)}}function Rt(i,a){var c=ue(a.value),m=ue(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function Ut(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zt,Ct=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,b){MSApp.execUnsafeLocalFunction(function(){return i(a,c,m,b)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Zt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function $t(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qn=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(i){qn.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ut[a]=ut[i]})});function tn(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||ut.hasOwnProperty(i)&&ut[i]?(""+a).trim():a+"px"}function Pr(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,b=tn(c,a[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,b):i[c]=b}}var hn=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(i,a){if(a){if(hn[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function or(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function $r(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var dn=null,Dn=null,ve=null;function Oe(i){if(i=zl(i)){if(typeof dn!="function")throw Error(t(280));var a=i.stateNode;a&&(a=ju(a),dn(i.stateNode,i.type,a))}}function ze(i){Dn?ve?ve.push(i):ve=[i]:Dn=i}function tt(){if(Dn){var i=Dn,a=ve;if(ve=Dn=null,Oe(i),a)for(i=0;i<a.length;i++)Oe(a[i])}}function mt(i,a){return i(a)}function Nt(){}var Ft=!1;function an(i,a,c){if(Ft)return i(a,c);Ft=!0;try{return mt(i,a,c)}finally{Ft=!1,(Dn!==null||ve!==null)&&(Nt(),tt())}}function at(i,a){var c=i.stateNode;if(c===null)return null;var m=ju(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Zn=!1;if(u)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Zn=!1}function dr(i,a,c,m,b,k,$,le,me){var je=Array.prototype.slice.call(arguments,3);try{a.apply(c,je)}catch(et){this.onError(et)}}var Mn=!1,Vn=null,Wn=!1,qs=null,Ss={onError:function(i){Mn=!0,Vn=i}};function Hr(i,a,c,m,b,k,$,le,me){Mn=!1,Vn=null,dr.apply(Ss,arguments)}function bi(i,a,c,m,b,k,$,le,me){if(Hr.apply(this,arguments),Mn){if(Mn){var je=Vn;Mn=!1,Vn=null}else throw Error(t(198));Wn||(Wn=!0,qs=je)}}function ar(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Wr(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function er(i){if(ar(i)!==i)throw Error(t(188))}function zi(i){var a=i.alternate;if(!a){if(a=ar(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,m=a;;){var b=c.return;if(b===null)break;var k=b.alternate;if(k===null){if(m=b.return,m!==null){c=m;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===c)return er(b),i;if(k===m)return er(b),a;k=k.sibling}throw Error(t(188))}if(c.return!==m.return)c=b,m=k;else{for(var $=!1,le=b.child;le;){if(le===c){$=!0,c=b,m=k;break}if(le===m){$=!0,m=b,c=k;break}le=le.sibling}if(!$){for(le=k.child;le;){if(le===c){$=!0,c=k,m=b;break}if(le===m){$=!0,m=k,c=b;break}le=le.sibling}if(!$)throw Error(t(189))}}if(c.alternate!==m)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function Es(i){return i=zi(i),i!==null?As(i):null}function As(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=As(i);if(a!==null)return a;i=i.sibling}return null}var ks=e.unstable_scheduleCallback,$s=e.unstable_cancelCallback,vo=e.unstable_shouldYield,bl=e.unstable_requestPaint,Cn=e.unstable_now,xl=e.unstable_getCurrentPriorityLevel,ns=e.unstable_ImmediatePriority,Ns=e.unstable_UserBlockingPriority,xi=e.unstable_NormalPriority,wo=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Hs=null,oi=null;function _o(i){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(Hs,i,void 0,(i.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:Ma,Un=Math.log,Fa=Math.LN2;function Ma(i){return i>>>=0,i===0?32:31-(Un(i)/Fa|0)|0}var bo=64,Ws=4194304;function Gs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Rr(i,a){var c=i.pendingLanes;if(c===0)return 0;var m=0,b=i.suspendedLanes,k=i.pingedLanes,$=c&268435455;if($!==0){var le=$&~b;le!==0?m=Gs(le):(k&=$,k!==0&&(m=Gs(k)))}else $=c&~b,$!==0?m=Gs($):k!==0&&(m=Gs(k));if(m===0)return 0;if(a!==0&&a!==m&&(a&b)===0&&(b=m&-m,k=a&-a,b>=k||b===16&&(k&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)c=31-Lr(a),b=1<<c,m|=i[c],a&=~b;return m}function ia(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(i,a){for(var c=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,k=i.pendingLanes;0<k;){var $=31-Lr(k),le=1<<$,me=b[$];me===-1?((le&c)===0||(le&m)!==0)&&(b[$]=ia(le,a)):me<=a&&(i.expiredLanes|=le),k&=~le}}function Dr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ks(){var i=bo;return bo<<=1,(bo&4194240)===0&&(bo=64),i}function Qs(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Is(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Lr(a),i[a]=c}function An(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var b=31-Lr(c),k=1<<b;a[b]=0,m[b]=-1,i[b]=-1,c&=~k}}function Ts(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var m=31-Lr(c),b=1<<m;b&a|i[m]&a&&(i[m]|=a),c&=~b}}var nn=0;function rs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var El,sa,Al,is,xo,Ys=!1,qi=[],fn=null,$i=null,Si=null,Dt=new Map,Ei=new Map,ss=[],os="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Va(i,a){switch(i){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Dt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(a.pointerId)}}function Or(i,a,c,m,b,k){return i===null||i.nativeEvent!==k?(i={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:k,targetContainers:[b]},a!==null&&(a=zl(a),a!==null&&sa(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function oa(i,a,c,m,b){switch(a){case"focusin":return fn=Or(fn,i,a,c,m,b),!0;case"dragenter":return $i=Or($i,i,a,c,m,b),!0;case"mouseover":return Si=Or(Si,i,a,c,m,b),!0;case"pointerover":var k=b.pointerId;return Dt.set(k,Or(Dt.get(k)||null,i,a,c,m,b)),!0;case"gotpointercapture":return k=b.pointerId,Ei.set(k,Or(Ei.get(k)||null,i,a,c,m,b)),!0}return!1}function aa(i){var a=ga(i.target);if(a!==null){var c=ar(a);if(c!==null){if(a=c.tag,a===13){if(a=Wr(c),a!==null){i.blockedOn=a,xo(i.priority,function(){Al(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cs(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Eo(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);en=m,c.target.dispatchEvent(m),en=null}else return a=zl(c),a!==null&&sa(a),i.blockedOn=c,!1;a.shift()}return!0}function So(i,a,c){Cs(i)&&c.delete(a)}function kl(){Ys=!1,fn!==null&&Cs(fn)&&(fn=null),$i!==null&&Cs($i)&&($i=null),Si!==null&&Cs(Si)&&(Si=null),Dt.forEach(So),Ei.forEach(So)}function ai(i,a){i.blockedOn===a&&(i.blockedOn=null,Ys||(Ys=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kl)))}function jr(i){function a(b){return ai(b,i)}if(0<qi.length){ai(qi[0],i);for(var c=1;c<qi.length;c++){var m=qi[c];m.blockedOn===i&&(m.blockedOn=null)}}for(fn!==null&&ai(fn,i),$i!==null&&ai($i,i),Si!==null&&ai(Si,i),Dt.forEach(a),Ei.forEach(a),c=0;c<ss.length;c++)m=ss[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<ss.length&&(c=ss[0],c.blockedOn===null);)aa(c),c.blockedOn===null&&ss.shift()}var Gr=he.ReactCurrentBatchConfig,Js=!0;function _n(i,a,c,m){var b=nn,k=Gr.transition;Gr.transition=null;try{nn=1,Xs(i,a,c,m)}finally{nn=b,Gr.transition=k}}function Ua(i,a,c,m){var b=nn,k=Gr.transition;Gr.transition=null;try{nn=4,Xs(i,a,c,m)}finally{nn=b,Gr.transition=k}}function Xs(i,a,c,m){if(Js){var b=Eo(i,a,c,m);if(b===null)Ru(i,a,m,Zs,c),Va(i,m);else if(oa(b,i,a,c,m))m.stopPropagation();else if(Va(i,m),a&4&&-1<os.indexOf(i)){for(;b!==null;){var k=zl(b);if(k!==null&&El(k),k=Eo(i,a,c,m),k===null&&Ru(i,a,m,Zs,c),k===b)break;b=k}b!==null&&m.stopPropagation()}else Ru(i,a,m,null,c)}}var Zs=null;function Eo(i,a,c,m){if(Zs=null,i=$r(m),i=ga(i),i!==null)if(a=ar(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Wr(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Zs=i,null}function la(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xl()){case ns:return 1;case Ns:return 4;case xi:case wo:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var Kr=null,li=null,nr=null;function Ba(){if(nr)return nr;var i,a=li,c=a.length,m,b="value"in Kr?Kr.value:Kr.textContent,k=b.length;for(i=0;i<c&&a[i]===b[i];i++);var $=c-i;for(m=1;m<=$&&a[c-m]===b[k-m];m++);return nr=b.slice(i,1<m?1-m:void 0)}function Hi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function Ao(){return!1}function Gn(i){function a(c,m,b,k,$){this._reactName=c,this._targetInst=b,this.type=m,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var le in i)i.hasOwnProperty(le)&&(c=i[le],this[le]=c?c(k):k[le]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?fr:Ao,this.isPropagationStopped=Ao,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),a}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Gn(Wi),as=fe({},Wi,{view:0,detail:0}),za=Gn(as),eo,ls,Gi,Ls=fe({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ct,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(eo=i.screenX-Gi.screenX,ls=i.screenY-Gi.screenY):ls=eo=0,Gi=i),eo)},movementY:function(i){return"movementY"in i?i.movementY:ls}}),to=Gn(Ls),ua=fe({},Ls,{dataTransfer:0}),Nl=Gn(ua),Rs=fe({},as,{relatedTarget:0}),us=Gn(Rs),ca=fe({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Gn(ca),ha=fe({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),v=Gn(ha),V=fe({},Wi,{data:0}),re=Gn(V),de={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qe(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ve[i])?!!a[i]:!1}function ct(){return Qe}var f=fe({},as,{key:function(i){if(i.key){var a=de[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ke[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ct,charCode:function(i){return i.type==="keypress"?Hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=Gn(f),P=fe({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q=Gn(P),Se=fe({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ct}),Re=Gn(Se),Je=fe({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gt=Gn(Je),sn=fe({},Ls,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kt=Gn(sn),bn=[9,13,27,32],kn=u&&"CompositionEvent"in window,ui=null;u&&"documentMode"in document&&(ui=document.documentMode);var Fr=u&&"TextEvent"in window&&!ui,Ds=u&&(!kn||ui&&8<ui&&11>=ui),Os=" ",Il=!1;function Tl(i,a){switch(i){case"keyup":return bn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rr=!1;function Cl(i,a){switch(i){case"compositionend":return qa(a);case"keypress":return a.which!==32?null:(Il=!0,Os);case"textInput":return i=a.data,i===Os&&Il?null:i;default:return null}}function Pl(i,a){if(rr)return i==="compositionend"||!kn&&Tl(i,a)?(i=Ba(),nr=li=Kr=null,rr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ds&&a.locale!=="ko"?null:a.data;default:return null}}var Ll={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rl(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ll[i.type]:a==="textarea"}function ci(i,a,c,m){ze(m),a=mc(a,"onChange"),0<a.length&&(c=new Ps("onChange","change",null,c,m),i.push({event:c,listeners:a}))}var $a=null,ko=null;function dc(i){Pu(i,0)}function hi(i){var a=Za(i);if(Ye(a))return i}function Dl(i,a){if(i==="change")return a}var Nu=!1;if(u){var Ol;if(u){var no="oninput"in document;if(!no){var da=document.createElement("div");da.setAttribute("oninput","return;"),no=typeof da.oninput=="function"}Ol=no}else Ol=!1;Nu=Ol&&(!document.documentMode||9<document.documentMode)}function di(){$a&&($a.detachEvent("onpropertychange",Yr),ko=$a=null)}function Yr(i){if(i.propertyName==="value"&&hi(ko)){var a=[];ci(a,ko,i,$r(i)),an(dc,a)}}function fa(i,a,c){i==="focusin"?(di(),$a=a,ko=c,$a.attachEvent("onpropertychange",Yr)):i==="focusout"&&di()}function No(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hi(ko)}function Io(i,a){if(i==="click")return hi(a)}function jl(i,a){if(i==="input"||i==="change")return hi(a)}function To(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vn=typeof Object.is=="function"?Object.is:To;function Co(i,a){if(vn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var b=c[m];if(!h.call(a,b)||!vn(i[b],a[b]))return!1}return!0}function Jr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ki(i,a){var c=Jr(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=a&&m>=a)return{node:c,offset:a-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jr(c)}}function Ha(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ha(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Iu(){for(var i=window,a=it();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=it(i.document)}return a}function Wa(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Ga(i){var a=Iu(),c=i.focusedElem,m=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Ha(c.ownerDocument.documentElement,c)){if(m!==null&&Wa(c)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var b=c.textContent.length,k=Math.min(m.start,b);m=m.end===void 0?k:Math.min(m.end,b),!i.extend&&k>m&&(b=m,m=k,k=b),b=Ki(c,k);var $=Ki(c,m);b&&$&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),i.removeAllRanges(),k>m?(i.addRange(a),i.extend($.node,$.offset)):(a.setEnd($.node,$.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ka=u&&"documentMode"in document&&11>=document.documentMode,Qi=null,Po=null,ro=null,Lo=!1;function Ro(i,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lo||Qi==null||Qi!==it(m)||(m=Qi,"selectionStart"in m&&Wa(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ro&&Co(ro,m)||(ro=m,m=mc(Po,"onSelect"),0<m.length&&(a=new Ps("onSelect","select",null,a,c),i.push({event:a,listeners:m}),a.target=Qi)))}function pa(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Mr={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Ai={},On={};u&&(On=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Nn(i){if(Ai[i])return Ai[i];if(!Mr[i])return i;var a=Mr[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in On)return Ai[i]=a[c];return i}var ir=Nn("animationend"),pr=Nn("animationiteration"),io=Nn("animationstart"),Fl=Nn("transitionend"),Qa=new Map,Tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(i,a){Qa.set(i,a),o(a,[i])}for(var Ml=0;Ml<Tu.length;Ml++){var fi=Tu[Ml],cs=fi.toLowerCase(),fc=fi[0].toUpperCase()+fi.slice(1);so(cs,"on"+fc)}so(ir,"onAnimationEnd"),so(pr,"onAnimationIteration"),so(io,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(Fl,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Cu(i,a,c){var m=i.type||"unknown-event";i.currentTarget=c,bi(m,a,void 0,i),i.currentTarget=null}function Pu(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],b=m.event;m=m.listeners;e:{var k=void 0;if(a)for(var $=m.length-1;0<=$;$--){var le=m[$],me=le.instance,je=le.currentTarget;if(le=le.listener,me!==k&&b.isPropagationStopped())break e;Cu(b,le,je),k=me}else for($=0;$<m.length;$++){if(le=m[$],me=le.instance,je=le.currentTarget,le=le.listener,me!==k&&b.isPropagationStopped())break e;Cu(b,le,je),k=me}}}if(Wn)throw i=qs,Wn=!1,qs=null,i}function jn(i,a){var c=a[Ni];c===void 0&&(c=a[Ni]=new Set);var m=i+"__bubble";c.has(m)||(Lu(a,i,2,!1),c.add(m))}function pc(i,a,c){var m=0;a&&(m|=4),Lu(c,i,m,a)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Ya(i){if(!i[Vl]){i[Vl]=!0,r.forEach(function(c){c!=="selectionchange"&&(Id.has(c)||pc(c,!1,i),pc(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Vl]||(a[Vl]=!0,pc("selectionchange",!1,a))}}function Lu(i,a,c,m){switch(la(a)){case 1:var b=_n;break;case 4:b=Ua;break;default:b=Xs}c=b.bind(null,a,c,i),b=void 0,!Zn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(a,c,{capture:!0,passive:b}):i.addEventListener(a,c,!0):b!==void 0?i.addEventListener(a,c,{passive:b}):i.addEventListener(a,c,!1)}function Ru(i,a,c,m,b){var k=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var $=m.tag;if($===3||$===4){var le=m.stateNode.containerInfo;if(le===b||le.nodeType===8&&le.parentNode===b)break;if($===4)for($=m.return;$!==null;){var me=$.tag;if((me===3||me===4)&&(me=$.stateNode.containerInfo,me===b||me.nodeType===8&&me.parentNode===b))return;$=$.return}for(;le!==null;){if($=ga(le),$===null)return;if(me=$.tag,me===5||me===6){m=k=$;continue e}le=le.parentNode}}m=m.return}an(function(){var je=k,et=$r(c),rt=[];e:{var Xe=Qa.get(i);if(Xe!==void 0){var yt=Ps,St=i;switch(i){case"keypress":if(Hi(c)===0)break e;case"keydown":case"keyup":yt=E;break;case"focusin":St="focus",yt=us;break;case"focusout":St="blur",yt=us;break;case"beforeblur":case"afterblur":yt=us;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Re;break;case ir:case pr:case io:yt=Qr;break;case Fl:yt=Gt;break;case"scroll":yt=za;break;case"wheel":yt=Kt;break;case"copy":case"cut":case"paste":yt=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Q}var At=(a&4)!==0,xr=!At&&i==="scroll",Le=At?Xe!==null?Xe+"Capture":null:Xe;At=[];for(var xe=je,De;xe!==null;){De=xe;var ot=De.stateNode;if(De.tag===5&&ot!==null&&(De=ot,Le!==null&&(ot=at(xe,Le),ot!=null&&At.push(Du(xe,ot,De)))),xr)break;xe=xe.return}0<At.length&&(Xe=new yt(Xe,St,null,c,et),rt.push({event:Xe,listeners:At}))}}if((a&7)===0){e:{if(Xe=i==="mouseover"||i==="pointerover",yt=i==="mouseout"||i==="pointerout",Xe&&c!==en&&(St=c.relatedTarget||c.fromElement)&&(ga(St)||St[Xr]))break e;if((yt||Xe)&&(Xe=et.window===et?et:(Xe=et.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,yt?(St=c.relatedTarget||c.toElement,yt=je,St=St?ga(St):null,St!==null&&(xr=ar(St),St!==xr||St.tag!==5&&St.tag!==6)&&(St=null)):(yt=null,St=je),yt!==St)){if(At=to,ot="onMouseLeave",Le="onMouseEnter",xe="mouse",(i==="pointerout"||i==="pointerover")&&(At=Q,ot="onPointerLeave",Le="onPointerEnter",xe="pointer"),xr=yt==null?Xe:Za(yt),De=St==null?Xe:Za(St),Xe=new At(ot,xe+"leave",yt,c,et),Xe.target=xr,Xe.relatedTarget=De,ot=null,ga(et)===je&&(At=new At(Le,xe+"enter",St,c,et),At.target=De,At.relatedTarget=xr,ot=At),xr=ot,yt&&St)t:{for(At=yt,Le=St,xe=0,De=At;De;De=Ja(De))xe++;for(De=0,ot=Le;ot;ot=Ja(ot))De++;for(;0<xe-De;)At=Ja(At),xe--;for(;0<De-xe;)Le=Ja(Le),De--;for(;xe--;){if(At===Le||Le!==null&&At===Le.alternate)break t;At=Ja(At),Le=Ja(Le)}At=null}else At=null;yt!==null&&Td(rt,Xe,yt,At,!1),St!==null&&xr!==null&&Td(rt,xr,St,At,!0)}}e:{if(Xe=je?Za(je):window,yt=Xe.nodeName&&Xe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Xe.type==="file")var It=Dl;else if(Rl(Xe))if(Nu)It=jl;else{It=No;var Ot=fa}else(yt=Xe.nodeName)&&yt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(It=Io);if(It&&(It=It(i,je))){ci(rt,It,c,et);break e}Ot&&Ot(i,Xe,je),i==="focusout"&&(Ot=Xe._wrapperState)&&Ot.controlled&&Xe.type==="number"&&Ze(Xe,"number",Xe.value)}switch(Ot=je?Za(je):window,i){case"focusin":(Rl(Ot)||Ot.contentEditable==="true")&&(Qi=Ot,Po=je,ro=null);break;case"focusout":ro=Po=Qi=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Ro(rt,c,et);break;case"selectionchange":if(Ka)break;case"keydown":case"keyup":Ro(rt,c,et)}var jt;if(kn)e:{switch(i){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else rr?Tl(i,c)&&(Wt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Wt="onCompositionStart");Wt&&(Ds&&c.locale!=="ko"&&(rr||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&rr&&(jt=Ba()):(Kr=et,li="value"in Kr?Kr.value:Kr.textContent,rr=!0)),Ot=mc(je,Wt),0<Ot.length&&(Wt=new re(Wt,i,null,c,et),rt.push({event:Wt,listeners:Ot}),jt?Wt.data=jt:(jt=qa(c),jt!==null&&(Wt.data=jt)))),(jt=Fr?Cl(i,c):Pl(i,c))&&(je=mc(je,"onBeforeInput"),0<je.length&&(et=new re("onBeforeInput","beforeinput",null,c,et),rt.push({event:et,listeners:je}),et.data=jt))}Pu(rt,a)})}function Du(i,a,c){return{instance:i,listener:a,currentTarget:c}}function mc(i,a){for(var c=a+"Capture",m=[];i!==null;){var b=i,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=at(i,c),k!=null&&m.unshift(Du(i,k,b)),k=at(i,a),k!=null&&m.push(Du(i,k,b))),i=i.return}return m}function Ja(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Td(i,a,c,m,b){for(var k=a._reactName,$=[];c!==null&&c!==m;){var le=c,me=le.alternate,je=le.stateNode;if(me!==null&&me===m)break;le.tag===5&&je!==null&&(le=je,b?(me=at(c,k),me!=null&&$.unshift(Du(c,me,le))):b||(me=at(c,k),me!=null&&$.push(Du(c,me,le)))),c=c.return}$.length!==0&&i.push({event:a,listeners:$})}var Vp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Cd(i){return(typeof i=="string"?i:""+i).replace(Vp,`
`).replace(Up,"")}function gc(i,a,c){if(a=Cd(a),Cd(i)!==a&&c)throw Error(t(425))}function Ul(){}var Ou=null,Xa=null;function vh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,Pd=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(i){return Ld.resolve(null).then(i).catch(zp)}:wh;function zp(i){setTimeout(function(){throw i})}function _h(i,a){var c=a,m=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(m===0){i.removeChild(b),jr(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=b}while(c);jr(a)}function pi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function hs(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var ki=Math.random().toString(36).slice(2),oo="__reactFiber$"+ki,Bl="__reactProps$"+ki,Xr="__reactContainer$"+ki,Ni="__reactEvents$"+ki,qp="__reactListeners$"+ki,$p="__reactHandles$"+ki;function ga(i){var a=i[oo];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Xr]||c[oo]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=hs(i);i!==null;){if(c=i[oo])return c;i=hs(i)}return a}i=c,c=i.parentNode}return null}function zl(i){return i=i[oo]||i[Xr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Za(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ju(i){return i[Bl]||null}var bh=[],Do=-1;function js(i){return{current:i}}function In(i){0>Do||(i.current=bh[Do],bh[Do]=null,Do--)}function Pn(i,a){Do++,bh[Do]=i.current,i.current=a}var ya={},Vr=js(ya),Ii=js(!1),el=ya;function ql(i,a){var c=i.type.contextTypes;if(!c)return ya;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in c)b[k]=a[k];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=b),b}function Ti(i){return i=i.childContextTypes,i!=null}function yc(){In(Ii),In(Vr)}function Rd(i,a,c){if(Vr.current!==ya)throw Error(t(168));Pn(Vr,a),Pn(Ii,c)}function xh(i,a,c){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var b in m)if(!(b in a))throw Error(t(108,oe(i)||"Unknown",b));return fe({},c,m)}function tl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ya,el=Vr.current,Pn(Vr,i),Pn(Ii,Ii.current),!0}function Dd(i,a,c){var m=i.stateNode;if(!m)throw Error(t(169));c?(i=xh(i,a,el),m.__reactInternalMemoizedMergedChildContext=i,In(Ii),In(Vr),Pn(Vr,i)):In(Ii),Pn(Ii,c)}var Oo=null,Fu=!1,d=!1;function g(i){Oo===null?Oo=[i]:Oo.push(i)}function x(i){Fu=!0,g(i)}function I(){if(!d&&Oo!==null){d=!0;var i=0,a=nn;try{var c=Oo;for(nn=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Oo=null,Fu=!1}catch(b){throw Oo!==null&&(Oo=Oo.slice(i+1)),ks(ns,I),b}finally{nn=a,d=!1}}return null}var M=[],q=0,W=null,K=0,Y=[],ee=0,pe=null,Te=1,Ce="";function Ee(i,a){M[q++]=K,M[q++]=W,W=i,K=a}function He(i,a,c){Y[ee++]=Te,Y[ee++]=Ce,Y[ee++]=pe,pe=i;var m=Te;i=Ce;var b=32-Lr(m)-1;m&=~(1<<b),c+=1;var k=32-Lr(a)+b;if(30<k){var $=b-b%5;k=(m&(1<<$)-1).toString(32),m>>=$,b-=$,Te=1<<32-Lr(a)+b|c<<b|m,Ce=k+i}else Te=1<<k|c<<b|m,Ce=i}function Fe(i){i.return!==null&&(Ee(i,1),He(i,1,0))}function ge(i){for(;i===W;)W=M[--q],M[q]=null,K=M[--q],M[q]=null;for(;i===pe;)pe=Y[--ee],Y[ee]=null,Ce=Y[--ee],Y[ee]=null,Te=Y[--ee],Y[ee]=null}var ye=null,Be=null,Ue=!1,qe=null;function gt(i,a){var c=fo(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function ht(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,ye=i,Be=pi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,ye=i,Be=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=pe!==null?{id:Te,overflow:Ce}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=fo(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,ye=i,Be=null,!0):!1;default:return!1}}function Pt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dt(i){if(Ue){var a=Be;if(a){var c=a;if(!ht(i,a)){if(Pt(i))throw Error(t(418));a=pi(c.nextSibling);var m=ye;a&&ht(i,a)?gt(m,c):(i.flags=i.flags&-4097|2,Ue=!1,ye=i)}}else{if(Pt(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ue=!1,ye=i}}}function pn(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ye=i}function mn(i){if(i!==ye)return!1;if(!Ue)return pn(i),Ue=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!vh(i.type,i.memoizedProps)),a&&(a=Be)){if(Pt(i))throw ln(),Error(t(418));for(;a;)gt(i,a),a=pi(a.nextSibling)}if(pn(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Be=pi(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Be=null}}else Be=ye?pi(i.stateNode.nextSibling):null;return!0}function ln(){for(var i=Be;i;)i=pi(i.nextSibling)}function Xt(){Be=ye=null,Ue=!1}function Tn(i){qe===null?qe=[i]:qe.push(i)}var Ln=he.ReactCurrentBatchConfig;function Ht(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var m=c.stateNode}if(!m)throw Error(t(147,i));var b=m,k=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function($){var le=b.refs;$===null?delete le[k]:le[k]=$},a._stringRef=k,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function Kn(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function mi(i){var a=i._init;return a(i._payload)}function lr(i){function a(Le,xe){if(i){var De=Le.deletions;De===null?(Le.deletions=[xe],Le.flags|=16):De.push(xe)}}function c(Le,xe){if(!i)return null;for(;xe!==null;)a(Le,xe),xe=xe.sibling;return null}function m(Le,xe){for(Le=new Map;xe!==null;)xe.key!==null?Le.set(xe.key,xe):Le.set(xe.index,xe),xe=xe.sibling;return Le}function b(Le,xe){return Le=tu(Le,xe),Le.index=0,Le.sibling=null,Le}function k(Le,xe,De){return Le.index=De,i?(De=Le.alternate,De!==null?(De=De.index,De<xe?(Le.flags|=2,xe):De):(Le.flags|=2,xe)):(Le.flags|=1048576,xe)}function $(Le){return i&&Le.alternate===null&&(Le.flags|=2),Le}function le(Le,xe,De,ot){return xe===null||xe.tag!==6?(xe=wm(De,Le.mode,ot),xe.return=Le,xe):(xe=b(xe,De),xe.return=Le,xe)}function me(Le,xe,De,ot){var It=De.type;return It===B?et(Le,xe,De.props.children,ot,De.key):xe!==null&&(xe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ie&&mi(It)===xe.type)?(ot=b(xe,De.props),ot.ref=Ht(Le,xe,De),ot.return=Le,ot):(ot=ef(De.type,De.key,De.props,null,Le.mode,ot),ot.ref=Ht(Le,xe,De),ot.return=Le,ot)}function je(Le,xe,De,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=_m(De,Le.mode,ot),xe.return=Le,xe):(xe=b(xe,De.children||[]),xe.return=Le,xe)}function et(Le,xe,De,ot,It){return xe===null||xe.tag!==7?(xe=Hu(De,Le.mode,ot,It),xe.return=Le,xe):(xe=b(xe,De),xe.return=Le,xe)}function rt(Le,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=wm(""+xe,Le.mode,De),xe.return=Le,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case be:return De=ef(xe.type,xe.key,xe.props,null,Le.mode,De),De.ref=Ht(Le,null,xe),De.return=Le,De;case Ne:return xe=_m(xe,Le.mode,De),xe.return=Le,xe;case Ie:var ot=xe._init;return rt(Le,ot(xe._payload),De)}if(nt(xe)||_e(xe))return xe=Hu(xe,Le.mode,De,null),xe.return=Le,xe;Kn(Le,xe)}return null}function Xe(Le,xe,De,ot){var It=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return It!==null?null:le(Le,xe,""+De,ot);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case be:return De.key===It?me(Le,xe,De,ot):null;case Ne:return De.key===It?je(Le,xe,De,ot):null;case Ie:return It=De._init,Xe(Le,xe,It(De._payload),ot)}if(nt(De)||_e(De))return It!==null?null:et(Le,xe,De,ot,null);Kn(Le,De)}return null}function yt(Le,xe,De,ot,It){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Le=Le.get(De)||null,le(xe,Le,""+ot,It);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case be:return Le=Le.get(ot.key===null?De:ot.key)||null,me(xe,Le,ot,It);case Ne:return Le=Le.get(ot.key===null?De:ot.key)||null,je(xe,Le,ot,It);case Ie:var Ot=ot._init;return yt(Le,xe,De,Ot(ot._payload),It)}if(nt(ot)||_e(ot))return Le=Le.get(De)||null,et(xe,Le,ot,It,null);Kn(xe,ot)}return null}function St(Le,xe,De,ot){for(var It=null,Ot=null,jt=xe,Wt=xe=0,ni=null;jt!==null&&Wt<De.length;Wt++){jt.index>Wt?(ni=jt,jt=null):ni=jt.sibling;var En=Xe(Le,jt,De[Wt],ot);if(En===null){jt===null&&(jt=ni);break}i&&jt&&En.alternate===null&&a(Le,jt),xe=k(En,xe,Wt),Ot===null?It=En:Ot.sibling=En,Ot=En,jt=ni}if(Wt===De.length)return c(Le,jt),Ue&&Ee(Le,Wt),It;if(jt===null){for(;Wt<De.length;Wt++)jt=rt(Le,De[Wt],ot),jt!==null&&(xe=k(jt,xe,Wt),Ot===null?It=jt:Ot.sibling=jt,Ot=jt);return Ue&&Ee(Le,Wt),It}for(jt=m(Le,jt);Wt<De.length;Wt++)ni=yt(jt,Le,Wt,De[Wt],ot),ni!==null&&(i&&ni.alternate!==null&&jt.delete(ni.key===null?Wt:ni.key),xe=k(ni,xe,Wt),Ot===null?It=ni:Ot.sibling=ni,Ot=ni);return i&&jt.forEach(function(nu){return a(Le,nu)}),Ue&&Ee(Le,Wt),It}function At(Le,xe,De,ot){var It=_e(De);if(typeof It!="function")throw Error(t(150));if(De=It.call(De),De==null)throw Error(t(151));for(var Ot=It=null,jt=xe,Wt=xe=0,ni=null,En=De.next();jt!==null&&!En.done;Wt++,En=De.next()){jt.index>Wt?(ni=jt,jt=null):ni=jt.sibling;var nu=Xe(Le,jt,En.value,ot);if(nu===null){jt===null&&(jt=ni);break}i&&jt&&nu.alternate===null&&a(Le,jt),xe=k(nu,xe,Wt),Ot===null?It=nu:Ot.sibling=nu,Ot=nu,jt=ni}if(En.done)return c(Le,jt),Ue&&Ee(Le,Wt),It;if(jt===null){for(;!En.done;Wt++,En=De.next())En=rt(Le,En.value,ot),En!==null&&(xe=k(En,xe,Wt),Ot===null?It=En:Ot.sibling=En,Ot=En);return Ue&&Ee(Le,Wt),It}for(jt=m(Le,jt);!En.done;Wt++,En=De.next())En=yt(jt,Le,Wt,En.value,ot),En!==null&&(i&&En.alternate!==null&&jt.delete(En.key===null?Wt:En.key),xe=k(En,xe,Wt),Ot===null?It=En:Ot.sibling=En,Ot=En);return i&&jt.forEach(function(hx){return a(Le,hx)}),Ue&&Ee(Le,Wt),It}function xr(Le,xe,De,ot){if(typeof De=="object"&&De!==null&&De.type===B&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case be:e:{for(var It=De.key,Ot=xe;Ot!==null;){if(Ot.key===It){if(It=De.type,It===B){if(Ot.tag===7){c(Le,Ot.sibling),xe=b(Ot,De.props.children),xe.return=Le,Le=xe;break e}}else if(Ot.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ie&&mi(It)===Ot.type){c(Le,Ot.sibling),xe=b(Ot,De.props),xe.ref=Ht(Le,Ot,De),xe.return=Le,Le=xe;break e}c(Le,Ot);break}else a(Le,Ot);Ot=Ot.sibling}De.type===B?(xe=Hu(De.props.children,Le.mode,ot,De.key),xe.return=Le,Le=xe):(ot=ef(De.type,De.key,De.props,null,Le.mode,ot),ot.ref=Ht(Le,xe,De),ot.return=Le,Le=ot)}return $(Le);case Ne:e:{for(Ot=De.key;xe!==null;){if(xe.key===Ot)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){c(Le,xe.sibling),xe=b(xe,De.children||[]),xe.return=Le,Le=xe;break e}else{c(Le,xe);break}else a(Le,xe);xe=xe.sibling}xe=_m(De,Le.mode,ot),xe.return=Le,Le=xe}return $(Le);case Ie:return Ot=De._init,xr(Le,xe,Ot(De._payload),ot)}if(nt(De))return St(Le,xe,De,ot);if(_e(De))return At(Le,xe,De,ot);Kn(Le,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,xe!==null&&xe.tag===6?(c(Le,xe.sibling),xe=b(xe,De),xe.return=Le,Le=xe):(c(Le,xe),xe=wm(De,Le.mode,ot),xe.return=Le,Le=xe),$(Le)):c(Le,xe)}return xr}var wr=lr(!0),xn=lr(!1),Zr=js(null),ei=null,Qn=null,_r=null;function Ur(){_r=Qn=ei=null}function Ci(i){var a=Zr.current;In(Zr),i._currentValue=a}function ds(i,a,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===c)break;i=i.return}}function Yn(i,a){ei=i,_r=Qn=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(gs=!0),i.firstContext=null)}function mr(i){var a=i._currentValue;if(_r!==i)if(i={context:i,memoizedValue:a,next:null},Qn===null){if(ei===null)throw Error(t(308));Qn=i,ei.dependencies={lanes:0,firstContext:i}}else Qn=Qn.next=i;return a}var Yi=null;function va(i){Yi===null?Yi=[i]:Yi.push(i)}function jo(i,a,c,m){var b=a.interleaved;return b===null?(c.next=c,va(a)):(c.next=b.next,b.next=c),a.interleaved=c,Sn(i,m)}function Sn(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var ao=!1;function vc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function ps(i,a,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(wn&2)!==0){var b=m.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),m.pending=a,Sn(i,c)}return b=m.interleaved,b===null?(a.next=a,va(m)):(a.next=b.next,b.next=a),m.interleaved=a,Sn(i,c)}function nl(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,Ts(i,c)}}function ms(i,a){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var b=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var $={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?b=k=$:k=k.next=$,c=c.next}while(c!==null);k===null?b=k=a:k=k.next=a}else b=k=a;c={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Fo(i,a,c,m){var b=i.updateQueue;ao=!1;var k=b.firstBaseUpdate,$=b.lastBaseUpdate,le=b.shared.pending;if(le!==null){b.shared.pending=null;var me=le,je=me.next;me.next=null,$===null?k=je:$.next=je,$=me;var et=i.alternate;et!==null&&(et=et.updateQueue,le=et.lastBaseUpdate,le!==$&&(le===null?et.firstBaseUpdate=je:le.next=je,et.lastBaseUpdate=me))}if(k!==null){var rt=b.baseState;$=0,et=je=me=null,le=k;do{var Xe=le.lane,yt=le.eventTime;if((m&Xe)===Xe){et!==null&&(et=et.next={eventTime:yt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var St=i,At=le;switch(Xe=a,yt=c,At.tag){case 1:if(St=At.payload,typeof St=="function"){rt=St.call(yt,rt,Xe);break e}rt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=At.payload,Xe=typeof St=="function"?St.call(yt,rt,Xe):St,Xe==null)break e;rt=fe({},rt,Xe);break e;case 2:ao=!0}}le.callback!==null&&le.lane!==0&&(i.flags|=64,Xe=b.effects,Xe===null?b.effects=[le]:Xe.push(le))}else yt={eventTime:yt,lane:Xe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},et===null?(je=et=yt,me=rt):et=et.next=yt,$|=Xe;if(le=le.next,le===null){if(le=b.shared.pending,le===null)break;Xe=le,le=Xe.next,Xe.next=null,b.lastBaseUpdate=Xe,b.shared.pending=null}}while(!0);if(et===null&&(me=rt),b.baseState=me,b.firstBaseUpdate=je,b.lastBaseUpdate=et,a=b.shared.interleaved,a!==null){b=a;do $|=b.lane,b=b.next;while(b!==a)}else k===null&&(b.shared.lanes=0);Bu|=$,i.lanes=$,i.memoizedState=rt}}function rl(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],b=m.callback;if(b!==null){if(m.callback=null,m=c,typeof b!="function")throw Error(t(191,b));b.call(m)}}}var $l={},Ji=js($l),Hl=js($l),wa=js($l);function Mo(i){if(i===$l)throw Error(t(174));return i}function Wl(i,a){switch(Pn(wa,a),Pn(Hl,i),Pn(Ji,$l),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Tt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Tt(a,i)}In(Ji),Pn(Ji,a)}function lo(){In(Ji),In(Hl),In(wa)}function Od(i){Mo(wa.current);var a=Mo(Ji.current),c=Tt(a,i.type);a!==c&&(Pn(Hl,i),Pn(Ji,c))}function Eh(i){Hl.current===i&&(In(Ji),In(Hl))}var Bn=js(0);function Fs(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ah=[];function kh(){for(var i=0;i<Ah.length;i++)Ah[i]._workInProgressVersionPrimary=null;Ah.length=0}var wc=he.ReactCurrentDispatcher,_c=he.ReactCurrentBatchConfig,uo=0,$n=null,gr=null,ur=null,Gl=!1,Vo=!1,Kl=0,Hp=0;function br(){throw Error(t(321))}function bc(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!vn(i[c],a[c]))return!1;return!0}function Mu(i,a,c,m,b,k){if(uo=k,$n=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wc.current=i===null||i.memoizedState===null?Fb:Mb,i=c(m,b),Vo){k=0;do{if(Vo=!1,Kl=0,25<=k)throw Error(t(301));k+=1,ur=gr=null,a.updateQueue=null,wc.current=Vb,i=c(m,b)}while(Vo)}if(wc.current=Ud,a=gr!==null&&gr.next!==null,uo=0,ur=gr=$n=null,Gl=!1,a)throw Error(t(300));return i}function co(){var i=Kl!==0;return Kl=0,i}function Ms(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?$n.memoizedState=ur=i:ur=ur.next=i,ur}function Xi(){if(gr===null){var i=$n.alternate;i=i!==null?i.memoizedState:null}else i=gr.next;var a=ur===null?$n.memoizedState:ur.next;if(a!==null)ur=a,gr=i;else{if(i===null)throw Error(t(310));gr=i,i={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},ur===null?$n.memoizedState=ur=i:ur=ur.next=i}return ur}function Vu(i,a){return typeof a=="function"?a(i):a}function xc(i){var a=Xi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var m=gr,b=m.baseQueue,k=c.pending;if(k!==null){if(b!==null){var $=b.next;b.next=k.next,k.next=$}m.baseQueue=b=k,c.pending=null}if(b!==null){k=b.next,m=m.baseState;var le=$=null,me=null,je=k;do{var et=je.lane;if((uo&et)===et)me!==null&&(me=me.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),m=je.hasEagerState?je.eagerState:i(m,je.action);else{var rt={lane:et,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};me===null?(le=me=rt,$=m):me=me.next=rt,$n.lanes|=et,Bu|=et}je=je.next}while(je!==null&&je!==k);me===null?$=m:me.next=le,vn(m,a.memoizedState)||(gs=!0),a.memoizedState=m,a.baseState=$,a.baseQueue=me,c.lastRenderedState=m}if(i=c.interleaved,i!==null){b=i;do k=b.lane,$n.lanes|=k,Bu|=k,b=b.next;while(b!==i)}else b===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function _a(i){var a=Xi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var m=c.dispatch,b=c.pending,k=a.memoizedState;if(b!==null){c.pending=null;var $=b=b.next;do k=i(k,$.action),$=$.next;while($!==b);vn(k,a.memoizedState)||(gs=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),c.lastRenderedState=k}return[k,m]}function jd(){}function Nh(i,a){var c=$n,m=Xi(),b=a(),k=!vn(m.memoizedState,b);if(k&&(m.memoizedState=b,gs=!0),m=m.queue,Ac(Md.bind(null,c,m,i),[i]),m.getSnapshot!==a||k||ur!==null&&ur.memoizedState.tag&1){if(c.flags|=2048,Zi(9,Ih.bind(null,c,m,b,a),void 0,null),ti===null)throw Error(t(349));(uo&30)!==0||Fd(c,a,b)}return b}function Fd(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=$n.updateQueue,a===null?(a={lastEffect:null,stores:null},$n.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Ih(i,a,c,m){a.value=c,a.getSnapshot=m,Ql(a)&&Sc(i)}function Md(i,a,c){return c(function(){Ql(a)&&Sc(i)})}function Ql(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!vn(i,c)}catch{return!0}}function Sc(i){var a=Sn(i,1);a!==null&&$o(a,i,1,-1)}function Uu(i){var a=Ms();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:i},a.queue=i,i=i.dispatch=jb.bind(null,$n,i),[a.memoizedState,i]}function Zi(i,a,c,m){return i={tag:i,create:a,destroy:c,deps:m,next:null},a=$n.updateQueue,a===null?(a={lastEffect:null,stores:null},$n.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,a.lastEffect=i)),i}function Uo(){return Xi().memoizedState}function Vs(i,a,c,m){var b=Ms();$n.flags|=i,b.memoizedState=Zi(1|a,c,void 0,m===void 0?null:m)}function il(i,a,c,m){var b=Xi();m=m===void 0?null:m;var k=void 0;if(gr!==null){var $=gr.memoizedState;if(k=$.destroy,m!==null&&bc(m,$.deps)){b.memoizedState=Zi(a,c,k,m);return}}$n.flags|=i,b.memoizedState=Zi(1|a,c,k,m)}function Ec(i,a){return Vs(8390656,8,i,a)}function Ac(i,a){return il(2048,8,i,a)}function Vd(i,a){return il(4,2,i,a)}function kc(i,a){return il(4,4,i,a)}function Nc(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function o1(i,a,c){return c=c!=null?c.concat([i]):null,il(4,4,Nc.bind(null,a,i),c)}function Wp(){}function a1(i,a){var c=Xi();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&bc(a,m[1])?m[0]:(c.memoizedState=[i,a],i)}function l1(i,a){var c=Xi();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&bc(a,m[1])?m[0]:(i=i(),c.memoizedState=[i,a],i)}function u1(i,a,c){return(uo&21)===0?(i.baseState&&(i.baseState=!1,gs=!0),i.memoizedState=c):(vn(c,a)||(c=Ks(),$n.lanes|=c,Bu|=c,i.baseState=!0),a)}function Db(i,a){var c=nn;nn=c!==0&&4>c?c:4,i(!0);var m=_c.transition;_c.transition={};try{i(!1),a()}finally{nn=c,_c.transition=m}}function c1(){return Xi().memoizedState}function Ob(i,a,c){var m=Zl(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},h1(i))d1(a,c);else if(c=jo(i,a,c,m),c!==null){var b=ts();$o(c,i,m,b),f1(c,a,m)}}function jb(i,a,c){var m=Zl(i),b={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(h1(i))d1(a,b);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var $=a.lastRenderedState,le=k($,c);if(b.hasEagerState=!0,b.eagerState=le,vn(le,$)){var me=a.interleaved;me===null?(b.next=b,va(a)):(b.next=me.next,me.next=b),a.interleaved=b;return}}catch{}finally{}c=jo(i,a,b,m),c!==null&&(b=ts(),$o(c,i,m,b),f1(c,a,m))}}function h1(i){var a=i.alternate;return i===$n||a!==null&&a===$n}function d1(i,a){Vo=Gl=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function f1(i,a,c){if((c&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,c|=m,a.lanes=c,Ts(i,c)}}var Ud={readContext:mr,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},Fb={readContext:mr,useCallback:function(i,a){return Ms().memoizedState=[i,a===void 0?null:a],i},useContext:mr,useEffect:Ec,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Vs(4194308,4,Nc.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Vs(4194308,4,i,a)},useInsertionEffect:function(i,a){return Vs(4,2,i,a)},useMemo:function(i,a){var c=Ms();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var m=Ms();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=Ob.bind(null,$n,i),[m.memoizedState,i]},useRef:function(i){var a=Ms();return i={current:i},a.memoizedState=i},useState:Uu,useDebugValue:Wp,useDeferredValue:function(i){return Ms().memoizedState=i},useTransition:function(){var i=Uu(!1),a=i[0];return i=Db.bind(null,i[1]),Ms().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var m=$n,b=Ms();if(Ue){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),ti===null)throw Error(t(349));(uo&30)!==0||Fd(m,a,c)}b.memoizedState=c;var k={value:c,getSnapshot:a};return b.queue=k,Ec(Md.bind(null,m,k,i),[i]),m.flags|=2048,Zi(9,Ih.bind(null,m,k,c,a),void 0,null),c},useId:function(){var i=Ms(),a=ti.identifierPrefix;if(Ue){var c=Ce,m=Te;c=(m&~(1<<32-Lr(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Kl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Hp++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Mb={readContext:mr,useCallback:a1,useContext:mr,useEffect:Ac,useImperativeHandle:o1,useInsertionEffect:Vd,useLayoutEffect:kc,useMemo:l1,useReducer:xc,useRef:Uo,useState:function(){return xc(Vu)},useDebugValue:Wp,useDeferredValue:function(i){var a=Xi();return u1(a,gr.memoizedState,i)},useTransition:function(){var i=xc(Vu)[0],a=Xi().memoizedState;return[i,a]},useMutableSource:jd,useSyncExternalStore:Nh,useId:c1,unstable_isNewReconciler:!1},Vb={readContext:mr,useCallback:a1,useContext:mr,useEffect:Ac,useImperativeHandle:o1,useInsertionEffect:Vd,useLayoutEffect:kc,useMemo:l1,useReducer:_a,useRef:Uo,useState:function(){return _a(Vu)},useDebugValue:Wp,useDeferredValue:function(i){var a=Xi();return gr===null?a.memoizedState=i:u1(a,gr.memoizedState,i)},useTransition:function(){var i=_a(Vu)[0],a=Xi().memoizedState;return[i,a]},useMutableSource:jd,useSyncExternalStore:Nh,useId:c1,unstable_isNewReconciler:!1};function Bo(i,a){if(i&&i.defaultProps){a=fe({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Gp(i,a,c,m){a=i.memoizedState,c=c(m,a),c=c==null?a:fe({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Bd={isMounted:function(i){return(i=i._reactInternals)?ar(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var m=ts(),b=Zl(i),k=fs(m,b);k.payload=a,c!=null&&(k.callback=c),a=ps(i,k,b),a!==null&&($o(a,i,b,m),nl(a,i,b))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var m=ts(),b=Zl(i),k=fs(m,b);k.tag=1,k.payload=a,c!=null&&(k.callback=c),a=ps(i,k,b),a!==null&&($o(a,i,b,m),nl(a,i,b))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=ts(),m=Zl(i),b=fs(c,m);b.tag=2,a!=null&&(b.callback=a),a=ps(i,b,m),a!==null&&($o(a,i,m,c),nl(a,i,m))}};function p1(i,a,c,m,b,k,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,k,$):a.prototype&&a.prototype.isPureReactComponent?!Co(c,m)||!Co(b,k):!0}function m1(i,a,c){var m=!1,b=ya,k=a.contextType;return typeof k=="object"&&k!==null?k=mr(k):(b=Ti(a)?el:Vr.current,m=a.contextTypes,k=(m=m!=null)?ql(i,b):ya),a=new a(c,k),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=k),a}function g1(i,a,c,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==i&&Bd.enqueueReplaceState(a,a.state,null)}function Kp(i,a,c,m){var b=i.stateNode;b.props=c,b.state=i.memoizedState,b.refs={},vc(i);var k=a.contextType;typeof k=="object"&&k!==null?b.context=mr(k):(k=Ti(a)?el:Vr.current,b.context=ql(i,k)),b.state=i.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(Gp(i,a,k,c),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&Bd.enqueueReplaceState(b,b.state,null),Fo(i,c,b,m),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Ic(i,a){try{var c="",m=a;do c+=te(m),m=m.return;while(m);var b=c}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:a,stack:b,digest:null}}function Qp(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function Yp(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Ub=typeof WeakMap=="function"?WeakMap:Map;function y1(i,a,c){c=fs(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){Kd||(Kd=!0,hm=m),Yp(i,a)},c}function v1(i,a,c){c=fs(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var b=a.value;c.payload=function(){return m(b)},c.callback=function(){Yp(i,a)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Yp(i,a),typeof m!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var $=a.stack;this.componentDidCatch(a.value,{componentStack:$!==null?$:""})}),c}function w1(i,a,c){var m=i.pingCache;if(m===null){m=i.pingCache=new Ub;var b=new Set;m.set(a,b)}else b=m.get(a),b===void 0&&(b=new Set,m.set(a,b));b.has(c)||(b.add(c),i=ex.bind(null,i,a,c),a.then(i,i))}function _1(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function b1(i,a,c,m,b){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=fs(-1,1),a.tag=2,ps(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var Bb=he.ReactCurrentOwner,gs=!1;function es(i,a,c,m){a.child=i===null?xn(a,null,c,m):wr(a,i.child,c,m)}function x1(i,a,c,m,b){c=c.render;var k=a.ref;return Yn(a,b),m=Mu(i,a,c,m,k,b),c=co(),i!==null&&!gs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,sl(i,a,b)):(Ue&&c&&Fe(a),a.flags|=1,es(i,a,m,b),a.child)}function S1(i,a,c,m,b){if(i===null){var k=c.type;return typeof k=="function"&&!vm(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=k,E1(i,a,k,m,b)):(i=ef(c.type,null,m,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(k=i.child,(i.lanes&b)===0){var $=k.memoizedProps;if(c=c.compare,c=c!==null?c:Co,c($,m)&&i.ref===a.ref)return sl(i,a,b)}return a.flags|=1,i=tu(k,m),i.ref=a.ref,i.return=a,a.child=i}function E1(i,a,c,m,b){if(i!==null){var k=i.memoizedProps;if(Co(k,m)&&i.ref===a.ref)if(gs=!1,a.pendingProps=m=k,(i.lanes&b)!==0)(i.flags&131072)!==0&&(gs=!0);else return a.lanes=i.lanes,sl(i,a,b)}return Jp(i,a,c,m,b)}function A1(i,a,c){var m=a.pendingProps,b=m.children,k=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Cc,Us),Us|=c;else{if((c&1073741824)===0)return i=k!==null?k.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Pn(Cc,Us),Us|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:c,Pn(Cc,Us),Us|=m}else k!==null?(m=k.baseLanes|c,a.memoizedState=null):m=c,Pn(Cc,Us),Us|=m;return es(i,a,b,c),a.child}function k1(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Jp(i,a,c,m,b){var k=Ti(c)?el:Vr.current;return k=ql(a,k),Yn(a,b),c=Mu(i,a,c,m,k,b),m=co(),i!==null&&!gs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,sl(i,a,b)):(Ue&&m&&Fe(a),a.flags|=1,es(i,a,c,b),a.child)}function N1(i,a,c,m,b){if(Ti(c)){var k=!0;tl(a)}else k=!1;if(Yn(a,b),a.stateNode===null)qd(i,a),m1(a,c,m),Kp(a,c,m,b),m=!0;else if(i===null){var $=a.stateNode,le=a.memoizedProps;$.props=le;var me=$.context,je=c.contextType;typeof je=="object"&&je!==null?je=mr(je):(je=Ti(c)?el:Vr.current,je=ql(a,je));var et=c.getDerivedStateFromProps,rt=typeof et=="function"||typeof $.getSnapshotBeforeUpdate=="function";rt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(le!==m||me!==je)&&g1(a,$,m,je),ao=!1;var Xe=a.memoizedState;$.state=Xe,Fo(a,m,$,b),me=a.memoizedState,le!==m||Xe!==me||Ii.current||ao?(typeof et=="function"&&(Gp(a,c,et,m),me=a.memoizedState),(le=ao||p1(a,c,le,m,Xe,me,je))?(rt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(a.flags|=4194308)):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=me),$.props=m,$.state=me,$.context=je,m=le):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{$=a.stateNode,Sh(i,a),le=a.memoizedProps,je=a.type===a.elementType?le:Bo(a.type,le),$.props=je,rt=a.pendingProps,Xe=$.context,me=c.contextType,typeof me=="object"&&me!==null?me=mr(me):(me=Ti(c)?el:Vr.current,me=ql(a,me));var yt=c.getDerivedStateFromProps;(et=typeof yt=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(le!==rt||Xe!==me)&&g1(a,$,m,me),ao=!1,Xe=a.memoizedState,$.state=Xe,Fo(a,m,$,b);var St=a.memoizedState;le!==rt||Xe!==St||Ii.current||ao?(typeof yt=="function"&&(Gp(a,c,yt,m),St=a.memoizedState),(je=ao||p1(a,c,je,m,Xe,St,me)||!1)?(et||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(m,St,me),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(m,St,me)),typeof $.componentDidUpdate=="function"&&(a.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof $.componentDidUpdate!="function"||le===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||le===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=St),$.props=m,$.state=St,$.context=me,m=je):(typeof $.componentDidUpdate!="function"||le===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||le===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=1024),m=!1)}return Xp(i,a,c,m,k,b)}function Xp(i,a,c,m,b,k){k1(i,a);var $=(a.flags&128)!==0;if(!m&&!$)return b&&Dd(a,c,!1),sl(i,a,k);m=a.stateNode,Bb.current=a;var le=$&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&$?(a.child=wr(a,i.child,null,k),a.child=wr(a,null,le,k)):es(i,a,le,k),a.memoizedState=m.state,b&&Dd(a,c,!0),a.child}function I1(i){var a=i.stateNode;a.pendingContext?Rd(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Rd(i,a.context,!1),Wl(i,a.containerInfo)}function T1(i,a,c,m,b){return Xt(),Tn(b),a.flags|=256,es(i,a,c,m),a.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(i){return{baseLanes:i,cachePool:null,transitions:null}}function C1(i,a,c){var m=a.pendingProps,b=Bn.current,k=!1,$=(a.flags&128)!==0,le;if((le=$)||(le=i!==null&&i.memoizedState===null?!1:(b&2)!==0),le?(k=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),Pn(Bn,b&1),i===null)return dt(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):($=m.children,i=m.fallback,k?(m=a.mode,k=a.child,$={mode:"hidden",children:$},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=$):k=tf($,m,0,null),i=Hu(i,m,c,null),k.return=a,i.return=a,k.sibling=i,a.child=k,a.child.memoizedState=em(c),a.memoizedState=Zp,i):tm(a,$));if(b=i.memoizedState,b!==null&&(le=b.dehydrated,le!==null))return zb(i,a,$,m,le,b,c);if(k){k=m.fallback,$=a.mode,b=i.child,le=b.sibling;var me={mode:"hidden",children:m.children};return($&1)===0&&a.child!==b?(m=a.child,m.childLanes=0,m.pendingProps=me,a.deletions=null):(m=tu(b,me),m.subtreeFlags=b.subtreeFlags&14680064),le!==null?k=tu(le,k):(k=Hu(k,$,c,null),k.flags|=2),k.return=a,m.return=a,m.sibling=k,a.child=m,m=k,k=a.child,$=i.child.memoizedState,$=$===null?em(c):{baseLanes:$.baseLanes|c,cachePool:null,transitions:$.transitions},k.memoizedState=$,k.childLanes=i.childLanes&~c,a.memoizedState=Zp,m}return k=i.child,i=k.sibling,m=tu(k,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=m,a.memoizedState=null,m}function tm(i,a){return a=tf({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function zd(i,a,c,m){return m!==null&&Tn(m),wr(a,i.child,null,c),i=tm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function zb(i,a,c,m,b,k,$){if(c)return a.flags&256?(a.flags&=-257,m=Qp(Error(t(422))),zd(i,a,$,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(k=m.fallback,b=a.mode,m=tf({mode:"visible",children:m.children},b,0,null),k=Hu(k,b,$,null),k.flags|=2,m.return=a,k.return=a,m.sibling=k,a.child=m,(a.mode&1)!==0&&wr(a,i.child,null,$),a.child.memoizedState=em($),a.memoizedState=Zp,k);if((a.mode&1)===0)return zd(i,a,$,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var le=m.dgst;return m=le,k=Error(t(419)),m=Qp(k,m,void 0),zd(i,a,$,m)}if(le=($&i.childLanes)!==0,gs||le){if(m=ti,m!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|$))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Sn(i,b),$o(m,i,b,-1))}return ym(),m=Qp(Error(t(421))),zd(i,a,$,m)}return b.data==="$?"?(a.flags|=128,a.child=i.child,a=tx.bind(null,i),b._reactRetry=a,null):(i=k.treeContext,Be=pi(b.nextSibling),ye=a,Ue=!0,qe=null,i!==null&&(Y[ee++]=Te,Y[ee++]=Ce,Y[ee++]=pe,Te=i.id,Ce=i.overflow,pe=a),a=tm(a,m.children),a.flags|=4096,a)}function P1(i,a,c){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),ds(i.return,a,c)}function nm(i,a,c,m,b){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:b}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=c,k.tailMode=b)}function L1(i,a,c){var m=a.pendingProps,b=m.revealOrder,k=m.tail;if(es(i,a,m.children,c),m=Bn.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P1(i,c,a);else if(i.tag===19)P1(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Pn(Bn,m),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(c=a.child,b=null;c!==null;)i=c.alternate,i!==null&&Fs(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=a.child,a.child=null):(b=c.sibling,c.sibling=null),nm(a,!1,b,c,k);break;case"backwards":for(c=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&Fs(i)===null){a.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}nm(a,!0,c,null,k);break;case"together":nm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function sl(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Bu|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=tu(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=tu(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function qb(i,a,c){switch(a.tag){case 3:I1(a),Xt();break;case 5:Od(a);break;case 1:Ti(a.type)&&tl(a);break;case 4:Wl(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,b=a.memoizedProps.value;Pn(Zr,m._currentValue),m._currentValue=b;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Pn(Bn,Bn.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?C1(i,a,c):(Pn(Bn,Bn.current&1),i=sl(i,a,c),i!==null?i.sibling:null);Pn(Bn,Bn.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(i.flags&128)!==0){if(m)return L1(i,a,c);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Pn(Bn,Bn.current),m)break;return null;case 22:case 23:return a.lanes=0,A1(i,a,c)}return sl(i,a,c)}var R1,rm,D1,O1;R1=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},rm=function(){},D1=function(i,a,c,m){var b=i.memoizedProps;if(b!==m){i=a.stateNode,Mo(Ji.current);var k=null;switch(c){case"input":b=kt(i,b),m=kt(i,m),k=[];break;case"select":b=fe({},b,{value:void 0}),m=fe({},m,{value:void 0}),k=[];break;case"textarea":b=lt(i,b),m=lt(i,m),k=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Ul)}yn(c,m);var $;c=null;for(je in b)if(!m.hasOwnProperty(je)&&b.hasOwnProperty(je)&&b[je]!=null)if(je==="style"){var le=b[je];for($ in le)le.hasOwnProperty($)&&(c||(c={}),c[$]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(s.hasOwnProperty(je)?k||(k=[]):(k=k||[]).push(je,null));for(je in m){var me=m[je];if(le=b?.[je],m.hasOwnProperty(je)&&me!==le&&(me!=null||le!=null))if(je==="style")if(le){for($ in le)!le.hasOwnProperty($)||me&&me.hasOwnProperty($)||(c||(c={}),c[$]="");for($ in me)me.hasOwnProperty($)&&le[$]!==me[$]&&(c||(c={}),c[$]=me[$])}else c||(k||(k=[]),k.push(je,c)),c=me;else je==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,le=le?le.__html:void 0,me!=null&&le!==me&&(k=k||[]).push(je,me)):je==="children"?typeof me!="string"&&typeof me!="number"||(k=k||[]).push(je,""+me):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(s.hasOwnProperty(je)?(me!=null&&je==="onScroll"&&jn("scroll",i),k||le===me||(k=[])):(k=k||[]).push(je,me))}c&&(k=k||[]).push("style",c);var je=k;(a.updateQueue=je)&&(a.flags|=4)}},O1=function(i,a,c,m){c!==m&&(a.flags|=4)};function Th(i,a){if(!Ue)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Pi(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(a)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=c,a}function $b(i,a,c){var m=a.pendingProps;switch(ge(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(a),null;case 1:return Ti(a.type)&&yc(),Pi(a),null;case 3:return m=a.stateNode,lo(),In(Ii),In(Vr),kh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(mn(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qe!==null&&(pm(qe),qe=null))),rm(i,a),Pi(a),null;case 5:Eh(a);var b=Mo(wa.current);if(c=a.type,i!==null&&a.stateNode!=null)D1(i,a,c,m,b),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Pi(a),null}if(i=Mo(Ji.current),mn(a)){m=a.stateNode,c=a.type;var k=a.memoizedProps;switch(m[oo]=a,m[Bl]=k,i=(a.mode&1)!==0,c){case"dialog":jn("cancel",m),jn("close",m);break;case"iframe":case"object":case"embed":jn("load",m);break;case"video":case"audio":for(b=0;b<ma.length;b++)jn(ma[b],m);break;case"source":jn("error",m);break;case"img":case"image":case"link":jn("error",m),jn("load",m);break;case"details":jn("toggle",m);break;case"input":Me(m,k),jn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},jn("invalid",m);break;case"textarea":xt(m,k),jn("invalid",m)}yn(c,k),b=null;for(var $ in k)if(k.hasOwnProperty($)){var le=k[$];$==="children"?typeof le=="string"?m.textContent!==le&&(k.suppressHydrationWarning!==!0&&gc(m.textContent,le,i),b=["children",le]):typeof le=="number"&&m.textContent!==""+le&&(k.suppressHydrationWarning!==!0&&gc(m.textContent,le,i),b=["children",""+le]):s.hasOwnProperty($)&&le!=null&&$==="onScroll"&&jn("scroll",m)}switch(c){case"input":$e(m),ft(m,k,!0);break;case"textarea":$e(m),Ut(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Ul)}m=b,a.updateQueue=m,m!==null&&(a.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=$.createElement(c,{is:m.is}):(i=$.createElement(c),c==="select"&&($=i,m.multiple?$.multiple=!0:m.size&&($.size=m.size))):i=$.createElementNS(i,c),i[oo]=a,i[Bl]=m,R1(i,a,!1,!1),a.stateNode=i;e:{switch($=or(c,m),c){case"dialog":jn("cancel",i),jn("close",i),b=m;break;case"iframe":case"object":case"embed":jn("load",i),b=m;break;case"video":case"audio":for(b=0;b<ma.length;b++)jn(ma[b],i);b=m;break;case"source":jn("error",i),b=m;break;case"img":case"image":case"link":jn("error",i),jn("load",i),b=m;break;case"details":jn("toggle",i),b=m;break;case"input":Me(i,m),b=kt(i,m),jn("invalid",i);break;case"option":b=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},b=fe({},m,{value:void 0}),jn("invalid",i);break;case"textarea":xt(i,m),b=lt(i,m),jn("invalid",i);break;default:b=m}yn(c,b),le=b;for(k in le)if(le.hasOwnProperty(k)){var me=le[k];k==="style"?Pr(i,me):k==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&Ct(i,me)):k==="children"?typeof me=="string"?(c!=="textarea"||me!=="")&&$t(i,me):typeof me=="number"&&$t(i,""+me):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?me!=null&&k==="onScroll"&&jn("scroll",i):me!=null&&X(i,k,me,$))}switch(c){case"input":$e(i),ft(i,m,!1);break;case"textarea":$e(i),Ut(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ue(m.value));break;case"select":i.multiple=!!m.multiple,k=m.value,k!=null?st(i,!!m.multiple,k,!1):m.defaultValue!=null&&st(i,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Ul)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pi(a),null;case 6:if(i&&a.stateNode!=null)O1(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(c=Mo(wa.current),Mo(Ji.current),mn(a)){if(m=a.stateNode,c=a.memoizedProps,m[oo]=a,(k=m.nodeValue!==c)&&(i=ye,i!==null))switch(i.tag){case 3:gc(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&gc(m.nodeValue,c,(i.mode&1)!==0)}k&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[oo]=a,a.stateNode=m}return Pi(a),null;case 13:if(In(Bn),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ue&&Be!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ln(),Xt(),a.flags|=98560,k=!1;else if(k=mn(a),m!==null&&m.dehydrated!==null){if(i===null){if(!k)throw Error(t(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[oo]=a}else Xt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pi(a),k=!1}else qe!==null&&(pm(qe),qe=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Bn.current&1)!==0?Br===0&&(Br=3):ym())),a.updateQueue!==null&&(a.flags|=4),Pi(a),null);case 4:return lo(),rm(i,a),i===null&&Ya(a.stateNode.containerInfo),Pi(a),null;case 10:return Ci(a.type._context),Pi(a),null;case 17:return Ti(a.type)&&yc(),Pi(a),null;case 19:if(In(Bn),k=a.memoizedState,k===null)return Pi(a),null;if(m=(a.flags&128)!==0,$=k.rendering,$===null)if(m)Th(k,!1);else{if(Br!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if($=Fs(i),$!==null){for(a.flags|=128,Th(k,!1),m=$.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)k=c,i=m,k.flags&=14680066,$=k.alternate,$===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=$.childLanes,k.lanes=$.lanes,k.child=$.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=$.memoizedProps,k.memoizedState=$.memoizedState,k.updateQueue=$.updateQueue,k.type=$.type,i=$.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Pn(Bn,Bn.current&1|2),a.child}i=i.sibling}k.tail!==null&&Cn()>Pc&&(a.flags|=128,m=!0,Th(k,!1),a.lanes=4194304)}else{if(!m)if(i=Fs($),i!==null){if(a.flags|=128,m=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Th(k,!0),k.tail===null&&k.tailMode==="hidden"&&!$.alternate&&!Ue)return Pi(a),null}else 2*Cn()-k.renderingStartTime>Pc&&c!==1073741824&&(a.flags|=128,m=!0,Th(k,!1),a.lanes=4194304);k.isBackwards?($.sibling=a.child,a.child=$):(c=k.last,c!==null?c.sibling=$:a.child=$,k.last=$)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=Cn(),a.sibling=null,c=Bn.current,Pn(Bn,m?c&1|2:c&1),a):(Pi(a),null);case 22:case 23:return gm(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Us&1073741824)!==0&&(Pi(a),a.subtreeFlags&6&&(a.flags|=8192)):Pi(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Hb(i,a){switch(ge(a),a.tag){case 1:return Ti(a.type)&&yc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return lo(),In(Ii),In(Vr),kh(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Eh(a),null;case 13:if(In(Bn),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Xt()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return In(Bn),null;case 4:return lo(),null;case 10:return Ci(a.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var $d=!1,Li=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Tc(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){yr(i,a,m)}else c.current=null}function im(i,a,c){try{c()}catch(m){yr(i,a,m)}}var j1=!1;function Gb(i,a){if(Ou=Js,i=Iu(),Wa(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var b=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var $=0,le=-1,me=-1,je=0,et=0,rt=i,Xe=null;t:for(;;){for(var yt;rt!==c||b!==0&&rt.nodeType!==3||(le=$+b),rt!==k||m!==0&&rt.nodeType!==3||(me=$+m),rt.nodeType===3&&($+=rt.nodeValue.length),(yt=rt.firstChild)!==null;)Xe=rt,rt=yt;for(;;){if(rt===i)break t;if(Xe===c&&++je===b&&(le=$),Xe===k&&++et===m&&(me=$),(yt=rt.nextSibling)!==null)break;rt=Xe,Xe=rt.parentNode}rt=yt}c=le===-1||me===-1?null:{start:le,end:me}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xa={focusedElem:i,selectionRange:c},Js=!1,bt=a;bt!==null;)if(a=bt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,bt=i;else for(;bt!==null;){a=bt;try{var St=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var At=St.memoizedProps,xr=St.memoizedState,Le=a.stateNode,xe=Le.getSnapshotBeforeUpdate(a.elementType===a.type?At:Bo(a.type,At),xr);Le.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var De=a.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ot){yr(a,a.return,ot)}if(i=a.sibling,i!==null){i.return=a.return,bt=i;break}bt=a.return}return St=j1,j1=!1,St}function Ch(i,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&i)===i){var k=b.destroy;b.destroy=void 0,k!==void 0&&im(a,c,k)}b=b.next}while(b!==m)}}function Hd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function sm(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function F1(i){var a=i.alternate;a!==null&&(i.alternate=null,F1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[oo],delete a[Bl],delete a[Ni],delete a[qp],delete a[$p])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function M1(i){return i.tag===5||i.tag===3||i.tag===4}function V1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function om(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ul));else if(m!==4&&(i=i.child,i!==null))for(om(i,a,c),i=i.sibling;i!==null;)om(i,a,c),i=i.sibling}function am(i,a,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(am(i,a,c),i=i.sibling;i!==null;)am(i,a,c),i=i.sibling}var gi=null,zo=!1;function Yl(i,a,c){for(c=c.child;c!==null;)U1(i,a,c),c=c.sibling}function U1(i,a,c){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(Hs,c)}catch{}switch(c.tag){case 5:Li||Tc(c,a);case 6:var m=gi,b=zo;gi=null,Yl(i,a,c),gi=m,zo=b,gi!==null&&(zo?(i=gi,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):gi.removeChild(c.stateNode));break;case 18:gi!==null&&(zo?(i=gi,c=c.stateNode,i.nodeType===8?_h(i.parentNode,c):i.nodeType===1&&_h(i,c),jr(i)):_h(gi,c.stateNode));break;case 4:m=gi,b=zo,gi=c.stateNode.containerInfo,zo=!0,Yl(i,a,c),gi=m,zo=b;break;case 0:case 11:case 14:case 15:if(!Li&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var k=b,$=k.destroy;k=k.tag,$!==void 0&&((k&2)!==0||(k&4)!==0)&&im(c,a,$),b=b.next}while(b!==m)}Yl(i,a,c);break;case 1:if(!Li&&(Tc(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(le){yr(c,a,le)}Yl(i,a,c);break;case 21:Yl(i,a,c);break;case 22:c.mode&1?(Li=(m=Li)||c.memoizedState!==null,Yl(i,a,c),Li=m):Yl(i,a,c);break;default:Yl(i,a,c)}}function B1(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Wb),a.forEach(function(m){var b=nx.bind(null,i,m);c.has(m)||(c.add(m),m.then(b,b))})}}function qo(i,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];try{var k=i,$=a,le=$;e:for(;le!==null;){switch(le.tag){case 5:gi=le.stateNode,zo=!1;break e;case 3:gi=le.stateNode.containerInfo,zo=!0;break e;case 4:gi=le.stateNode.containerInfo,zo=!0;break e}le=le.return}if(gi===null)throw Error(t(160));U1(k,$,b),gi=null,zo=!1;var me=b.alternate;me!==null&&(me.return=null),b.return=null}catch(je){yr(b,a,je)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)z1(a,i),a=a.sibling}function z1(i,a){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qo(a,i),ba(i),m&4){try{Ch(3,i,i.return),Hd(3,i)}catch(At){yr(i,i.return,At)}try{Ch(5,i,i.return)}catch(At){yr(i,i.return,At)}}break;case 1:qo(a,i),ba(i),m&512&&c!==null&&Tc(c,c.return);break;case 5:if(qo(a,i),ba(i),m&512&&c!==null&&Tc(c,c.return),i.flags&32){var b=i.stateNode;try{$t(b,"")}catch(At){yr(i,i.return,At)}}if(m&4&&(b=i.stateNode,b!=null)){var k=i.memoizedProps,$=c!==null?c.memoizedProps:k,le=i.type,me=i.updateQueue;if(i.updateQueue=null,me!==null)try{le==="input"&&k.type==="radio"&&k.name!=null&&ne(b,k),or(le,$);var je=or(le,k);for($=0;$<me.length;$+=2){var et=me[$],rt=me[$+1];et==="style"?Pr(b,rt):et==="dangerouslySetInnerHTML"?Ct(b,rt):et==="children"?$t(b,rt):X(b,et,rt,je)}switch(le){case"input":_t(b,k);break;case"textarea":Rt(b,k);break;case"select":var Xe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var yt=k.value;yt!=null?st(b,!!k.multiple,yt,!1):Xe!==!!k.multiple&&(k.defaultValue!=null?st(b,!!k.multiple,k.defaultValue,!0):st(b,!!k.multiple,k.multiple?[]:"",!1))}b[Bl]=k}catch(At){yr(i,i.return,At)}}break;case 6:if(qo(a,i),ba(i),m&4){if(i.stateNode===null)throw Error(t(162));b=i.stateNode,k=i.memoizedProps;try{b.nodeValue=k}catch(At){yr(i,i.return,At)}}break;case 3:if(qo(a,i),ba(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{jr(a.containerInfo)}catch(At){yr(i,i.return,At)}break;case 4:qo(a,i),ba(i);break;case 13:qo(a,i),ba(i),b=i.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(cm=Cn())),m&4&&B1(i);break;case 22:if(et=c!==null&&c.memoizedState!==null,i.mode&1?(Li=(je=Li)||et,qo(a,i),Li=je):qo(a,i),ba(i),m&8192){if(je=i.memoizedState!==null,(i.stateNode.isHidden=je)&&!et&&(i.mode&1)!==0)for(bt=i,et=i.child;et!==null;){for(rt=bt=et;bt!==null;){switch(Xe=bt,yt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:Ch(4,Xe,Xe.return);break;case 1:Tc(Xe,Xe.return);var St=Xe.stateNode;if(typeof St.componentWillUnmount=="function"){m=Xe,c=Xe.return;try{a=m,St.props=a.memoizedProps,St.state=a.memoizedState,St.componentWillUnmount()}catch(At){yr(m,c,At)}}break;case 5:Tc(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){H1(rt);continue}}yt!==null?(yt.return=Xe,bt=yt):H1(rt)}et=et.sibling}e:for(et=null,rt=i;;){if(rt.tag===5){if(et===null){et=rt;try{b=rt.stateNode,je?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(le=rt.stateNode,me=rt.memoizedProps.style,$=me!=null&&me.hasOwnProperty("display")?me.display:null,le.style.display=tn("display",$))}catch(At){yr(i,i.return,At)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=je?"":rt.memoizedProps}catch(At){yr(i,i.return,At)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===i)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===i)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===i)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:qo(a,i),ba(i),m&4&&B1(i);break;case 21:break;default:qo(a,i),ba(i)}}function ba(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(M1(c)){var m=c;break e}c=c.return}throw Error(t(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&($t(b,""),m.flags&=-33);var k=V1(i);am(i,k,b);break;case 3:case 4:var $=m.stateNode.containerInfo,le=V1(i);om(i,le,$);break;default:throw Error(t(161))}}catch(me){yr(i,i.return,me)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Kb(i,a,c){bt=i,q1(i)}function q1(i,a,c){for(var m=(i.mode&1)!==0;bt!==null;){var b=bt,k=b.child;if(b.tag===22&&m){var $=b.memoizedState!==null||$d;if(!$){var le=b.alternate,me=le!==null&&le.memoizedState!==null||Li;le=$d;var je=Li;if($d=$,(Li=me)&&!je)for(bt=b;bt!==null;)$=bt,me=$.child,$.tag===22&&$.memoizedState!==null?W1(b):me!==null?(me.return=$,bt=me):W1(b);for(;k!==null;)bt=k,q1(k),k=k.sibling;bt=b,$d=le,Li=je}$1(i)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,bt=k):$1(i)}}function $1(i){for(;bt!==null;){var a=bt;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Li||Hd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Li)if(c===null)m.componentDidMount();else{var b=a.elementType===a.type?c.memoizedProps:Bo(a.type,c.memoizedProps);m.componentDidUpdate(b,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&rl(a,k,m);break;case 3:var $=a.updateQueue;if($!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}rl(a,$,c)}break;case 5:var le=a.stateNode;if(c===null&&a.flags&4){c=le;var me=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&c.focus();break;case"img":me.src&&(c.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var je=a.alternate;if(je!==null){var et=je.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&jr(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Li||a.flags&512&&sm(a)}catch(Xe){yr(a,a.return,Xe)}}if(a===i){bt=null;break}if(c=a.sibling,c!==null){c.return=a.return,bt=c;break}bt=a.return}}function H1(i){for(;bt!==null;){var a=bt;if(a===i){bt=null;break}var c=a.sibling;if(c!==null){c.return=a.return,bt=c;break}bt=a.return}}function W1(i){for(;bt!==null;){var a=bt;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Hd(4,a)}catch(me){yr(a,c,me)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var b=a.return;try{m.componentDidMount()}catch(me){yr(a,b,me)}}var k=a.return;try{sm(a)}catch(me){yr(a,k,me)}break;case 5:var $=a.return;try{sm(a)}catch(me){yr(a,$,me)}}}catch(me){yr(a,a.return,me)}if(a===i){bt=null;break}var le=a.sibling;if(le!==null){le.return=a.return,bt=le;break}bt=a.return}}var Qb=Math.ceil,Wd=he.ReactCurrentDispatcher,lm=he.ReactCurrentOwner,ho=he.ReactCurrentBatchConfig,wn=0,ti=null,Nr=null,yi=0,Us=0,Cc=js(0),Br=0,Ph=null,Bu=0,Gd=0,um=0,Lh=null,ys=null,cm=0,Pc=1/0,ol=null,Kd=!1,hm=null,Jl=null,Qd=!1,Xl=null,Yd=0,Rh=0,dm=null,Jd=-1,Xd=0;function ts(){return(wn&6)!==0?Cn():Jd!==-1?Jd:Jd=Cn()}function Zl(i){return(i.mode&1)===0?1:(wn&2)!==0&&yi!==0?yi&-yi:Ln.transition!==null?(Xd===0&&(Xd=Ks()),Xd):(i=nn,i!==0||(i=window.event,i=i===void 0?16:la(i.type)),i)}function $o(i,a,c,m){if(50<Rh)throw Rh=0,dm=null,Error(t(185));Is(i,c,m),((wn&2)===0||i!==ti)&&(i===ti&&((wn&2)===0&&(Gd|=c),Br===4&&eu(i,yi)),vs(i,m),c===1&&wn===0&&(a.mode&1)===0&&(Pc=Cn()+500,Fu&&I()))}function vs(i,a){var c=i.callbackNode;tr(i,a);var m=Rr(i,i===ti?yi:0);if(m===0)c!==null&&$s(c),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(c!=null&&$s(c),a===1)i.tag===0?x(K1.bind(null,i)):g(K1.bind(null,i)),Bp(function(){(wn&6)===0&&I()}),c=null;else{switch(rs(m)){case 1:c=ns;break;case 4:c=Ns;break;case 16:c=xi;break;case 536870912:c=Sl;break;default:c=xi}c=n2(c,G1.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function G1(i,a){if(Jd=-1,Xd=0,(wn&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Lc()&&i.callbackNode!==c)return null;var m=Rr(i,i===ti?yi:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Zd(i,m);else{a=m;var b=wn;wn|=2;var k=Y1();(ti!==i||yi!==a)&&(ol=null,Pc=Cn()+500,qu(i,a));do try{Xb();break}catch(le){Q1(i,le)}while(!0);Ur(),Wd.current=k,wn=b,Nr!==null?a=0:(ti=null,yi=0,a=Br)}if(a!==0){if(a===2&&(b=Dr(i),b!==0&&(m=b,a=fm(i,b))),a===1)throw c=Ph,qu(i,0),eu(i,m),vs(i,Cn()),c;if(a===6)eu(i,m);else{if(b=i.current.alternate,(m&30)===0&&!Yb(b)&&(a=Zd(i,m),a===2&&(k=Dr(i),k!==0&&(m=k,a=fm(i,k))),a===1))throw c=Ph,qu(i,0),eu(i,m),vs(i,Cn()),c;switch(i.finishedWork=b,i.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:$u(i,ys,ol);break;case 3:if(eu(i,m),(m&130023424)===m&&(a=cm+500-Cn(),10<a)){if(Rr(i,0)!==0)break;if(b=i.suspendedLanes,(b&m)!==m){ts(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=wh($u.bind(null,i,ys,ol),a);break}$u(i,ys,ol);break;case 4:if(eu(i,m),(m&4194240)===m)break;for(a=i.eventTimes,b=-1;0<m;){var $=31-Lr(m);k=1<<$,$=a[$],$>b&&(b=$),m&=~k}if(m=b,m=Cn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Qb(m/1960))-m,10<m){i.timeoutHandle=wh($u.bind(null,i,ys,ol),m);break}$u(i,ys,ol);break;case 5:$u(i,ys,ol);break;default:throw Error(t(329))}}}return vs(i,Cn()),i.callbackNode===c?G1.bind(null,i):null}function fm(i,a){var c=Lh;return i.current.memoizedState.isDehydrated&&(qu(i,a).flags|=256),i=Zd(i,a),i!==2&&(a=ys,ys=c,a!==null&&pm(a)),i}function pm(i){ys===null?ys=i:ys.push.apply(ys,i)}function Yb(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var b=c[m],k=b.getSnapshot;b=b.value;try{if(!vn(k(),b))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eu(i,a){for(a&=~um,a&=~Gd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-Lr(a),m=1<<c;i[c]=-1,a&=~m}}function K1(i){if((wn&6)!==0)throw Error(t(327));Lc();var a=Rr(i,0);if((a&1)===0)return vs(i,Cn()),null;var c=Zd(i,a);if(i.tag!==0&&c===2){var m=Dr(i);m!==0&&(a=m,c=fm(i,m))}if(c===1)throw c=Ph,qu(i,0),eu(i,a),vs(i,Cn()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,$u(i,ys,ol),vs(i,Cn()),null}function mm(i,a){var c=wn;wn|=1;try{return i(a)}finally{wn=c,wn===0&&(Pc=Cn()+500,Fu&&I())}}function zu(i){Xl!==null&&Xl.tag===0&&(wn&6)===0&&Lc();var a=wn;wn|=1;var c=ho.transition,m=nn;try{if(ho.transition=null,nn=1,i)return i()}finally{nn=m,ho.transition=c,wn=a,(wn&6)===0&&I()}}function gm(){Us=Cc.current,In(Cc)}function qu(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Pd(c)),Nr!==null)for(c=Nr.return;c!==null;){var m=c;switch(ge(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&yc();break;case 3:lo(),In(Ii),In(Vr),kh();break;case 5:Eh(m);break;case 4:lo();break;case 13:In(Bn);break;case 19:In(Bn);break;case 10:Ci(m.type._context);break;case 22:case 23:gm()}c=c.return}if(ti=i,Nr=i=tu(i.current,null),yi=Us=a,Br=0,Ph=null,um=Gd=Bu=0,ys=Lh=null,Yi!==null){for(a=0;a<Yi.length;a++)if(c=Yi[a],m=c.interleaved,m!==null){c.interleaved=null;var b=m.next,k=c.pending;if(k!==null){var $=k.next;k.next=b,m.next=$}c.pending=m}Yi=null}return i}function Q1(i,a){do{var c=Nr;try{if(Ur(),wc.current=Ud,Gl){for(var m=$n.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}Gl=!1}if(uo=0,ur=gr=$n=null,Vo=!1,Kl=0,lm.current=null,c===null||c.return===null){Br=1,Ph=a,Nr=null;break}e:{var k=i,$=c.return,le=c,me=a;if(a=yi,le.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var je=me,et=le,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Xe=et.alternate;Xe?(et.updateQueue=Xe.updateQueue,et.memoizedState=Xe.memoizedState,et.lanes=Xe.lanes):(et.updateQueue=null,et.memoizedState=null)}var yt=_1($);if(yt!==null){yt.flags&=-257,b1(yt,$,le,k,a),yt.mode&1&&w1(k,je,a),a=yt,me=je;var St=a.updateQueue;if(St===null){var At=new Set;At.add(me),a.updateQueue=At}else St.add(me);break e}else{if((a&1)===0){w1(k,je,a),ym();break e}me=Error(t(426))}}else if(Ue&&le.mode&1){var xr=_1($);if(xr!==null){(xr.flags&65536)===0&&(xr.flags|=256),b1(xr,$,le,k,a),Tn(Ic(me,le));break e}}k=me=Ic(me,le),Br!==4&&(Br=2),Lh===null?Lh=[k]:Lh.push(k),k=$;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var Le=y1(k,me,a);ms(k,Le);break e;case 1:le=me;var xe=k.type,De=k.stateNode;if((k.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Jl===null||!Jl.has(De)))){k.flags|=65536,a&=-a,k.lanes|=a;var ot=v1(k,le,a);ms(k,ot);break e}}k=k.return}while(k!==null)}X1(c)}catch(It){a=It,Nr===c&&c!==null&&(Nr=c=c.return);continue}break}while(!0)}function Y1(){var i=Wd.current;return Wd.current=Ud,i===null?Ud:i}function ym(){(Br===0||Br===3||Br===2)&&(Br=4),ti===null||(Bu&268435455)===0&&(Gd&268435455)===0||eu(ti,yi)}function Zd(i,a){var c=wn;wn|=2;var m=Y1();(ti!==i||yi!==a)&&(ol=null,qu(i,a));do try{Jb();break}catch(b){Q1(i,b)}while(!0);if(Ur(),wn=c,Wd.current=m,Nr!==null)throw Error(t(261));return ti=null,yi=0,Br}function Jb(){for(;Nr!==null;)J1(Nr)}function Xb(){for(;Nr!==null&&!vo();)J1(Nr)}function J1(i){var a=t2(i.alternate,i,Us);i.memoizedProps=i.pendingProps,a===null?X1(i):Nr=a,lm.current=null}function X1(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=$b(c,a,Us),c!==null){Nr=c;return}}else{if(c=Hb(c,a),c!==null){c.flags&=32767,Nr=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Br=6,Nr=null;return}}if(a=a.sibling,a!==null){Nr=a;return}Nr=a=i}while(a!==null);Br===0&&(Br=5)}function $u(i,a,c){var m=nn,b=ho.transition;try{ho.transition=null,nn=1,Zb(i,a,c,m)}finally{ho.transition=b,nn=m}return null}function Zb(i,a,c,m){do Lc();while(Xl!==null);if((wn&6)!==0)throw Error(t(327));c=i.finishedWork;var b=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var k=c.lanes|c.childLanes;if(An(i,k),i===ti&&(Nr=ti=null,yi=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Qd||(Qd=!0,n2(xi,function(){return Lc(),null})),k=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||k){k=ho.transition,ho.transition=null;var $=nn;nn=1;var le=wn;wn|=4,lm.current=null,Gb(i,c),z1(c,i),Ga(Xa),Js=!!Ou,Xa=Ou=null,i.current=c,Kb(c),bl(),wn=le,nn=$,ho.transition=k}else i.current=c;if(Qd&&(Qd=!1,Xl=i,Yd=b),k=i.pendingLanes,k===0&&(Jl=null),_o(c.stateNode),vs(i,Cn()),a!==null)for(m=i.onRecoverableError,c=0;c<a.length;c++)b=a[c],m(b.value,{componentStack:b.stack,digest:b.digest});if(Kd)throw Kd=!1,i=hm,hm=null,i;return(Yd&1)!==0&&i.tag!==0&&Lc(),k=i.pendingLanes,(k&1)!==0?i===dm?Rh++:(Rh=0,dm=i):Rh=0,I(),null}function Lc(){if(Xl!==null){var i=rs(Yd),a=ho.transition,c=nn;try{if(ho.transition=null,nn=16>i?16:i,Xl===null)var m=!1;else{if(i=Xl,Xl=null,Yd=0,(wn&6)!==0)throw Error(t(331));var b=wn;for(wn|=4,bt=i.current;bt!==null;){var k=bt,$=k.child;if((bt.flags&16)!==0){var le=k.deletions;if(le!==null){for(var me=0;me<le.length;me++){var je=le[me];for(bt=je;bt!==null;){var et=bt;switch(et.tag){case 0:case 11:case 15:Ch(8,et,k)}var rt=et.child;if(rt!==null)rt.return=et,bt=rt;else for(;bt!==null;){et=bt;var Xe=et.sibling,yt=et.return;if(F1(et),et===je){bt=null;break}if(Xe!==null){Xe.return=yt,bt=Xe;break}bt=yt}}}var St=k.alternate;if(St!==null){var At=St.child;if(At!==null){St.child=null;do{var xr=At.sibling;At.sibling=null,At=xr}while(At!==null)}}bt=k}}if((k.subtreeFlags&2064)!==0&&$!==null)$.return=k,bt=$;else e:for(;bt!==null;){if(k=bt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Ch(9,k,k.return)}var Le=k.sibling;if(Le!==null){Le.return=k.return,bt=Le;break e}bt=k.return}}var xe=i.current;for(bt=xe;bt!==null;){$=bt;var De=$.child;if(($.subtreeFlags&2064)!==0&&De!==null)De.return=$,bt=De;else e:for($=xe;bt!==null;){if(le=bt,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:Hd(9,le)}}catch(It){yr(le,le.return,It)}if(le===$){bt=null;break e}var ot=le.sibling;if(ot!==null){ot.return=le.return,bt=ot;break e}bt=le.return}}if(wn=b,I(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(Hs,i)}catch{}m=!0}return m}finally{nn=c,ho.transition=a}}return!1}function Z1(i,a,c){a=Ic(c,a),a=y1(i,a,1),i=ps(i,a,1),a=ts(),i!==null&&(Is(i,1,a),vs(i,a))}function yr(i,a,c){if(i.tag===3)Z1(i,i,c);else for(;a!==null;){if(a.tag===3){Z1(a,i,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Jl===null||!Jl.has(m))){i=Ic(c,i),i=v1(a,i,1),a=ps(a,i,1),i=ts(),a!==null&&(Is(a,1,i),vs(a,i));break}}a=a.return}}function ex(i,a,c){var m=i.pingCache;m!==null&&m.delete(a),a=ts(),i.pingedLanes|=i.suspendedLanes&c,ti===i&&(yi&c)===c&&(Br===4||Br===3&&(yi&130023424)===yi&&500>Cn()-cm?qu(i,0):um|=c),vs(i,a)}function e2(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var c=ts();i=Sn(i,a),i!==null&&(Is(i,a,c),vs(i,c))}function tx(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),e2(i,c)}function nx(i,a){var c=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),e2(i,c)}var t2;t2=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Ii.current)gs=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return gs=!1,qb(i,a,c);gs=(i.flags&131072)!==0}else gs=!1,Ue&&(a.flags&1048576)!==0&&He(a,K,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;qd(i,a),i=a.pendingProps;var b=ql(a,Vr.current);Yn(a,c),b=Mu(null,a,m,i,b,c);var k=co();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ti(m)?(k=!0,tl(a)):k=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,vc(a),b.updater=Bd,a.stateNode=b,b._reactInternals=a,Kp(a,m,i,c),a=Xp(null,a,m,!0,k,c)):(a.tag=0,Ue&&k&&Fe(a),es(null,a,b,c),a=a.child),a;case 16:m=a.elementType;e:{switch(qd(i,a),i=a.pendingProps,b=m._init,m=b(m._payload),a.type=m,b=a.tag=ix(m),i=Bo(m,i),b){case 0:a=Jp(null,a,m,i,c);break e;case 1:a=N1(null,a,m,i,c);break e;case 11:a=x1(null,a,m,i,c);break e;case 14:a=S1(null,a,m,Bo(m.type,i),c);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Bo(m,b),Jp(i,a,m,b,c);case 1:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Bo(m,b),N1(i,a,m,b,c);case 3:e:{if(I1(a),i===null)throw Error(t(387));m=a.pendingProps,k=a.memoizedState,b=k.element,Sh(i,a),Fo(a,m,null,c);var $=a.memoizedState;if(m=$.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){b=Ic(Error(t(423)),a),a=T1(i,a,m,c,b);break e}else if(m!==b){b=Ic(Error(t(424)),a),a=T1(i,a,m,c,b);break e}else for(Be=pi(a.stateNode.containerInfo.firstChild),ye=a,Ue=!0,qe=null,c=xn(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Xt(),m===b){a=sl(i,a,c);break e}es(i,a,m,c)}a=a.child}return a;case 5:return Od(a),i===null&&dt(a),m=a.type,b=a.pendingProps,k=i!==null?i.memoizedProps:null,$=b.children,vh(m,b)?$=null:k!==null&&vh(m,k)&&(a.flags|=32),k1(i,a),es(i,a,$,c),a.child;case 6:return i===null&&dt(a),null;case 13:return C1(i,a,c);case 4:return Wl(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=wr(a,null,m,c):es(i,a,m,c),a.child;case 11:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Bo(m,b),x1(i,a,m,b,c);case 7:return es(i,a,a.pendingProps,c),a.child;case 8:return es(i,a,a.pendingProps.children,c),a.child;case 12:return es(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,b=a.pendingProps,k=a.memoizedProps,$=b.value,Pn(Zr,m._currentValue),m._currentValue=$,k!==null)if(vn(k.value,$)){if(k.children===b.children&&!Ii.current){a=sl(i,a,c);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var le=k.dependencies;if(le!==null){$=k.child;for(var me=le.firstContext;me!==null;){if(me.context===m){if(k.tag===1){me=fs(-1,c&-c),me.tag=2;var je=k.updateQueue;if(je!==null){je=je.shared;var et=je.pending;et===null?me.next=me:(me.next=et.next,et.next=me),je.pending=me}}k.lanes|=c,me=k.alternate,me!==null&&(me.lanes|=c),ds(k.return,c,a),le.lanes|=c;break}me=me.next}}else if(k.tag===10)$=k.type===a.type?null:k.child;else if(k.tag===18){if($=k.return,$===null)throw Error(t(341));$.lanes|=c,le=$.alternate,le!==null&&(le.lanes|=c),ds($,c,a),$=k.sibling}else $=k.child;if($!==null)$.return=k;else for($=k;$!==null;){if($===a){$=null;break}if(k=$.sibling,k!==null){k.return=$.return,$=k;break}$=$.return}k=$}es(i,a,b.children,c),a=a.child}return a;case 9:return b=a.type,m=a.pendingProps.children,Yn(a,c),b=mr(b),m=m(b),a.flags|=1,es(i,a,m,c),a.child;case 14:return m=a.type,b=Bo(m,a.pendingProps),b=Bo(m.type,b),S1(i,a,m,b,c);case 15:return E1(i,a,a.type,a.pendingProps,c);case 17:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Bo(m,b),qd(i,a),a.tag=1,Ti(m)?(i=!0,tl(a)):i=!1,Yn(a,c),m1(a,m,b),Kp(a,m,b,c),Xp(null,a,m,!0,i,c);case 19:return L1(i,a,c);case 22:return A1(i,a,c)}throw Error(t(156,a.tag))};function n2(i,a){return ks(i,a)}function rx(i,a,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(i,a,c,m){return new rx(i,a,c,m)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ix(i){if(typeof i=="function")return vm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===Pe)return 14}return 2}function tu(i,a){var c=i.alternate;return c===null?(c=fo(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function ef(i,a,c,m,b,k){var $=2;if(m=i,typeof i=="function")vm(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case B:return Hu(c.children,b,k,a);case C:$=8,b|=8;break;case F:return i=fo(12,c,a,b|2),i.elementType=F,i.lanes=k,i;case T:return i=fo(13,c,a,b),i.elementType=T,i.lanes=k,i;case se:return i=fo(19,c,a,b),i.elementType=se,i.lanes=k,i;case we:return tf(c,b,k,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:$=10;break e;case L:$=9;break e;case D:$=11;break e;case Pe:$=14;break e;case Ie:$=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=fo($,c,a,b),a.elementType=i,a.type=m,a.lanes=k,a}function Hu(i,a,c,m){return i=fo(7,i,m,a),i.lanes=c,i}function tf(i,a,c,m){return i=fo(22,i,m,a),i.elementType=we,i.lanes=c,i.stateNode={isHidden:!1},i}function wm(i,a,c){return i=fo(6,i,null,a),i.lanes=c,i}function _m(i,a,c){return a=fo(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function sx(i,a,c,m,b){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function bm(i,a,c,m,b,k,$,le,me){return i=new sx(i,a,c,le,me),a===1?(a=1,k===!0&&(a|=8)):a=0,k=fo(3,null,null,a),i.current=k,k.stateNode=i,k.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(k),i}function ox(i,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:m==null?null:""+m,children:i,containerInfo:a,implementation:c}}function r2(i){if(!i)return ya;i=i._reactInternals;e:{if(ar(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ti(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(Ti(c))return xh(i,c,a)}return a}function i2(i,a,c,m,b,k,$,le,me){return i=bm(c,m,!0,i,b,k,$,le,me),i.context=r2(null),c=i.current,m=ts(),b=Zl(c),k=fs(m,b),k.callback=a??null,ps(c,k,b),i.current.lanes=b,Is(i,b,m),vs(i,m),i}function nf(i,a,c,m){var b=a.current,k=ts(),$=Zl(b);return c=r2(c),a.context===null?a.context=c:a.pendingContext=c,a=fs(k,$),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=ps(b,a,$),i!==null&&($o(i,b,$,k),nl(i,b,$)),$}function rf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function s2(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function xm(i,a){s2(i,a),(i=i.alternate)&&s2(i,a)}function ax(){return null}var o2=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sm(i){this._internalRoot=i}sf.prototype.render=Sm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));nf(i,a,null,null)},sf.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;zu(function(){nf(null,i,null,null)}),a[Xr]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var a=is();i={blockedOn:null,target:i,priority:a};for(var c=0;c<ss.length&&a!==0&&a<ss[c].priority;c++);ss.splice(c,0,i),c===0&&aa(i)}};function Em(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function of(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function a2(){}function lx(i,a,c,m,b){if(b){if(typeof m=="function"){var k=m;m=function(){var je=rf($);k.call(je)}}var $=i2(a,m,i,0,null,!1,!1,"",a2);return i._reactRootContainer=$,i[Xr]=$.current,Ya(i.nodeType===8?i.parentNode:i),zu(),$}for(;b=i.lastChild;)i.removeChild(b);if(typeof m=="function"){var le=m;m=function(){var je=rf(me);le.call(je)}}var me=bm(i,0,!1,null,null,!1,!1,"",a2);return i._reactRootContainer=me,i[Xr]=me.current,Ya(i.nodeType===8?i.parentNode:i),zu(function(){nf(a,me,c,m)}),me}function af(i,a,c,m,b){var k=c._reactRootContainer;if(k){var $=k;if(typeof b=="function"){var le=b;b=function(){var me=rf($);le.call(me)}}nf(a,$,i,b)}else $=lx(c,a,i,b,m);return rf($)}El=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Gs(a.pendingLanes);c!==0&&(Ts(a,c|1),vs(a,Cn()),(wn&6)===0&&(Pc=Cn()+500,I()))}break;case 13:zu(function(){var m=Sn(i,1);if(m!==null){var b=ts();$o(m,i,1,b)}}),xm(i,1)}},sa=function(i){if(i.tag===13){var a=Sn(i,134217728);if(a!==null){var c=ts();$o(a,i,134217728,c)}xm(i,134217728)}},Al=function(i){if(i.tag===13){var a=Zl(i),c=Sn(i,a);if(c!==null){var m=ts();$o(c,i,a,m)}xm(i,a)}},is=function(){return nn},xo=function(i,a){var c=nn;try{return nn=i,a()}finally{nn=c}},dn=function(i,a,c){switch(a){case"input":if(_t(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==i&&m.form===i.form){var b=ju(m);if(!b)throw Error(t(90));Ye(m),_t(m,b)}}}break;case"textarea":Rt(i,c);break;case"select":a=c.value,a!=null&&st(i,!!c.multiple,a,!1)}},mt=mm,Nt=zu;var ux={usingClientEntryPoint:!1,Events:[zl,Za,ju,ze,tt,mm]},Dh={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Es(i),i===null?null:i.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Hs=lf.inject(cx),oi=lf}catch{}}return ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux,ws.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(a))throw Error(t(200));return ox(i,a,null,c)},ws.createRoot=function(i,a){if(!Em(i))throw Error(t(299));var c=!1,m="",b=o2;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=bm(i,1,!1,null,null,c,!1,m,b),i[Xr]=a.current,Ya(i.nodeType===8?i.parentNode:i),new Sm(a)},ws.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Es(a),i=i===null?null:i.stateNode,i},ws.flushSync=function(i){return zu(i)},ws.hydrate=function(i,a,c){if(!of(a))throw Error(t(200));return af(null,i,a,!0,c)},ws.hydrateRoot=function(i,a,c){if(!Em(i))throw Error(t(405));var m=c!=null&&c.hydratedSources||null,b=!1,k="",$=o2;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),a=i2(a,null,i,1,c??null,b,!1,k,$),i[Xr]=a.current,Ya(i),m)for(i=0;i<m.length;i++)c=m[i],b=c._getVersion,b=b(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,b]:a.mutableSourceEagerHydrationData.push(c,b);return new sf(a)},ws.render=function(i,a,c){if(!of(a))throw Error(t(200));return af(null,i,a,!1,c)},ws.unmountComponentAtNode=function(i){if(!of(i))throw Error(t(40));return i._reactRootContainer?(zu(function(){af(null,null,i,!1,function(){i._reactRootContainer=null,i[Xr]=null})}),!0):!1},ws.unstable_batchedUpdates=mm,ws.unstable_renderSubtreeIntoContainer=function(i,a,c,m){if(!of(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return af(i,a,c,!1,m)},ws.version="18.3.1-next-f1338f8080-20240426",ws}var m2;function vx(){if(m2)return Nm.exports;m2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nm.exports=yx(),Nm.exports}var g2;function wx(){if(g2)return uf;g2=1;var n=vx();return uf.createRoot=n.createRoot,uf.hydrateRoot=n.hydrateRoot,uf}var _x=wx();const bx="modulepreload",xx=function(n){return"/"+n},y2={},nd=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let h=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=h(t.map(p=>{if(p=xx(p),p in y2)return;y2[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":bx,y||(S.as="script"),S.crossOrigin="",S.href=p,u&&S.setAttribute("nonce",u),document.head.appendChild(S),y)return new Promise((w,R)=>{S.addEventListener("load",w),S.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var jh={},v2;function Sx(){if(v2)return jh;v2=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.parse=l,jh.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function l(S,w){const R=new o,O=S.length;if(O<2)return R;const U=w?.decode||y;let j=0;do{const H=S.indexOf("=",j);if(H===-1)break;const X=S.indexOf(";",j),he=X===-1?O:X;if(H>he){j=S.lastIndexOf(";",H-1)+1;continue}const be=u(S,j,H),Ne=h(S,H,be),B=S.slice(be,Ne);if(R[B]===void 0){let C=u(S,H+1,he),F=h(S,he,C);const G=U(S.slice(C,F));R[B]=G}j=he+1}while(j<O);return R}function u(S,w,R){do{const O=S.charCodeAt(w);if(O!==32&&O!==9)return w}while(++w<R);return R}function h(S,w,R){for(;w>R;){const O=S.charCodeAt(--w);if(O!==32&&O!==9)return w+1}return R}function p(S,w,R){const O=R?.encode||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const U=O(w);if(!e.test(U))throw new TypeError(`argument val is invalid: ${w}`);let j=S+"="+U;if(!R)return j;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);j+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);j+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);j+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);j+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(j+="; HttpOnly"),R.secure&&(j+="; Secure"),R.partitioned&&(j+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return j}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return s.call(S)==="[object Date]"}return jh}Sx();var w2="popstate";function Ex(n={}){function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return ig("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:rd(s)}return kx(e,t,null,n)}function sr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ax(){return Math.random().toString(36).substring(2,10)}function _2(n,e){return{usr:n.state,key:n.key,idx:e}}function ig(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ah(e):e,state:t,key:e&&e.key||r||Ax()}}function rd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ah(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function kx(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){u="POP";let U=y(),j=U==null?null:U-p;p=U,h&&h({action:u,location:O.location,delta:j})}function S(U,j){u="PUSH";let H=ig(O.location,U,j);p=y()+1;let X=_2(H,p),he=O.createHref(H);try{l.pushState(X,"",he)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;s.location.assign(he)}o&&h&&h({action:u,location:O.location,delta:1})}function w(U,j){u="REPLACE";let H=ig(O.location,U,j);p=y();let X=_2(H,p),he=O.createHref(H);l.replaceState(X,"",he),o&&h&&h({action:u,location:O.location,delta:0})}function R(U){return Nx(U)}let O={get action(){return u},get location(){return n(s,l)},listen(U){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(w2,_),h=U,()=>{s.removeEventListener(w2,_),h=null}},createHref(U){return e(s,U)},createURL:R,encodeLocation(U){let j=R(U);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:w,go(U){return l.go(U)}};return O}function Nx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),sr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:rd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function zv(n,e,t="/"){return Ix(n,e,t,!1)}function Ix(n,e,t,r){let s=typeof e=="string"?ah(e):e,o=pl(s.pathname||"/",t);if(o==null)return null;let l=qv(n);Tx(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=Ux(o);u=Mx(l[h],p,r)}return u}function qv(n,e=[],t=[],r=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(sr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=hl([r,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(sr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qv(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:jx(p,o.index),routesMeta:y})};return n.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let u of $v(o.path))s(o,l,u)}),e}function $v(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=$v(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Tx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Fx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Cx=/^:[\w-]+$/,Px=3,Lx=2,Rx=1,Dx=10,Ox=-2,b2=n=>n==="*";function jx(n,e){let t=n.split("/"),r=t.length;return t.some(b2)&&(r+=Ox),e&&(r+=Lx),t.filter(s=>!b2(s)).reduce((s,o)=>s+(Cx.test(o)?Px:o===""?Rx:Dx),r)}function Fx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Mx(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),S=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:hl([o,_.pathname]),pathnameBase:$x(hl([o,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(o=hl([o,_.pathnameBase]))}return l}function Bf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Vx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},S)=>{if(y==="*"){let R=u[S]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const w=u[S];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function Vx(n,e=!1,t=!0){Yo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ux(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Bx(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ah(n):n;return{pathname:t?t.startsWith("/")?t:zx(t,e):e,search:Hx(r),hash:Wx(s)}}function zx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Cm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(n){let e=qx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xg(n,e,t,r=!1){let s;typeof n=="string"?s=ah(n):(s={...n},sr(!s.pathname||!s.pathname.includes("?"),Cm("?","pathname","search",s)),sr(!s.pathname||!s.pathname.includes("#"),Cm("#","pathname","hash",s)),sr(!s.search||!s.search.includes("#"),Cm("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}u=_>=0?e[_]:"/"}let h=Bx(s,u),p=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var hl=n=>n.join("/").replace(/\/\/+/g,"/"),$x=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Wx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Gx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Hv=["POST","PUT","PATCH","DELETE"];new Set(Hv);var Kx=["GET",...Hv];new Set(Kx);var lh=ce.createContext(null);lh.displayName="DataRouter";var dp=ce.createContext(null);dp.displayName="DataRouterState";var Wv=ce.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var Qx=ce.createContext(new Map);Qx.displayName="Fetchers";var Yx=ce.createContext(null);Yx.displayName="Await";var ea=ce.createContext(null);ea.displayName="Navigation";var gd=ce.createContext(null);gd.displayName="Location";var Da=ce.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var Zg=ce.createContext(null);Zg.displayName="RouteError";function Jx(n,{relative:e}={}){sr(uh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ce.useContext(ea),{hash:s,pathname:o,search:l}=yd(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:hl([t,o])),r.createHref({pathname:u,search:l,hash:s})}function uh(){return ce.useContext(gd)!=null}function wl(){return sr(uh(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(gd).location}var Gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kv(n){ce.useContext(ea).static||ce.useLayoutEffect(n)}function fp(){let{isDataRoute:n}=ce.useContext(Da);return n?c4():Xx()}function Xx(){sr(uh(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(lh),{basename:e,navigator:t}=ce.useContext(ea),{matches:r}=ce.useContext(Da),{pathname:s}=wl(),o=JSON.stringify(Jg(r)),l=ce.useRef(!1);return Kv(()=>{l.current=!0}),ce.useCallback((h,p={})=>{if(Yo(l.current,Gv),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=Xg(h,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:hl([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,s,n])}ce.createContext(null);function yd(n,{relative:e}={}){let{matches:t}=ce.useContext(Da),{pathname:r}=wl(),s=JSON.stringify(Jg(t));return ce.useMemo(()=>Xg(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function Zx(n,e){return Qv(n,e)}function Qv(n,e,t,r){sr(uh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ce.useContext(ea),{matches:o}=ce.useContext(Da),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let j=y&&y.path||"";Yv(h,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=wl(),S;if(e){let j=typeof e=="string"?ah(e):e;sr(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=_;let w=S.pathname||"/",R=w;if(p!=="/"){let j=p.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=zv(n,{pathname:R});Yo(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Yo(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=i4(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:hl([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:hl([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,r);return e&&U?ce.createElement(gd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function e4(){let n=u4(),e=Gx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:o},"ErrorBoundary")," or"," ",ce.createElement("code",{style:o},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:s},t):null,l)}var t4=ce.createElement(e4,null),n4=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ce.createElement(Da.Provider,{value:this.props.routeContext},ce.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r4({routeContext:n,match:e,children:t}){let r=ce.useContext(lh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(Da.Provider,{value:n},t)}function i4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);sr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:y,errors:_}=t,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let _,S=!1,w=null,R=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||t4,l&&(u<0&&y===0?(Yv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):u===y&&(S=!0,R=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,y+1)),U=()=>{let j;return _?j=w:S?j=R:p.route.Component?j=ce.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,ce.createElement(r4,{match:p,routeContext:{outlet:h,matches:O,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?ce.createElement(n4,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:U(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):U()},null)}function e0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s4(n){let e=ce.useContext(lh);return sr(e,e0(n)),e}function o4(n){let e=ce.useContext(dp);return sr(e,e0(n)),e}function a4(n){let e=ce.useContext(Da);return sr(e,e0(n)),e}function t0(n){let e=a4(n),t=e.matches[e.matches.length-1];return sr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function l4(){return t0("useRouteId")}function u4(){let n=ce.useContext(Zg),e=o4("useRouteError"),t=t0("useRouteError");return n!==void 0?n:e.errors?.[t]}function c4(){let{router:n}=s4("useNavigate"),e=t0("useNavigate"),t=ce.useRef(!1);return Kv(()=>{t.current=!0}),ce.useCallback(async(s,o={})=>{Yo(t.current,Gv),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var x2={};function Yv(n,e,t){!e&&!x2[n]&&(x2[n]=!0,Yo(!1,t))}ce.memo(h4);function h4({routes:n,future:e,state:t}){return Qv(n,void 0,t,e)}function Jv({to:n,replace:e,state:t,relative:r}){sr(uh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=ce.useContext(ea);Yo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ce.useContext(Da),{pathname:l}=wl(),u=fp(),h=Xg(n,Jg(o),l,r==="path"),p=JSON.stringify(h);return ce.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function Sf(n){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){sr(!uh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=ah(t));let{pathname:h="/",search:p="",hash:y="",state:_=null,key:S="default"}=t,w=ce.useMemo(()=>{let R=pl(h,l);return R==null?null:{location:{pathname:R,search:p,hash:y,state:_,key:S},navigationType:r}},[l,h,p,y,_,S,r]);return Yo(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:ce.createElement(ea.Provider,{value:u},ce.createElement(gd.Provider,{children:e,value:w}))}function f4({children:n,location:e}){return Zx(sg(n),e)}function sg(n,e=[]){let t=[];return ce.Children.forEach(n,(r,s)=>{if(!ce.isValidElement(r))return;let o=[...e,s];if(r.type===ce.Fragment){t.push.apply(t,sg(r.props.children,o));return}sr(r.type===Sf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sg(r.props.children,o)),t.push(l)}),t}var Ef="get",Af="application/x-www-form-urlencoded";function pp(n){return n!=null&&typeof n.tagName=="string"}function p4(n){return pp(n)&&n.tagName.toLowerCase()==="button"}function m4(n){return pp(n)&&n.tagName.toLowerCase()==="form"}function g4(n){return pp(n)&&n.tagName.toLowerCase()==="input"}function y4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v4(n,e){return n.button===0&&(!e||e==="_self")&&!y4(n)}var cf=null;function w4(){if(cf===null)try{new FormData(document.createElement("form"),0),cf=!1}catch{cf=!0}return cf}var _4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(n){return n!=null&&!_4.has(n)?(Yo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):n}function b4(n,e){let t,r,s,o,l;if(m4(n)){let u=n.getAttribute("action");r=u?pl(u,e):null,t=n.getAttribute("method")||Ef,s=Pm(n.getAttribute("enctype"))||Af,o=new FormData(n)}else if(p4(n)||g4(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?pl(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ef,s=Pm(n.getAttribute("formenctype"))||Pm(u.getAttribute("enctype"))||Af,o=new FormData(u,n),!w4()){let{name:p,type:y,value:_}=n;if(y==="image"){let S=p?`${p}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else p&&o.append(p,_)}}else{if(pp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ef,r=null,s=Af,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:l}}function n0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function x4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function E4(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await x4(o,t);return l.links?l.links():[]}return[]}));return I4(r.flat(1).filter(S4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function S2(n,e,t,r,s,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function A4(n,e,{includeHydrateFallback:t}={}){return k4(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function k4(n){return[...new Set(n)]}function N4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function I4(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(N4(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T4=new Set([100,101,204,205]);function C4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&pl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Xv(){let n=ce.useContext(lh);return n0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function P4(){let n=ce.useContext(dp);return n0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var r0=ce.createContext(void 0);r0.displayName="FrameworkContext";function Zv(){let n=ce.useContext(r0);return n0(n,"You must render this element inside a <HydratedRouter> element"),n}function L4(n,e){let t=ce.useContext(r0),[r,s]=ce.useState(!1),[o,l]=ce.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,S=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let O=j=>{j.forEach(H=>{l(H.isIntersecting)})},U=new IntersectionObserver(O,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[n]),ce.useEffect(()=>{if(r){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[r]);let w=()=>{s(!0)},R=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,S,{}]:[o,S,{onFocus:Fh(u,w),onBlur:Fh(h,R),onMouseEnter:Fh(p,w),onMouseLeave:Fh(y,R),onTouchStart:Fh(_,w)}]:[!1,S,{}]}function Fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function R4({page:n,...e}){let{router:t}=Xv(),r=ce.useMemo(()=>zv(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ce.createElement(O4,{page:n,matches:r,...e}):null}function D4(n){let{manifest:e,routeModules:t}=Zv(),[r,s]=ce.useState([]);return ce.useEffect(()=>{let o=!1;return E4(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),r}function O4({page:n,matches:e,...t}){let r=wl(),{manifest:s,routeModules:o}=Zv(),{basename:l}=Xv(),{loaderData:u,matches:h}=P4(),p=ce.useMemo(()=>S2(n,e,h,s,r,"data"),[n,e,h,s,r]),y=ce.useMemo(()=>S2(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=ce.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,O=!1;if(e.forEach(j=>{let H=s.routes[j.route.id];!H||!H.hasLoader||(!p.some(X=>X.route.id===j.route.id)&&j.route.id in u&&o[j.route.id]?.shouldRevalidate||H.hasClientLoader?O=!0:R.add(j.route.id))}),R.size===0)return[];let U=C4(n,l);return O&&R.size>0&&U.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[U.pathname+U.search]},[l,u,r,s,p,e,n,o]),S=ce.useMemo(()=>A4(y,s),[y,s]),w=D4(y);return ce.createElement(ce.Fragment,null,_.map(R=>ce.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),S.map(R=>ce.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),w.map(({key:R,link:O})=>ce.createElement("link",{key:R,...O})))}function j4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e5&&(window.__reactRouterVersion="7.6.3")}catch{}function F4({basename:n,children:e,window:t}){let r=ce.useRef();r.current==null&&(r.current=Ex({window:t,v5Compat:!0}));let s=r.current,[o,l]=ce.useState({action:s.action,location:s.location}),u=ce.useCallback(h=>{ce.startTransition(()=>l(h))},[l]);return ce.useLayoutEffect(()=>s.listen(u),[s,u]),ce.createElement(d4,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var t5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n5=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:p,preventScrollReset:y,viewTransition:_,...S},w){let{basename:R}=ce.useContext(ea),O=typeof p=="string"&&t5.test(p),U,j=!1;if(typeof p=="string"&&O&&(U=p,e5))try{let F=new URL(window.location.href),G=p.startsWith("//")?new URL(F.protocol+p):new URL(p),L=pl(G.pathname,R);G.origin===F.origin&&L!=null?p=L+G.search+G.hash:j=!0}catch{Yo(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Jx(p,{relative:s}),[X,he,be]=L4(r,S),Ne=B4(p,{replace:l,state:u,target:h,preventScrollReset:y,relative:s,viewTransition:_});function B(F){e&&e(F),F.defaultPrevented||Ne(F)}let C=ce.createElement("a",{...S,...be,href:U||H,onClick:j||o?e:B,ref:j4(w,he),target:h,"data-discover":!O&&t==="render"?"true":void 0});return X&&!O?ce.createElement(ce.Fragment,null,C,ce.createElement(R4,{page:H})):C});n5.displayName="Link";var M4=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...p},y){let _=yd(l,{relative:p.relative}),S=wl(),w=ce.useContext(dp),{navigator:R,basename:O}=ce.useContext(ea),U=w!=null&&W4(_)&&u===!0,j=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,H=S.pathname,X=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(H=H.toLowerCase(),X=X?X.toLowerCase():null,j=j.toLowerCase()),X&&O&&(X=pl(X,O)||X);const he=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let be=H===j||!s&&H.startsWith(j)&&H.charAt(he)==="/",Ne=X!=null&&(X===j||!s&&X.startsWith(j)&&X.charAt(j.length)==="/"),B={isActive:be,isPending:Ne,isTransitioning:U},C=be?e:void 0,F;typeof r=="function"?F=r(B):F=[r,be?"active":null,Ne?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(B):o;return ce.createElement(n5,{...p,"aria-current":C,className:F,ref:y,style:G,to:l,viewTransition:u},typeof h=="function"?h(B):h)});M4.displayName="NavLink";var V4=ce.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:l=Ef,action:u,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:_,...S},w)=>{let R=$4(),O=H4(u,{relative:p}),U=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&t5.test(u),H=X=>{if(h&&h(X),X.defaultPrevented)return;X.preventDefault();let he=X.nativeEvent.submitter,be=he?.getAttribute("formmethod")||l;R(he||X.currentTarget,{fetcherKey:e,method:be,navigate:t,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:_})};return ce.createElement("form",{ref:w,method:U,action:O,onSubmit:r?h:H,...S,"data-discover":!j&&n==="render"?"true":void 0})});V4.displayName="Form";function U4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r5(n){let e=ce.useContext(lh);return sr(e,U4(n)),e}function B4(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=fp(),h=wl(),p=yd(n,{relative:o});return ce.useCallback(y=>{if(v4(y,e)){y.preventDefault();let _=t!==void 0?t:rd(h)===rd(p);u(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,p,t,r,e,n,s,o,l])}var z4=0,q4=()=>`__${String(++z4)}__`;function $4(){let{router:n}=r5("useSubmit"),{basename:e}=ce.useContext(ea),t=l4();return ce.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:h,body:p}=b4(r,e);if(s.navigate===!1){let y=s.fetcherKey||q4();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function H4(n,{relative:e}={}){let{basename:t}=ce.useContext(ea),r=ce.useContext(Da);sr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...yd(n||".",{relative:e})},l=wl();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:hl([t,o.pathname])),rd(o)}function W4(n,e={}){let t=ce.useContext(Wv);sr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r5("useViewTransitionState"),s=yd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=pl(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=pl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Bf(s.pathname,l)!=null||Bf(s.pathname,o)!=null}[...T4];const i5=ce.createContext(void 0),E2="notes-app-settings",Lm=[{id:"save",name:"Save Note",description:"Save the current note",keys:"Cmd+S",category:"general"},{id:"search",name:"Search",description:"Open search dialog",keys:"Cmd+F",category:"general"},{id:"toggleSidebar",name:"Toggle Sidebar",description:"Show or hide the sidebar",keys:"Cmd+Shift+B",category:"general"},{id:"newNote",name:"New Note",description:"Create a new note",keys:"Cmd+N",category:"general"},{id:"closeSearch",name:"Close Search",description:"Close search dialog",keys:"Escape",category:"general"},{id:"increaseFontSize",name:"Increase Font Size",description:"Make text larger",keys:"Cmd++",category:"editor"},{id:"decreaseFontSize",name:"Decrease Font Size",description:"Make text smaller",keys:"Cmd+-",category:"editor"},{id:"indent",name:"Indent",description:"Indent current line",keys:"Tab",category:"editor"},{id:"unindent",name:"Unindent",description:"Remove indentation",keys:"Shift+Tab",category:"editor"},{id:"bold",name:"Bold",description:"Make text bold",keys:"Cmd+B",category:"formatting"},{id:"italic",name:"Italic",description:"Make text italic",keys:"Cmd+I",category:"formatting"},{id:"underline",name:"Underline",description:"Underline text",keys:"Cmd+U",category:"formatting"},{id:"bulletList",name:"Bullet List",description:"Create bullet list",keys:"Cmd+Shift+8",category:"formatting"},{id:"numberedList",name:"Numbered List",description:"Create numbered list",keys:"Cmd+Shift+7",category:"formatting"}],G4=({children:n})=>{const[e,t]=ce.useState(!1),[r,s]=ce.useState(3e3),[o,l]=ce.useState("light"),[u,h]=ce.useState(14),[p,y]=ce.useState("Inter, system-ui, sans-serif"),[_,S]=ce.useState(1.6),[w,R]=ce.useState(!0),[O,U]=ce.useState(!1),[j,H]=ce.useState(2),[X,he]=ce.useState(!1),[be,Ne]=ce.useState(!0),[B,C]=ce.useState(!0),[F,G]=ce.useState(Lm),L=(oe,ue)=>{G(Ae=>Ae.map(We=>We.id===oe?{...We,keys:ue}:We))},D=()=>{G(Lm)};ce.useEffect(()=>{T({shortcuts:F})},[F]),ce.useEffect(()=>{const oe=localStorage.getItem(E2);if(oe)try{const ue=JSON.parse(oe);t(ue.autoSave??!1),s(ue.autoSaveInterval??3e3),l(ue.theme??"light"),h(ue.fontSize??14),y(ue.fontFamily??"Inter, system-ui, sans-serif"),S(ue.lineHeight??1.6),R(ue.wordWrap??!0),U(ue.showLineNumbers??!1),H(ue.tabSize??2),he(ue.minimap??!1),Ne(ue.bracketMatching??!0),C(ue.autoIndent??!0),G(ue.shortcuts??Lm)}catch(ue){console.error("Error loading settings:",ue)}},[]);const T=oe=>{const ue={autoSave:e,autoSaveInterval:r,theme:o,fontSize:u,fontFamily:p,lineHeight:_,wordWrap:w,showLineNumbers:O,tabSize:j,minimap:X,bracketMatching:be,autoIndent:B,shortcuts:F,...oe};localStorage.setItem(E2,JSON.stringify(ue))},se=oe=>{t(oe),T({autoSave:oe})},Pe=oe=>{s(oe),T({autoSaveInterval:oe})},Ie=()=>{const oe=o==="light"?"dark":"light";l(oe),T({theme:oe})},we=oe=>{h(oe),T({fontSize:oe})},ie=oe=>{y(oe),T({fontFamily:oe})},_e=oe=>{S(oe),T({lineHeight:oe})},fe=oe=>{R(oe),T({wordWrap:oe})},Z=oe=>{U(oe),T({showLineNumbers:oe})},A=oe=>{H(oe),T({tabSize:oe})},z=oe=>{he(oe),T({minimap:oe})},J=oe=>{Ne(oe),T({bracketMatching:oe})},te=oe=>{C(oe),T({autoIndent:oe})};ce.useEffect(()=>{o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const ae={autoSave:e,setAutoSave:se,autoSaveInterval:r,setAutoSaveInterval:Pe,theme:o,toggleTheme:Ie,fontSize:u,setFontSize:we,fontFamily:p,setFontFamily:ie,lineHeight:_,setLineHeight:_e,wordWrap:w,setWordWrap:fe,showLineNumbers:O,setShowLineNumbers:Z,tabSize:j,setTabSize:A,minimap:X,setMinimap:z,bracketMatching:be,setBracketMatching:J,autoIndent:B,setAutoIndent:te,shortcuts:F,setShortcuts:G,updateShortcut:L,resetShortcuts:D};return N.jsx(i5.Provider,{value:ae,children:n})},s5=()=>{const n=ce.useContext(i5);if(n===void 0)throw new Error("useSettings must be used within a SettingsProvider");return n},o5=ce.createContext(void 0),K4=()=>{const n=ce.useContext(o5);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},Q4=({children:n})=>{const[e,t]=ce.useState(()=>localStorage.getItem("notes-app-theme")||"system");ce.useEffect(()=>{localStorage.setItem("notes-app-theme",e);const s=o=>{if(o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",l)}else document.documentElement.classList.toggle("dark",o==="dark")};if(s(e),e==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)"),l=()=>s("system");return o.addEventListener("change",l),()=>o.removeEventListener("change",l)}},[e]);const r=()=>{t(s=>s==="light"?"dark":s==="dark"?"system":"light")};return N.jsx(o5.Provider,{value:{theme:e,setTheme:t,toggleTheme:r},children:n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Mt=(n,e)=>{const t=ce.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:h,...p},y)=>ce.createElement("svg",{ref:y,...Y4,width:s,height:s,stroke:r,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${J4(n)}`,u].join(" "),...p},[...e.map(([_,S])=>ce.createElement(_,S)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Mt("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Mt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Mt("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Mt("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Mt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Mt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Mt("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Mt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Mt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Mt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Mt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Mt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Mt("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Mt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Mt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Mt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Mt("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Mt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Mt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Mt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Mt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Mt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=Mt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Mt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Mt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Mt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Mt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Mt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Fn(n){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(n)}var Ui=Uint8Array,Bs=Uint16Array,s0=Int32Array,mp=new Ui([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gp=new Ui([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dg=new Ui([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f5=function(n,e){for(var t=new Bs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new s0(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},p5=f5(mp,2),m5=p5.b,fg=p5.r;m5[28]=258,fg[258]=28;var g5=f5(gp,0),k3=g5.b,L2=g5.r,pg=new Bs(32768);for(var Xn=0;Xn<32768;++Xn){var ru=(Xn&43690)>>1|(Xn&21845)<<1;ru=(ru&52428)>>2|(ru&13107)<<2,ru=(ru&61680)>>4|(ru&3855)<<4,pg[Xn]=((ru&65280)>>8|(ru&255)<<8)>>1}var Aa=function(n,e,t){for(var r=n.length,s=0,o=new Bs(e);s<r;++s)n[s]&&++o[n[s]-1];var l=new Bs(e);for(s=1;s<e;++s)l[s]=l[s-1]+o[s-1]<<1;var u;if(t){u=new Bs(1<<e);var h=15-e;for(s=0;s<r;++s)if(n[s])for(var p=s<<4|n[s],y=e-n[s],_=l[n[s]-1]++<<y,S=_|(1<<y)-1;_<=S;++_)u[pg[_]>>h]=p}else for(u=new Bs(r),s=0;s<r;++s)n[s]&&(u[s]=pg[l[n[s]-1]++]>>15-n[s]);return u},gu=new Ui(288);for(var Xn=0;Xn<144;++Xn)gu[Xn]=8;for(var Xn=144;Xn<256;++Xn)gu[Xn]=9;for(var Xn=256;Xn<280;++Xn)gu[Xn]=7;for(var Xn=280;Xn<288;++Xn)gu[Xn]=8;var id=new Ui(32);for(var Xn=0;Xn<32;++Xn)id[Xn]=5;var N3=Aa(gu,9,0),I3=Aa(gu,9,1),T3=Aa(id,5,0),C3=Aa(id,5,1),Rm=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ho=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Dm=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},o0=function(n){return(n+7)/8|0},y5=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ui(n.subarray(e,t))},P3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Go=function(n,e,t){var r=new Error(e||P3[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Go),!t)throw r;return r},L3=function(n,e,t,r){var s=n.length,o=0;if(!s||e.f&&!e.l)return t||new Ui(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new Ui(s*3));var p=function($e){var Ye=t.length;if($e>Ye){var it=new Ui(Math.max(Ye*2,$e));it.set(t),t=it}},y=e.f||0,_=e.p||0,S=e.b||0,w=e.l,R=e.d,O=e.m,U=e.n,j=s*8;do{if(!w){y=Ho(n,_,1);var H=Ho(n,_+1,3);if(_+=3,H)if(H==1)w=I3,R=C3,O=9,U=5;else if(H==2){var Ne=Ho(n,_,31)+257,B=Ho(n,_+10,15)+4,C=Ne+Ho(n,_+5,31)+1;_+=14;for(var F=new Ui(C),G=new Ui(19),L=0;L<B;++L)G[dg[L]]=Ho(n,_+L*3,7);_+=B*3;for(var D=Rm(G),T=(1<<D)-1,se=Aa(G,D,1),L=0;L<C;){var Pe=se[Ho(n,_,T)];_+=Pe&15;var X=Pe>>4;if(X<16)F[L++]=X;else{var Ie=0,we=0;for(X==16?(we=3+Ho(n,_,3),_+=2,Ie=F[L-1]):X==17?(we=3+Ho(n,_,7),_+=3):X==18&&(we=11+Ho(n,_,127),_+=7);we--;)F[L++]=Ie}}var ie=F.subarray(0,Ne),_e=F.subarray(Ne);O=Rm(ie),U=Rm(_e),w=Aa(ie,O,1),R=Aa(_e,U,1)}else Go(1);else{var X=o0(_)+4,he=n[X-4]|n[X-3]<<8,be=X+he;if(be>s){h&&Go(0);break}u&&p(S+he),t.set(n.subarray(X,be),S),e.b=S+=he,e.p=_=be*8,e.f=y;continue}if(_>j){h&&Go(0);break}}u&&p(S+131072);for(var fe=(1<<O)-1,Z=(1<<U)-1,A=_;;A=_){var Ie=w[Dm(n,_)&fe],z=Ie>>4;if(_+=Ie&15,_>j){h&&Go(0);break}if(Ie||Go(2),z<256)t[S++]=z;else if(z==256){A=_,w=null;break}else{var J=z-254;if(z>264){var L=z-257,te=mp[L];J=Ho(n,_,(1<<te)-1)+m5[L],_+=te}var ae=R[Dm(n,_)&Z],oe=ae>>4;ae||Go(3),_+=ae&15;var _e=k3[oe];if(oe>3){var te=gp[oe];_e+=Dm(n,_)&(1<<te)-1,_+=te}if(_>j){h&&Go(0);break}u&&p(S+131072);var ue=S+J;if(S<_e){var Ae=o-_e,We=Math.min(_e,ue);for(Ae+S<0&&Go(3);S<We;++S)t[S]=r[Ae+S]}for(;S<ue;++S)t[S]=t[S-_e]}}e.l=w,e.p=A,e.b=S,e.f=y,w&&(y=1,e.m=O,e.d=R,e.n=U)}while(!y);return S!=t.length&&l?y5(t,0,S):t.subarray(0,S)},al=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Mh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Om=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:w5,l:0};if(s==1){var l=new Ui(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(be,Ne){return be.f-Ne.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],p=0,y=1,_=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};y!=s-1;)u=t[t[p].f<t[_].f?p++:_++],h=t[p!=y&&t[p].f<t[_].f?p++:_++],t[y++]={s:-1,f:u.f+h.f,l:u,r:h};for(var S=o[0].s,r=1;r<s;++r)o[r].s>S&&(S=o[r].s);var w=new Bs(S+1),R=mg(t[y-1],w,0);if(R>e){var r=0,O=0,U=R-e,j=1<<U;for(o.sort(function(Ne,B){return w[B.s]-w[Ne.s]||Ne.f-B.f});r<s;++r){var H=o[r].s;if(w[H]>e)O+=j-(1<<R-w[H]),w[H]=e;else break}for(O>>=U;O>0;){var X=o[r].s;w[X]<e?O-=1<<e-w[X]++-1:++r}for(;r>=0&&O;--r){var he=o[r].s;w[he]==e&&(--w[he],++O)}R=e}return{t:new Ui(w),l:R}},mg=function(n,e,t){return n.s==-1?Math.max(mg(n.l,e,t+1),mg(n.r,e,t+1)):e[n.s]=t},R2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Bs(++e),r=0,s=n[0],o=1,l=function(h){t[r++]=h},u=1;u<=e;++u)if(n[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=n[u]}return{c:t.subarray(0,r),n:e}},Vh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},v5=function(n,e,t){var r=t.length,s=o0(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},D2=function(n,e,t,r,s,o,l,u,h,p,y){al(e,y++,t),++s[256];for(var _=Om(s,15),S=_.t,w=_.l,R=Om(o,15),O=R.t,U=R.l,j=R2(S),H=j.c,X=j.n,he=R2(O),be=he.c,Ne=he.n,B=new Bs(19),C=0;C<H.length;++C)++B[H[C]&31];for(var C=0;C<be.length;++C)++B[be[C]&31];for(var F=Om(B,7),G=F.t,L=F.l,D=19;D>4&&!G[dg[D-1]];--D);var T=p+5<<3,se=Vh(s,gu)+Vh(o,id)+l,Pe=Vh(s,S)+Vh(o,O)+l+14+3*D+Vh(B,G)+2*B[16]+3*B[17]+7*B[18];if(h>=0&&T<=se&&T<=Pe)return v5(e,y,n.subarray(h,h+p));var Ie,we,ie,_e;if(al(e,y,1+(Pe<se)),y+=2,Pe<se){Ie=Aa(S,w,0),we=S,ie=Aa(O,U,0),_e=O;var fe=Aa(G,L,0);al(e,y,X-257),al(e,y+5,Ne-1),al(e,y+10,D-4),y+=14;for(var C=0;C<D;++C)al(e,y+3*C,G[dg[C]]);y+=3*D;for(var Z=[H,be],A=0;A<2;++A)for(var z=Z[A],C=0;C<z.length;++C){var J=z[C]&31;al(e,y,fe[J]),y+=G[J],J>15&&(al(e,y,z[C]>>5&127),y+=z[C]>>12)}}else Ie=N3,we=gu,ie=T3,_e=id;for(var C=0;C<u;++C){var te=r[C];if(te>255){var J=te>>18&31;Mh(e,y,Ie[J+257]),y+=we[J+257],J>7&&(al(e,y,te>>23&31),y+=mp[J]);var ae=te&31;Mh(e,y,ie[ae]),y+=_e[ae],ae>3&&(Mh(e,y,te>>5&8191),y+=gp[ae])}else Mh(e,y,Ie[te]),y+=we[te]}return Mh(e,y,Ie[256]),y+we[256]},R3=new s0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),w5=new Ui(0),D3=function(n,e,t,r,s,o){var l=o.z||n.length,u=new Ui(r+l+5*(1+Math.ceil(l/7e3))+s),h=u.subarray(r,u.length-s),p=o.l,y=(o.r||0)&7;if(e){y&&(h[0]=o.r>>3);for(var _=R3[e-1],S=_>>13,w=_&8191,R=(1<<t)-1,O=o.p||new Bs(32768),U=o.h||new Bs(R+1),j=Math.ceil(t/3),H=2*j,X=function(kt){return(n[kt]^n[kt+1]<<j^n[kt+2]<<H)&R},he=new s0(25e3),be=new Bs(288),Ne=new Bs(32),B=0,C=0,F=o.i||0,G=0,L=o.w||0,D=0;F+2<l;++F){var T=X(F),se=F&32767,Pe=U[T];if(O[se]=Pe,U[T]=se,L<=F){var Ie=l-F;if((B>7e3||G>24576)&&(Ie>423||!p)){y=D2(n,h,0,he,be,Ne,C,G,D,F-D,y),G=B=C=0,D=F;for(var we=0;we<286;++we)be[we]=0;for(var we=0;we<30;++we)Ne[we]=0}var ie=2,_e=0,fe=w,Z=se-Pe&32767;if(Ie>2&&T==X(F-Z))for(var A=Math.min(S,Ie)-1,z=Math.min(32767,F),J=Math.min(258,Ie);Z<=z&&--fe&&se!=Pe;){if(n[F+ie]==n[F+ie-Z]){for(var te=0;te<J&&n[F+te]==n[F+te-Z];++te);if(te>ie){if(ie=te,_e=Z,te>A)break;for(var ae=Math.min(Z,te-2),oe=0,we=0;we<ae;++we){var ue=F-Z+we&32767,Ae=O[ue],We=ue-Ae&32767;We>oe&&(oe=We,Pe=ue)}}}se=Pe,Pe=O[se],Z+=se-Pe&32767}if(_e){he[G++]=268435456|fg[ie]<<18|L2[_e];var $e=fg[ie]&31,Ye=L2[_e]&31;C+=mp[$e]+gp[Ye],++be[257+$e],++Ne[Ye],L=F+ie,++B}else he[G++]=n[F],++be[n[F]]}}for(F=Math.max(F,L);F<l;++F)he[G++]=n[F],++be[n[F]];y=D2(n,h,p,he,be,Ne,C,G,D,F-D,y),p||(o.r=y&7|h[y/8|0]<<3,y-=7,o.h=U,o.p=O,o.i=F,o.w=L)}else{for(var F=o.w||0;F<l+p;F+=65535){var it=F+65535;it>=l&&(h[y/8|0]=p,it=l),y=v5(h,y+1,n.subarray(F,it))}o.i=l}return y5(u,0,r+o0(y)+s)},_5=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,l=0;l!=o;){for(var u=Math.min(l+2655,o);l<u;++l)s+=r+=t[l];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},O3=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Ui(o.length+n.length);l.set(o),l.set(n,o.length),n=l,s.w=o.length}return D3(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},b5=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},j3=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=_5();s.p(e.dictionary),b5(n,2,s.d())}},F3=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Go(6,"invalid zlib data"),(n[1]>>5&1)==1&&Go(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function gg(n,e){e||(e={});var t=_5();t.p(n);var r=O3(n,e,e.dictionary?6:2,4);return j3(r,e),b5(r,r.length-4,t.d()),r}function M3(n,e){return L3(n.subarray(F3(n),-4),{i:2},e,e)}var V3=typeof TextDecoder<"u"&&new TextDecoder,U3=0;try{V3.decode(w5,{stream:!0}),U3=1}catch{}var Bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jm(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var zn={log:jm,warn:function(n){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):jm.call(null,arguments))},error:function(n){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):jm(n))}};function Fm(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Wu(r.response,e,t)},r.onerror=function(){zn.error("could not download file")},r.send()}function O2(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Kh,yg,Wu=Bt.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Bt.URL||Bt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?O2(s.href)?Fm(n,e,t):hf(s,s.target="_blank"):hf(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){hf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(O2(n))Fm(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){hf(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:Fn(o)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Fm(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Bt.HTMLElement)||Bt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=l?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},u.readAsDataURL(n)}else{var h=Bt.URL||Bt.webkitURL,p=h.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function x5(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,l=s.exec(n);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mm(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=Ri(t,r,s,o,e[0],7,-680876936),o=Ri(o,t,r,s,e[1],12,-389564586),s=Ri(s,o,t,r,e[2],17,606105819),r=Ri(r,s,o,t,e[3],22,-1044525330),t=Ri(t,r,s,o,e[4],7,-176418897),o=Ri(o,t,r,s,e[5],12,1200080426),s=Ri(s,o,t,r,e[6],17,-1473231341),r=Ri(r,s,o,t,e[7],22,-45705983),t=Ri(t,r,s,o,e[8],7,1770035416),o=Ri(o,t,r,s,e[9],12,-1958414417),s=Ri(s,o,t,r,e[10],17,-42063),r=Ri(r,s,o,t,e[11],22,-1990404162),t=Ri(t,r,s,o,e[12],7,1804603682),o=Ri(o,t,r,s,e[13],12,-40341101),s=Ri(s,o,t,r,e[14],17,-1502002290),t=Di(t,r=Ri(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Di(o,t,r,s,e[6],9,-1069501632),s=Di(s,o,t,r,e[11],14,643717713),r=Di(r,s,o,t,e[0],20,-373897302),t=Di(t,r,s,o,e[5],5,-701558691),o=Di(o,t,r,s,e[10],9,38016083),s=Di(s,o,t,r,e[15],14,-660478335),r=Di(r,s,o,t,e[4],20,-405537848),t=Di(t,r,s,o,e[9],5,568446438),o=Di(o,t,r,s,e[14],9,-1019803690),s=Di(s,o,t,r,e[3],14,-187363961),r=Di(r,s,o,t,e[8],20,1163531501),t=Di(t,r,s,o,e[13],5,-1444681467),o=Di(o,t,r,s,e[2],9,-51403784),s=Di(s,o,t,r,e[7],14,1735328473),t=Oi(t,r=Di(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Oi(o,t,r,s,e[8],11,-2022574463),s=Oi(s,o,t,r,e[11],16,1839030562),r=Oi(r,s,o,t,e[14],23,-35309556),t=Oi(t,r,s,o,e[1],4,-1530992060),o=Oi(o,t,r,s,e[4],11,1272893353),s=Oi(s,o,t,r,e[7],16,-155497632),r=Oi(r,s,o,t,e[10],23,-1094730640),t=Oi(t,r,s,o,e[13],4,681279174),o=Oi(o,t,r,s,e[0],11,-358537222),s=Oi(s,o,t,r,e[3],16,-722521979),r=Oi(r,s,o,t,e[6],23,76029189),t=Oi(t,r,s,o,e[9],4,-640364487),o=Oi(o,t,r,s,e[12],11,-421815835),s=Oi(s,o,t,r,e[15],16,530742520),t=ji(t,r=Oi(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ji(o,t,r,s,e[7],10,1126891415),s=ji(s,o,t,r,e[14],15,-1416354905),r=ji(r,s,o,t,e[5],21,-57434055),t=ji(t,r,s,o,e[12],6,1700485571),o=ji(o,t,r,s,e[3],10,-1894986606),s=ji(s,o,t,r,e[10],15,-1051523),r=ji(r,s,o,t,e[1],21,-2054922799),t=ji(t,r,s,o,e[8],6,1873313359),o=ji(o,t,r,s,e[15],10,-30611744),s=ji(s,o,t,r,e[6],15,-1560198380),r=ji(r,s,o,t,e[13],21,1309151649),t=ji(t,r,s,o,e[4],6,-145523070),o=ji(o,t,r,s,e[11],10,-1120210379),s=ji(s,o,t,r,e[2],15,718787259),r=ji(r,s,o,t,e[9],21,-343485551),n[0]=uu(t,n[0]),n[1]=uu(r,n[1]),n[2]=uu(s,n[2]),n[3]=uu(o,n[3])}function yp(n,e,t,r,s,o){return e=uu(uu(e,n),uu(r,o)),uu(e<<s|e>>>32-s,t)}function Ri(n,e,t,r,s,o,l){return yp(e&t|~e&r,n,e,s,o,l)}function Di(n,e,t,r,s,o,l){return yp(e&r|t&~r,n,e,s,o,l)}function Oi(n,e,t,r,s,o,l){return yp(e^t^r,n,e,s,o,l)}function ji(n,e,t,r,s,o,l){return yp(t^(e|~r),n,e,s,o,l)}function S5(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Mm(r,B3(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Mm(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Mm(r,s),r}function B3(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Kh=Bt.atob.bind(Bt),yg=Bt.btoa.bind(Bt);var j2="0123456789abcdef".split("");function z3(n){for(var e="",t=0;t<4;t++)e+=j2[n>>8*t+4&15]+j2[n>>8*t&15];return e}function q3(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function vg(n){return S5(n).map(q3).join("")}var $3=function(n){for(var e=0;e<n.length;e++)n[e]=z3(n[e]);return n.join("")}(S5("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(n,e){if($3){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wg(n,e){var t,r,s,o;if(n!==t){for(var l=(s=n,o=1+(256/n.length>>0),new Array(o+1).join(s)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var y=u[h];p=(p+y+l.charCodeAt(h))%256,u[h]=u[p],u[p]=y}t=n,r=u}else u=r;var _=e.length,S=0,w=0,R="";for(h=0;h<_;h++)w=(w+(y=u[S=(S+1)%256]))%256,u[S]=u[w],u[w]=y,l=u[(u[S]+u[w])%256],R+=String.fromCharCode(e.charCodeAt(h)^l);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F2={print:4,modify:8,copy:16,"annot-forms":32};function Fc(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(u){if(F2.perm!==void 0)throw new Error("Invalid permission: "+u);s+=F2[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=vg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=wg(this.encryptionKey,this.padding)}function Mc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[r]}return e}function M2(n){if(Fn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(n,r)}catch(u){Bt.console&&zn.error("jsPDF PubSub Error",u.message,u)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qf(n){if(!(this instanceof qf))return new qf(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function E5(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ku(n,e,t,r,s){if(!(this instanceof Ku))return new Ku(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,E5.call(this,r,s)}function qc(n,e,t,r,s){if(!(this instanceof qc))return new qc(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,E5.call(this,r,s)}function Vt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],l=[],u=1,h=16,p="S",y=null;Fn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),p=n.defaultPathOperation||"S"),l=n.filters||(o===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,S={},w={internal:{},__private__:{}};w.__private__.PubSub=M2;var R="1.3",O=w.__private__.getPdfVersion=function(){return R};w.__private__.setPdfVersion=function(v){R=v};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return U};var j=w.__private__.getPageFormat=function(v){return U[v]};s=s||"a4";var H={COMPAT:"compat",ADVANCED:"advanced"},X=H.COMPAT;function he(){this.saveGraphicsState(),ne(new at(ut,0,0,-ut,0,Qr()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),p="n",X=H.ADVANCED}function be(){this.restoreGraphicsState(),p="S",X=H.COMPAT}var Ne=w.__private__.combineFontStyleAndFontWeight=function(v,V){if(v=="bold"&&V=="normal"||v=="bold"&&V==400||v=="normal"&&V=="italic"||v=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(v=V==400||V==="normal"?v==="italic"?"italic":"normal":V!=700&&V!=="bold"||v!=="normal"?(V==700?"bold":V)+""+v:"bold"),v};w.advancedAPI=function(v){var V=X===H.COMPAT;return V&&he.call(this),typeof v!="function"||(v(this),V&&be.call(this)),this},w.compatAPI=function(v){var V=X===H.ADVANCED;return V&&be.call(this),typeof v!="function"||(v(this),V&&he.call(this)),this},w.isAdvancedAPI=function(){return X===H.ADVANCED};var B,C=function(v){if(X!==H.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=w.roundToPrecision=w.__private__.roundToPrecision=function(v,V){var re=e||V;if(isNaN(v)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(re).replace(/0+$/,"")};B=w.hpf=w.__private__.hpf=typeof h=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,h)}:h==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,16)};var G=w.f2=w.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return F(v,2)},L=w.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return F(v,3)},D=w.scale=w.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return X===H.COMPAT?v*ut:X===H.ADVANCED?v:void 0},T=function(v){return X===H.COMPAT?Qr()-v:X===H.ADVANCED?v:void 0},se=function(v){return D(T(v))};w.__private__.setPrecision=w.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var Pe,Ie="00000000000000000000000000000000",we=w.__private__.getFileId=function(){return Ie},ie=w.__private__.setFileId=function(v){return Ie=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(fn=new Fc(y.userPermissions,y.userPassword,y.ownerPassword,Ie)),Ie};w.setFileId=function(v){return ie(v),this},w.getFileId=function(){return we()};var _e=w.__private__.convertDateToPDFDate=function(v){var V=v.getTimezoneOffset(),re=V<0?"+":"-",de=Math.floor(Math.abs(V/60)),ke=Math.abs(V%60),Ve=[re,J(de),"'",J(ke),"'"].join("");return["D:",v.getFullYear(),J(v.getMonth()+1),J(v.getDate()),J(v.getHours()),J(v.getMinutes()),J(v.getSeconds()),Ve].join("")},fe=w.__private__.convertPDFDateToDate=function(v){var V=parseInt(v.substr(2,4),10),re=parseInt(v.substr(6,2),10)-1,de=parseInt(v.substr(8,2),10),ke=parseInt(v.substr(10,2),10),Ve=parseInt(v.substr(12,2),10),Qe=parseInt(v.substr(14,2),10);return new Date(V,re,de,ke,Ve,Qe,0)},Z=w.__private__.setCreationDate=function(v){var V;if(v===void 0&&(v=new Date),v instanceof Date)V=_e(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=v}return Pe=V},A=w.__private__.getCreationDate=function(v){var V=Pe;return v==="jsDate"&&(V=fe(Pe)),V};w.setCreationDate=function(v){return Z(v),this},w.getCreationDate=function(v){return A(v)};var z,J=w.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},te=w.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ae=0,oe=[],ue=[],Ae=0,We=[],$e=[],Ye=!1,it=ue,kt=function(){ae=0,Ae=0,ue=[],oe=[],We=[],Ss=Vn(),Hr=Vn()};w.__private__.setCustomOutputDestination=function(v){Ye=!0,it=v};var Me=function(v){Ye||(it=v)};w.__private__.resetCustomOutputDestination=function(){Ye=!1,it=ue};var ne=w.__private__.out=function(v){return v=v.toString(),Ae+=v.length+1,it.push(v),it},_t=w.__private__.write=function(v){return ne(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ft=w.__private__.getArrayBuffer=function(v){for(var V=v.length,re=new ArrayBuffer(V),de=new Uint8Array(re);V--;)de[V]=v.charCodeAt(V);return re},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Ze};var nt=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(v){return nt=X===H.ADVANCED?v/ut:v,this};var st,lt=w.__private__.getFontSize=w.getFontSize=function(){return X===H.COMPAT?nt:nt*ut},xt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(v){return xt=v,this},w.__private__.getR2L=w.getR2L=function(){return xt};var Rt,Ut=w.__private__.setZoomMode=function(v){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))st=v;else if(isNaN(v)){if(V.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');st=v}else st=parseInt(v,10)};w.__private__.getZoomMode=function(){return st};var pt,Tt=w.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Rt=v};w.__private__.getPageMode=function(){return Rt};var Zt=w.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');pt=v};w.__private__.getLayoutMode=function(){return pt},w.__private__.setDisplayMode=w.setDisplayMode=function(v,V,re){return Ut(v),Zt(V),Tt(re),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(v){if(Object.keys(Ct).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[v]},w.__private__.getDocumentProperties=function(){return Ct},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(v){for(var V in Ct)Ct.hasOwnProperty(V)&&v[V]&&(Ct[V]=v[V]);return this},w.__private__.setDocumentProperty=function(v,V){if(Object.keys(Ct).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[v]=V};var $t,ut,qn,tn,Pr,hn={},yn={},or=[],en={},$r={},dn={},Dn={},ve=null,Oe=0,ze=[],tt=new M2(w),mt=n.hotfixes||[],Nt={},Ft={},an=[],at=function v(V,re,de,ke,Ve,Qe){if(!(this instanceof v))return new v(V,re,de,ke,Ve,Qe);isNaN(V)&&(V=1),isNaN(re)&&(re=0),isNaN(de)&&(de=0),isNaN(ke)&&(ke=1),isNaN(Ve)&&(Ve=0),isNaN(Qe)&&(Qe=0),this._matrix=[V,re,de,ke,Ve,Qe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(v)},at.prototype.multiply=function(v){var V=v.sx*this.sx+v.shy*this.shx,re=v.sx*this.shy+v.shy*this.sy,de=v.shx*this.sx+v.sy*this.shx,ke=v.shx*this.shy+v.sy*this.sy,Ve=v.tx*this.sx+v.ty*this.shx+this.tx,Qe=v.tx*this.shy+v.ty*this.sy+this.ty;return new at(V,re,de,ke,Ve,Qe)},at.prototype.decompose=function(){var v=this.sx,V=this.shy,re=this.shx,de=this.sy,ke=this.tx,Ve=this.ty,Qe=Math.sqrt(v*v+V*V),ct=(v/=Qe)*re+(V/=Qe)*de;re-=v*ct,de-=V*ct;var f=Math.sqrt(re*re+de*de);return ct/=f,v*(de/=f)<V*(re/=f)&&(v=-v,V=-V,ct=-ct,Qe=-Qe),{scale:new at(Qe,0,0,f,0,0),translate:new at(1,0,0,1,ke,Ve),rotate:new at(v,V,-V,v,0,0),skew:new at(1,0,ct,1,0,0)}},at.prototype.toString=function(v){return this.join(" ")},at.prototype.inversed=function(){var v=this.sx,V=this.shy,re=this.shx,de=this.sy,ke=this.tx,Ve=this.ty,Qe=1/(v*de-V*re),ct=de*Qe,f=-V*Qe,E=-re*Qe,P=v*Qe;return new at(ct,f,E,P,-ct*ke-E*Ve,-f*ke-P*Ve)},at.prototype.applyToPoint=function(v){var V=v.x*this.sx+v.y*this.shx+this.tx,re=v.x*this.shy+v.y*this.sy+this.ty;return new Gi(V,re)},at.prototype.applyToRectangle=function(v){var V=this.applyToPoint(v),re=this.applyToPoint(new Gi(v.x+v.w,v.y+v.h));return new Ls(V.x,V.y,re.x-V.x,re.y-V.y)},at.prototype.clone=function(){var v=this.sx,V=this.shy,re=this.shx,de=this.sy,ke=this.tx,Ve=this.ty;return new at(v,V,re,de,ke,Ve)},w.Matrix=at;var Zn=w.matrixMult=function(v,V){return V.multiply(v)},hr=new at(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=hr;var dr=function(v,V){if(!$r[v]){var re=(V instanceof Ku?"Sh":"P")+(Object.keys(en).length+1).toString(10);V.id=re,$r[v]=re,en[re]=V,tt.publish("addPattern",V)}};w.ShadingPattern=Ku,w.TilingPattern=qc,w.addShadingPattern=function(v,V){return C("addShadingPattern()"),dr(v,V),this},w.beginTilingPattern=function(v){C("beginTilingPattern()"),ua(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},w.endTilingPattern=function(v,V){C("endTilingPattern()"),V.stream=$e[z].join(`
`),dr(v,V),tt.publish("endTilingPattern",V),an.pop().restore()};var Mn=w.__private__.newObject=function(){var v=Vn();return Wn(v,!0),v},Vn=w.__private__.newObjectDeferred=function(){return ae++,oe[ae]=function(){return Ae},ae},Wn=function(v,V){return V=typeof V=="boolean"&&V,oe[v]=Ae,V&&ne(v+" 0 obj"),v},qs=w.__private__.newAdditionalObject=function(){var v={objId:Vn(),content:""};return We.push(v),v},Ss=Vn(),Hr=Vn(),bi=w.__private__.decodeColorString=function(v){var V=v.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var re=parseFloat(V[0]);V=[re,re,re,"r"]}for(var de="#",ke=0;ke<3;ke++)de+=("0"+Math.floor(255*parseFloat(V[ke])).toString(16)).slice(-2);return de},ar=w.__private__.encodeColorString=function(v){var V;typeof v=="string"&&(v={ch1:v});var re=v.ch1,de=v.ch2,ke=v.ch3,Ve=v.ch4,Qe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var ct=new x5(re);if(ct.ok)re=ct.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var f=parseInt(re.substr(1),16);re=f>>16&255,de=f>>8&255,ke=255&f}if(de===void 0||Ve===void 0&&re===de&&de===ke)if(typeof re=="string")V=re+" "+Qe[0];else switch(v.precision){case 2:V=G(re/255)+" "+Qe[0];break;case 3:default:V=L(re/255)+" "+Qe[0]}else if(Ve===void 0||Fn(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return V=["1.","1.","1.",Qe[1]].join(" ");if(typeof re=="string")V=[re,de,ke,Qe[1]].join(" ");else switch(v.precision){case 2:V=[G(re/255),G(de/255),G(ke/255),Qe[1]].join(" ");break;default:case 3:V=[L(re/255),L(de/255),L(ke/255),Qe[1]].join(" ")}}else if(typeof re=="string")V=[re,de,ke,Ve,Qe[2]].join(" ");else switch(v.precision){case 2:V=[G(re),G(de),G(ke),G(Ve),Qe[2]].join(" ");break;case 3:default:V=[L(re),L(de),L(ke),L(Ve),Qe[2]].join(" ")}return V},Wr=w.__private__.getFilters=function(){return l},er=w.__private__.putStream=function(v){var V=(v=v||{}).data||"",re=v.filters||Wr(),de=v.alreadyAppliedFilters||[],ke=v.addLength1||!1,Ve=V.length,Qe=v.objectId,ct=function(Gt){return Gt};if(y!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(ct=fn.encryptor(Qe,0));var f={};re===!0&&(re=["FlateEncode"]);var E=v.additionalKeyValues||[],P=(f=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(V,re):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(f.data.length!==0&&(E.push({key:"Length",value:f.data.length}),ke===!0&&E.push({key:"Length1",value:Ve})),P.length!=0)if(P.split("/").length-1==1)E.push({key:"Filter",value:P});else{E.push({key:"Filter",value:"["+P+"]"});for(var Q=0;Q<E.length;Q+=1)if(E[Q].key==="DecodeParms"){for(var Se=[],Re=0;Re<f.reverseChain.split("/").length-1;Re+=1)Se.push("null");Se.push(E[Q].value),E[Q].value="["+Se.join(" ")+"]"}}ne("<<");for(var Je=0;Je<E.length;Je++)ne("/"+E[Je].key+" "+E[Je].value);ne(">>"),f.data.length!==0&&(ne("stream"),ne(ct(f.data)),ne("endstream"))},zi=w.__private__.putPage=function(v){var V=v.number,re=v.data,de=v.objId,ke=v.contentsObjId;Wn(de,!0),ne("<</Type /Page"),ne("/Parent "+v.rootDictionaryObjId+" 0 R"),ne("/Resources "+v.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(B(v.mediaBox.bottomLeftX))+" "+parseFloat(B(v.mediaBox.bottomLeftY))+" "+B(v.mediaBox.topRightX)+" "+B(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ne("/CropBox ["+B(v.cropBox.bottomLeftX)+" "+B(v.cropBox.bottomLeftY)+" "+B(v.cropBox.topRightX)+" "+B(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ne("/BleedBox ["+B(v.bleedBox.bottomLeftX)+" "+B(v.bleedBox.bottomLeftY)+" "+B(v.bleedBox.topRightX)+" "+B(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ne("/TrimBox ["+B(v.trimBox.bottomLeftX)+" "+B(v.trimBox.bottomLeftY)+" "+B(v.trimBox.topRightX)+" "+B(v.trimBox.topRightY)+"]"),v.artBox!==null&&ne("/ArtBox ["+B(v.artBox.bottomLeftX)+" "+B(v.artBox.bottomLeftY)+" "+B(v.artBox.topRightX)+" "+B(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ne("/UserUnit "+v.userUnit),tt.publish("putPage",{objId:de,pageContext:ze[V],pageNumber:V,page:re}),ne("/Contents "+ke+" 0 R"),ne(">>"),ne("endobj");var Ve=re.join(`
`);return X===H.ADVANCED&&(Ve+=`
Q`),Wn(ke,!0),er({data:Ve,filters:Wr(),objectId:ke}),ne("endobj"),de},Es=w.__private__.putPages=function(){var v,V,re=[];for(v=1;v<=Oe;v++)ze[v].objId=Vn(),ze[v].contentsObjId=Vn();for(v=1;v<=Oe;v++)re.push(zi({number:v,data:$e[v],objId:ze[v].objId,contentsObjId:ze[v].contentsObjId,mediaBox:ze[v].mediaBox,cropBox:ze[v].cropBox,bleedBox:ze[v].bleedBox,trimBox:ze[v].trimBox,artBox:ze[v].artBox,userUnit:ze[v].userUnit,rootDictionaryObjId:Ss,resourceDictionaryObjId:Hr}));Wn(Ss,!0),ne("<</Type /Pages");var de="/Kids [";for(V=0;V<Oe;V++)de+=re[V]+" 0 R ";ne(de+"]"),ne("/Count "+Oe),ne(">>"),ne("endobj"),tt.publish("postPutPages")},As=function(v){tt.publish("putFont",{font:v,out:ne,newObject:Mn,putStream:er}),v.isAlreadyPutted!==!0&&(v.objectNumber=Mn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Mc(v.postScriptName)),ne("/Subtype /Type1"),typeof v.encoding=="string"&&ne("/Encoding /"+v.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},ks=function(){for(var v in hn)hn.hasOwnProperty(v)&&(_===!1||_===!0&&S.hasOwnProperty(v))&&As(hn[v])},$s=function(v){v.objectNumber=Mn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[B(v.x),B(v.y),B(v.x+v.width),B(v.y+v.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var re=v.pages[1].join(`
`);er({data:re,additionalKeyValues:V,objectId:v.objectNumber}),ne("endobj")},vo=function(){for(var v in Nt)Nt.hasOwnProperty(v)&&$s(Nt[v])},bl=function(v,V){var re,de=[],ke=1/(V-1);for(re=0;re<1;re+=ke)de.push(re);if(de.push(1),v[0].offset!=0){var Ve={offset:0,color:v[0].color};v.unshift(Ve)}if(v[v.length-1].offset!=1){var Qe={offset:1,color:v[v.length-1].color};v.push(Qe)}for(var ct="",f=0,E=0;E<de.length;E++){for(re=de[E];re>v[f+1].offset;)f++;var P=v[f].offset,Q=(re-P)/(v[f+1].offset-P),Se=v[f].color,Re=v[f+1].color;ct+=te(Math.round((1-Q)*Se[0]+Q*Re[0]).toString(16))+te(Math.round((1-Q)*Se[1]+Q*Re[1]).toString(16))+te(Math.round((1-Q)*Se[2]+Q*Re[2]).toString(16))}return ct.trim()},Cn=function(v,V){V||(V=21);var re=Mn(),de=bl(v.colors,V),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+V+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),er({data:de,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),ne("endobj"),v.objectNumber=Mn(),ne("<< /ShadingType "+v.type),ne("/ColorSpace /DeviceRGB");var Ve="/Coords ["+B(parseFloat(v.coords[0]))+" "+B(parseFloat(v.coords[1]))+" ";v.type===2?Ve+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3])):Ve+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3]))+" "+B(parseFloat(v.coords[4]))+" "+B(parseFloat(v.coords[5])),ne(Ve+="]"),v.matrix&&ne("/Matrix ["+v.matrix.toString()+"]"),ne("/Function "+re+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},xl=function(v,V){var re=Vn(),de=Mn();V.push({resourcesOid:re,objectOid:de}),v.objectNumber=de;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+v.boundingBox.map(B).join(" ")+"]"}),ke.push({key:"XStep",value:B(v.xStep)}),ke.push({key:"YStep",value:B(v.yStep)}),ke.push({key:"Resources",value:re+" 0 R"}),v.matrix&&ke.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),er({data:v.stream,additionalKeyValues:ke,objectId:v.objectNumber}),ne("endobj")},ns=function(v){var V;for(V in en)en.hasOwnProperty(V)&&(en[V]instanceof Ku?Cn(en[V]):en[V]instanceof qc&&xl(en[V],v))},Ns=function(v){for(var V in v.objectNumber=Mn(),ne("<<"),v)switch(V){case"opacity":ne("/ca "+G(v[V]));break;case"stroke-opacity":ne("/CA "+G(v[V]))}ne(">>"),ne("endobj")},xi=function(){var v;for(v in dn)dn.hasOwnProperty(v)&&Ns(dn[v])},wo=function(){for(var v in ne("/XObject <<"),Nt)Nt.hasOwnProperty(v)&&Nt[v].objectNumber>=0&&ne("/"+v+" "+Nt[v].objectNumber+" 0 R");tt.publish("putXobjectDict"),ne(">>")},Sl=function(){fn.oid=Mn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+fn.v),ne("/R "+fn.r),ne("/U <"+fn.toHexString(fn.U)+">"),ne("/O <"+fn.toHexString(fn.O)+">"),ne("/P "+fn.P),ne(">>"),ne("endobj")},Hs=function(){for(var v in ne("/Font <<"),hn)hn.hasOwnProperty(v)&&(_===!1||_===!0&&S.hasOwnProperty(v))&&ne("/"+v+" "+hn[v].objectNumber+" 0 R");ne(">>")},oi=function(){if(Object.keys(en).length>0){for(var v in ne("/Shading <<"),en)en.hasOwnProperty(v)&&en[v]instanceof Ku&&en[v].objectNumber>=0&&ne("/"+v+" "+en[v].objectNumber+" 0 R");tt.publish("putShadingPatternDict"),ne(">>")}},_o=function(v){if(Object.keys(en).length>0){for(var V in ne("/Pattern <<"),en)en.hasOwnProperty(V)&&en[V]instanceof w.TilingPattern&&en[V].objectNumber>=0&&en[V].objectNumber<v&&ne("/"+V+" "+en[V].objectNumber+" 0 R");tt.publish("putTilingPatternDict"),ne(">>")}},Lr=function(){if(Object.keys(dn).length>0){var v;for(v in ne("/ExtGState <<"),dn)dn.hasOwnProperty(v)&&dn[v].objectNumber>=0&&ne("/"+v+" "+dn[v].objectNumber+" 0 R");tt.publish("putGStateDict"),ne(">>")}},Un=function(v){Wn(v.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Hs(),oi(),_o(v.objectOid),Lr(),wo(),ne(">>"),ne("endobj")},Fa=function(){var v=[];ks(),xi(),vo(),ns(v),tt.publish("putResources"),v.forEach(Un),Un({resourcesOid:Hr,objectOid:Number.MAX_SAFE_INTEGER}),tt.publish("postPutResources")},Ma=function(){tt.publish("putAdditionalObjects");for(var v=0;v<We.length;v++){var V=We[v];Wn(V.objId,!0),ne(V.content),ne("endobj")}tt.publish("postPutAdditionalObjects")},bo=function(v){yn[v.fontName]=yn[v.fontName]||{},yn[v.fontName][v.fontStyle]=v.id},Ws=function(v,V,re,de,ke){var Ve={id:"F"+(Object.keys(hn).length+1).toString(10),postScriptName:v,fontName:V,fontStyle:re,encoding:de,isStandardFont:ke||!1,metadata:{}};return tt.publish("addFont",{font:Ve,instance:this}),hn[Ve.id]=Ve,bo(Ve),Ve.id},Gs=function(v){for(var V=0,re=Ze.length;V<re;V++){var de=Ws.call(this,v[V][0],v[V][1],v[V][2],Ze[V][3],!0);_===!1&&(S[de]=!0);var ke=v[V][0].split("-");bo({id:de,fontName:ke[0],fontStyle:ke[1]||""})}tt.publish("addFonts",{fonts:hn,dictionary:yn})},Rr=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(de){var V=de.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var re="Error in function "+V.split(`
`)[0].split("<")[0]+": "+de.message;if(!Bt.console)throw new Error(re);Bt.console.error(re,de),Bt.alert&&alert(re)}},v.foo.bar=v,v.foo},ia=function(v,V){var re,de,ke,Ve,Qe,ct,f,E,P;if(ke=(V=V||{}).sourceEncoding||"Unicode",Qe=V.outputEncoding,(V.autoencode||Qe)&&hn[$t].metadata&&hn[$t].metadata[ke]&&hn[$t].metadata[ke].encoding&&(Ve=hn[$t].metadata[ke].encoding,!Qe&&hn[$t].encoding&&(Qe=hn[$t].encoding),!Qe&&Ve.codePages&&(Qe=Ve.codePages[0]),typeof Qe=="string"&&(Qe=Ve[Qe]),Qe)){for(f=!1,ct=[],re=0,de=v.length;re<de;re++)(E=Qe[v.charCodeAt(re)])?ct.push(String.fromCharCode(E)):ct.push(v[re]),ct[re].charCodeAt(0)>>8&&(f=!0);v=ct.join("")}for(re=v.length;f===void 0&&re!==0;)v.charCodeAt(re-1)>>8&&(f=!0),re--;if(!f)return v;for(ct=V.noBOM?[]:[254,255],re=0,de=v.length;re<de;re++){if((P=(E=v.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(P),ct.push(E-(P<<8))}return String.fromCharCode.apply(void 0,ct)},tr=w.__private__.pdfEscape=w.pdfEscape=function(v,V){return ia(v,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dr=w.__private__.beginPage=function(v){$e[++Oe]=[],ze[Oe]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Is(Oe),Me($e[z])},Ks=function(v,V){var re,de,ke;switch(t=V||t,typeof v=="string"&&(re=j(v.toLowerCase()),Array.isArray(re)&&(de=re[0],ke=re[1])),Array.isArray(v)&&(de=v[0]*ut,ke=v[1]*ut),isNaN(de)&&(de=s[0],ke=s[1]),(de>14400||ke>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ke=Math.min(14400,ke)),s=[de,ke],t.substr(0,1)){case"l":ke>de&&(s=[ke,de]);break;case"p":de>ke&&(s=[ke,de])}Dr(s),Zs(Ua),ne(fr),za!==0&&ne(za+" J"),eo!==0&&ne(eo+" j"),tt.publish("addPage",{pageNumber:Oe})},Qs=function(v){v>0&&v<=Oe&&($e.splice(v,1),ze.splice(v,1),Oe--,z>Oe&&(z=Oe),this.setPage(z))},Is=function(v){v>0&&v<=Oe&&(z=v)},An=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return $e.length-1},Ts=function(v,V,re){var de,ke=void 0;return re=re||{},v=v!==void 0?v:hn[$t].fontName,V=V!==void 0?V:hn[$t].fontStyle,de=v.toLowerCase(),yn[de]!==void 0&&yn[de][V]!==void 0?ke=yn[de][V]:yn[v]!==void 0&&yn[v][V]!==void 0?ke=yn[v][V]:re.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+v+"', '"+V+"'. Refer to getFontList() for available fonts."),ke||re.noFallback||(ke=yn.times[V])==null&&(ke=yn.times.normal),ke},nn=w.__private__.putInfo=function(){var v=Mn(),V=function(de){return de};for(var re in y!==null&&(V=fn.encryptor(v,0)),ne("<<"),ne("/Producer ("+tr(V("jsPDF "+Vt.version))+")"),Ct)Ct.hasOwnProperty(re)&&Ct[re]&&ne("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+tr(V(Ct[re]))+")");ne("/CreationDate ("+tr(V(Pe))+")"),ne(">>"),ne("endobj")},rs=w.__private__.putCatalog=function(v){var V=(v=v||{}).rootDictionaryObjId||Ss;switch(Mn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+st;re.substr(re.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+G(st)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Rt&&ne("/PageMode /"+Rt),tt.publish("putCatalog"),ne(">>"),ne("endobj")},El=w.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ae+1)),ne("/Root "+ae+" 0 R"),ne("/Info "+(ae-1)+" 0 R"),y!==null&&ne("/Encrypt "+fn.oid+" 0 R"),ne("/ID [ <"+Ie+"> <"+Ie+"> ]"),ne(">>")},sa=w.__private__.putHeader=function(){ne("%PDF-"+R),ne("%")},Al=w.__private__.putXRef=function(){var v="0000000000";ne("xref"),ne("0 "+(ae+1)),ne("0000000000 65535 f ");for(var V=1;V<=ae;V++)typeof oe[V]=="function"?ne((v+oe[V]()).slice(-10)+" 00000 n "):oe[V]!==void 0?ne((v+oe[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},is=w.__private__.buildDocument=function(){kt(),Me(ue),tt.publish("buildDocument"),sa(),Es(),Ma(),Fa(),y!==null&&Sl(),nn(),rs();var v=Ae;return Al(),El(),ne("startxref"),ne(""+v),ne("%%EOF"),Me($e[z]),ue.join(`
`)},xo=w.__private__.getBlob=function(v){return new Blob([ft(v)],{type:"application/pdf"})},Ys=w.output=w.__private__.output=Rr(function(v,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",v){case void 0:return is();case"save":w.save(V.filename);break;case"arraybuffer":return ft(is());case"blob":return xo(is());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(xo(is()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",de=is();try{re=yg(de)}catch{re=yg(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+V.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ke=V.pdfObjectUrl,Ve="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ct=Bt.open();return ct!==null&&ct.document.write(Qe),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',E=Bt.open();if(E!==null){E.document.write(f);var P=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=V.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Se=Bt.open();if(Se!==null&&(Se.document.write(Q),Se.document.title=V.filename),Se||typeof safari>"u")return Se;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",V);default:return null}}),qi=function(v){return Array.isArray(mt)===!0&&mt.indexOf(v)>-1};switch(r){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=qi("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ut=r}var fn=null;Z(),ie();var $i=function(v){return y!==null?fn.encryptor(v,0):function(V){return V}},Si=w.__private__.getPageInfo=w.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ze[v].objId,pageNumber:v,pageContext:ze[v]}},Dt=w.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ze)if(ze[V].objId===v)break;return Si(V)},Ei=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:ze[z].objId,pageNumber:z,pageContext:ze[z]}};w.addPage=function(){return Ks.apply(this,arguments),this},w.setPage=function(){return Is.apply(this,arguments),Me.call(this,$e[z]),this},w.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},w.movePage=function(v,V){var re,de;if(v>V){re=$e[v],de=ze[v];for(var ke=v;ke>V;ke--)$e[ke]=$e[ke-1],ze[ke]=ze[ke-1];$e[V]=re,ze[V]=de,this.setPage(V)}else if(v<V){re=$e[v],de=ze[v];for(var Ve=v;Ve<V;Ve++)$e[Ve]=$e[Ve+1],ze[Ve]=ze[Ve+1];$e[V]=re,ze[V]=de,this.setPage(V)}return this},w.deletePage=function(){return Qs.apply(this,arguments),this},w.__private__.text=w.text=function(v,V,re,de,ke){var Ve,Qe,ct,f,E,P,Q,Se,Re,Je=(de=de||{}).scope||this;if(typeof v=="number"&&typeof V=="number"&&(typeof re=="string"||Array.isArray(re))){var Gt=re;re=V,V=v,v=Gt}if(arguments[3]instanceof at?(C("The transform parameter of text() with a Matrix value"),Re=ke):(ct=arguments[4],f=arguments[5],Fn(Q=arguments[3])==="object"&&Q!==null||(typeof ct=="string"&&(f=ct,ct=null),typeof Q=="string"&&(f=Q,Q=null),typeof Q=="number"&&(ct=Q,Q=null),de={flags:Q,angle:ct,align:f})),isNaN(V)||isNaN(re)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Je;var sn="",Kt=!1,bn=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:_n,kn=Je.internal.scaleFactor;function ui(On){return On=On.split("	").join(Array(de.TabLen||9).join(" ")),tr(On,Q)}function Fr(On){for(var Nn,ir=On.concat(),pr=[],io=ir.length;io--;)typeof(Nn=ir.shift())=="string"?pr.push(Nn):Array.isArray(On)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?pr.push(Nn[0]):pr.push([Nn[0],Nn[1],Nn[2]]);return pr}function Ds(On,Nn){var ir;if(typeof On=="string")ir=Nn(On)[0];else if(Array.isArray(On)){for(var pr,io,Fl=On.concat(),Qa=[],Tu=Fl.length;Tu--;)typeof(pr=Fl.shift())=="string"?Qa.push(Nn(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(io=Nn(pr[0],pr[1],pr[2]),Qa.push([io[0],io[1],io[2]]));ir=Qa}return ir}var Os=!1,Il=!0;if(typeof v=="string")Os=!0;else if(Array.isArray(v)){var Tl=v.concat();Qe=[];for(var qa,rr=Tl.length;rr--;)(typeof(qa=Tl.shift())!="string"||Array.isArray(qa)&&typeof qa[0]!="string")&&(Il=!1);Os=Il}if(Os===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Cl=nt/Je.internal.scaleFactor,Pl=Cl*(bn-1);switch(de.baseline){case"bottom":re-=Pl;break;case"top":re+=Cl-Pl;break;case"hanging":re+=Cl-2*Pl;break;case"middle":re+=Cl/2-Pl}if((P=de.maxWidth||0)>0&&(typeof v=="string"?v=Je.splitTextToSize(v,P):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(On,Nn){return On.concat(Je.splitTextToSize(Nn,P))},[]))),Ve={text:v,x:V,y:re,options:de,mutex:{pdfEscape:tr,activeFontKey:$t,fonts:hn,activeFontSize:nt}},tt.publish("preProcessText",Ve),v=Ve.text,ct=(de=Ve.options).angle,!(Re instanceof at)&&ct&&typeof ct=="number"){ct*=Math.PI/180,de.rotationDirection===0&&(ct=-ct),X===H.ADVANCED&&(ct=-ct);var Ll=Math.cos(ct),Rl=Math.sin(ct);Re=new at(Ll,Rl,-Rl,Ll,0,0)}else ct&&ct instanceof at&&(Re=ct);X!==H.ADVANCED||Re||(Re=hr),(E=de.charSpace||Ps)!==void 0&&(sn+=B(D(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Se=de.horizontalScale)!==void 0&&(sn+=B(100*Se)+` Tz
`),de.lang;var ci=-1,$a=de.renderingMode!==void 0?de.renderingMode:de.stroke,ko=Je.internal.getCurrentPageInfo().pageContext;switch($a){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var dc=ko.usedRenderingMode!==void 0?ko.usedRenderingMode:-1;ci!==-1?sn+=ci+` Tr
`:dc!==-1&&(sn+=`0 Tr
`),ci!==-1&&(ko.usedRenderingMode=ci),f=de.align||"left";var hi,Dl=nt*bn,Nu=Je.internal.pageSize.getWidth(),Ol=hn[$t];E=de.charSpace||Ps,P=de.maxWidth||0,Q=Object.assign({autoencode:!0,noBOM:!0},de.flags);var no=[],da=function(On){return Je.getStringUnitWidth(On,{font:Ol,charSpace:E,fontSize:nt,doKerning:!1})*nt/kn};if(Object.prototype.toString.call(v)==="[object Array]"){var di;Qe=Fr(v),f!=="left"&&(hi=Qe.map(da));var Yr,fa=0;if(f==="right"){V-=hi[0],v=[],rr=Qe.length;for(var No=0;No<rr;No++)No===0?(Yr=li(V),di=nr(re)):(Yr=D(fa-hi[No]),di=-Dl),v.push([Qe[No],Yr,di]),fa=hi[No]}else if(f==="center"){V-=hi[0]/2,v=[],rr=Qe.length;for(var Io=0;Io<rr;Io++)Io===0?(Yr=li(V),di=nr(re)):(Yr=D((fa-hi[Io])/2),di=-Dl),v.push([Qe[Io],Yr,di]),fa=hi[Io]}else if(f==="left"){v=[],rr=Qe.length;for(var jl=0;jl<rr;jl++)v.push(Qe[jl])}else if(f==="justify"&&Ol.encoding==="Identity-H"){v=[],rr=Qe.length,P=P!==0?P:Nu;for(var To=0,vn=0;vn<rr;vn++)if(di=vn===0?nr(re):-Dl,Yr=vn===0?li(V):To,vn<rr-1){var Co=D((P-hi[vn])/(Qe[vn].split(" ").length-1)),Jr=Qe[vn].split(" ");v.push([Jr[0]+" ",Yr,di]),To=0;for(var Ki=1;Ki<Jr.length;Ki++){var Ha=(da(Jr[Ki-1]+" "+Jr[Ki])-da(Jr[Ki]))*kn+Co;Ki==Jr.length-1?v.push([Jr[Ki],Ha,0]):v.push([Jr[Ki]+" ",Ha,0]),To-=Ha}}else v.push([Qe[vn],Yr,di]);v.push(["",To,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],rr=Qe.length,P=P!==0?P:Nu,vn=0;vn<rr;vn++)di=vn===0?nr(re):-Dl,Yr=vn===0?li(V):0,vn<rr-1?no.push(B(D((P-hi[vn])/(Qe[vn].split(" ").length-1)))):no.push(0),v.push([Qe[vn],Yr,di])}}var Iu=typeof de.R2L=="boolean"?de.R2L:xt;Iu===!0&&(v=Ds(v,function(On,Nn,ir){return[On.split("").reverse().join(""),Nn,ir]})),Ve={text:v,x:V,y:re,options:de,mutex:{pdfEscape:tr,activeFontKey:$t,fonts:hn,activeFontSize:nt}},tt.publish("postProcessText",Ve),v=Ve.text,Kt=Ve.mutex.isHex||!1;var Wa=hn[$t].encoding;Wa!=="WinAnsiEncoding"&&Wa!=="StandardEncoding"||(v=Ds(v,function(On,Nn,ir){return[ui(On),Nn,ir]})),Qe=Fr(v),v=[];for(var Ga,Ka,Qi,Po=0,ro=1,Lo=Array.isArray(Qe[0])?ro:Po,Ro="",pa=function(On,Nn,ir){var pr="";return ir instanceof at?(ir=typeof de.angle=="number"?Zn(ir,new at(1,0,0,1,On,Nn)):Zn(new at(1,0,0,1,On,Nn),ir),X===H.ADVANCED&&(ir=Zn(new at(1,0,0,-1,0,0),ir)),pr=ir.join(" ")+` Tm
`):pr=B(On)+" "+B(Nn)+` Td
`,pr},Mr=0;Mr<Qe.length;Mr++){switch(Ro="",Lo){case ro:Qi=(Kt?"<":"(")+Qe[Mr][0]+(Kt?">":")"),Ga=parseFloat(Qe[Mr][1]),Ka=parseFloat(Qe[Mr][2]);break;case Po:Qi=(Kt?"<":"(")+Qe[Mr]+(Kt?">":")"),Ga=li(V),Ka=nr(re)}no!==void 0&&no[Mr]!==void 0&&(Ro=no[Mr]+` Tw
`),Mr===0?v.push(Ro+pa(Ga,Ka,Re)+Qi):Lo===Po?v.push(Ro+Qi):Lo===ro&&v.push(Ro+pa(Ga,Ka,Re)+Qi)}v=Lo===Po?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Ai=`BT
/`;return Ai+=$t+" "+nt+` Tf
`,Ai+=B(nt*bn)+` TL
`,Ai+=Gn+`
`,Ai+=sn,Ai+=v,ne(Ai+="ET"),S[$t]=!0,Je};var ss=w.__private__.clip=w.clip=function(v){return ne(v==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ss("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ne("n"),this};var os=w.__private__.isValidStyle=function(v){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(V=!0),V};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(v){return os(v)&&(p=v),this};var Va=w.__private__.getStyle=w.getStyle=function(v){var V=p;switch(v){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=v}return V},Or=w.close=function(){return ne("h"),this};w.stroke=function(){return ne("S"),this},w.fill=function(v){return oa("f",v),this},w.fillEvenOdd=function(v){return oa("f*",v),this},w.fillStroke=function(v){return oa("B",v),this},w.fillStrokeEvenOdd=function(v){return oa("B*",v),this};var oa=function(v,V){Fn(V)==="object"?So(V,v):ne(v)},aa=function(v){v===null||X===H.ADVANCED&&v===void 0||(v=Va(v),ne(v))};function Cs(v,V,re,de,ke){var Ve=new qc(V||this.boundingBox,re||this.xStep,de||this.yStep,this.gState,ke||this.matrix);Ve.stream=this.stream;var Qe=v+"$$"+this.cloneIndex+++"$$";return dr(Qe,Ve),Ve}var So=function(v,V){var re=$r[v.key],de=en[re];if(de instanceof Ku)ne("q"),ne(kl(V)),de.gState&&w.setGState(de.gState),ne(v.matrix.toString()+" cm"),ne("/"+re+" sh"),ne("Q");else if(de instanceof qc){var ke=new at(1,0,0,-1,0,Qr());v.matrix&&(ke=ke.multiply(v.matrix||hr),re=Cs.call(de,v.key,v.boundingBox,v.xStep,v.yStep,ke).id),ne("q"),ne("/Pattern cs"),ne("/"+re+" scn"),de.gState&&w.setGState(de.gState),ne(V),ne("Q")}},kl=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ai=w.moveTo=function(v,V){return ne(B(D(v))+" "+B(se(V))+" m"),this},jr=w.lineTo=function(v,V){return ne(B(D(v))+" "+B(se(V))+" l"),this},Gr=w.curveTo=function(v,V,re,de,ke,Ve){return ne([B(D(v)),B(se(V)),B(D(re)),B(se(de)),B(D(ke)),B(se(Ve)),"c"].join(" ")),this};w.__private__.line=w.line=function(v,V,re,de,ke){if(isNaN(v)||isNaN(V)||isNaN(re)||isNaN(de)||!os(ke))throw new Error("Invalid arguments passed to jsPDF.line");return X===H.COMPAT?this.lines([[re-v,de-V]],v,V,[1,1],ke||"S"):this.lines([[re-v,de-V]],v,V,[1,1]).stroke()},w.__private__.lines=w.lines=function(v,V,re,de,ke,Ve){var Qe,ct,f,E,P,Q,Se,Re,Je,Gt,sn,Kt;if(typeof v=="number"&&(Kt=re,re=V,V=v,v=Kt),de=de||[1,1],Ve=Ve||!1,isNaN(V)||isNaN(re)||!Array.isArray(v)||!Array.isArray(de)||!os(ke)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ai(V,re),Qe=de[0],ct=de[1],E=v.length,Gt=V,sn=re,f=0;f<E;f++)(P=v[f]).length===2?(Gt=P[0]*Qe+Gt,sn=P[1]*ct+sn,jr(Gt,sn)):(Q=P[0]*Qe+Gt,Se=P[1]*ct+sn,Re=P[2]*Qe+Gt,Je=P[3]*ct+sn,Gt=P[4]*Qe+Gt,sn=P[5]*ct+sn,Gr(Q,Se,Re,Je,Gt,sn));return Ve&&Or(),aa(ke),this},w.path=function(v){for(var V=0;V<v.length;V++){var re=v[V],de=re.c;switch(re.op){case"m":ai(de[0],de[1]);break;case"l":jr(de[0],de[1]);break;case"c":Gr.apply(this,de);break;case"h":Or()}}return this},w.__private__.rect=w.rect=function(v,V,re,de,ke){if(isNaN(v)||isNaN(V)||isNaN(re)||isNaN(de)||!os(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return X===H.COMPAT&&(de=-de),ne([B(D(v)),B(se(V)),B(D(re)),B(D(de)),"re"].join(" ")),aa(ke),this},w.__private__.triangle=w.triangle=function(v,V,re,de,ke,Ve,Qe){if(isNaN(v)||isNaN(V)||isNaN(re)||isNaN(de)||isNaN(ke)||isNaN(Ve)||!os(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-v,de-V],[ke-re,Ve-de],[v-ke,V-Ve]],v,V,[1,1],Qe,!0),this},w.__private__.roundedRect=w.roundedRect=function(v,V,re,de,ke,Ve,Qe){if(isNaN(v)||isNaN(V)||isNaN(re)||isNaN(de)||isNaN(ke)||isNaN(Ve)||!os(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*re),Ve=Math.min(Ve,.5*de),this.lines([[re-2*ke,0],[ke*ct,0,ke,Ve-Ve*ct,ke,Ve],[0,de-2*Ve],[0,Ve*ct,-ke*ct,Ve,-ke,Ve],[2*ke-re,0],[-ke*ct,0,-ke,-Ve*ct,-ke,-Ve],[0,2*Ve-de],[0,-Ve*ct,ke*ct,-Ve,ke,-Ve]],v+ke,V,[1,1],Qe,!0),this},w.__private__.ellipse=w.ellipse=function(v,V,re,de,ke){if(isNaN(v)||isNaN(V)||isNaN(re)||isNaN(de)||!os(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*re,Qe=4/3*(Math.SQRT2-1)*de;return ai(v+re,V),Gr(v+re,V-Qe,v+Ve,V-de,v,V-de),Gr(v-Ve,V-de,v-re,V-Qe,v-re,V),Gr(v-re,V+Qe,v-Ve,V+de,v,V+de),Gr(v+Ve,V+de,v+re,V+Qe,v+re,V),aa(ke),this},w.__private__.circle=w.circle=function(v,V,re,de){if(isNaN(v)||isNaN(V)||isNaN(re)||!os(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,V,re,re,de)},w.setFont=function(v,V,re){return re&&(V=Ne(V,re)),$t=Ts(v,V,{disableWarning:!1}),this};var Js=w.__private__.getFont=w.getFont=function(){return hn[Ts.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var v,V,re={};for(v in yn)if(yn.hasOwnProperty(v))for(V in re[v]=[],yn[v])yn[v].hasOwnProperty(V)&&re[v].push(V);return re},w.addFont=function(v,V,re,de,ke){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(re=Ne(re,de)),ke=ke||"Identity-H",Ws.call(this,v,V,re,ke)};var _n,Ua=n.lineWidth||.200025,Xs=w.__private__.getLineWidth=w.getLineWidth=function(){return Ua},Zs=w.__private__.setLineWidth=w.setLineWidth=function(v){return Ua=v,ne(B(D(v))+" w"),this};w.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(v,V){if(v=v||[],V=V||0,isNaN(V)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(re){return B(D(re))}).join(" "),V=B(D(V)),ne("["+v+"] "+V+" d"),this};var Eo=w.__private__.getLineHeight=w.getLineHeight=function(){return nt*_n};w.__private__.getLineHeight=w.getLineHeight=function(){return nt*_n};var la=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(_n=v),this},Kr=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return _n};la(n.lineHeight);var li=w.__private__.getHorizontalCoordinate=function(v){return D(v)},nr=w.__private__.getVerticalCoordinate=function(v){return X===H.ADVANCED?v:ze[z].mediaBox.topRightY-ze[z].mediaBox.bottomLeftY-D(v)},Ba=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(v){return B(li(v))},Hi=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(v){return B(nr(v))},fr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return bi(fr)},w.__private__.setStrokeColor=w.setDrawColor=function(v,V,re,de){return fr=ar({ch1:v,ch2:V,ch3:re,ch4:de,pdfColorType:"draw",precision:2}),ne(fr),this};var Ao=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return bi(Ao)},w.__private__.setFillColor=w.setFillColor=function(v,V,re,de){return Ao=ar({ch1:v,ch2:V,ch3:re,ch4:de,pdfColorType:"fill",precision:2}),ne(Ao),this};var Gn=n.textColor||"0 g",Wi=w.__private__.getTextColor=w.getTextColor=function(){return bi(Gn)};w.__private__.setTextColor=w.setTextColor=function(v,V,re,de){return Gn=ar({ch1:v,ch2:V,ch3:re,ch4:de,pdfColorType:"text",precision:3}),this};var Ps=n.charSpace,as=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Ps||0)};w.__private__.setCharSpace=w.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ps=v,this};var za=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(v){var V=w.CapJoinStyles[v];if(V===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=V,ne(V+" J"),this};var eo=0;w.__private__.setLineJoin=w.setLineJoin=function(v){var V=w.CapJoinStyles[v];if(V===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eo=V,ne(V+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(B(D(v))+" M"),this},w.GState=qf,w.setGState=function(v){(v=typeof v=="string"?dn[Dn[v]]:ls(null,v)).equals(ve)||(ne("/"+v.id+" gs"),ve=v)};var ls=function(v,V){if(!v||!Dn[v]){var re=!1;for(var de in dn)if(dn.hasOwnProperty(de)&&dn[de].equals(V)){re=!0;break}if(re)V=dn[de];else{var ke="GS"+(Object.keys(dn).length+1).toString(10);dn[ke]=V,V.id=ke}return v&&(Dn[v]=V.id),tt.publish("addGState",V),V}};w.addGState=function(v,V){return ls(v,V),this},w.saveGraphicsState=function(){return ne("q"),or.push({key:$t,size:nt,color:Gn}),this},w.restoreGraphicsState=function(){ne("Q");var v=or.pop();return $t=v.key,nt=v.size,Gn=v.color,ve=null,this},w.setCurrentTransformationMatrix=function(v){return ne(v.toString()+" cm"),this},w.comment=function(v){return ne("#"+v),this};var Gi=function(v,V){var re=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Ve){isNaN(Ve)||(re=parseFloat(Ve))}});var de=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ve){isNaN(Ve)||(de=parseFloat(Ve))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Ve){ke=Ve.toString()}}),this},Ls=function(v,V,re,de){Gi.call(this,v,V),this.type="rect";var ke=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Qe){isNaN(Qe)||(ke=parseFloat(Qe))}});var Ve=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Qe){isNaN(Qe)||(Ve=parseFloat(Qe))}}),this},to=function(){this.page=Oe,this.currentPage=z,this.pages=$e.slice(0),this.pagesContext=ze.slice(0),this.x=qn,this.y=tn,this.matrix=Pr,this.width=us(z),this.height=Qr(z),this.outputDestination=it,this.id="",this.objectNumber=-1};to.prototype.restore=function(){Oe=this.page,z=this.currentPage,ze=this.pagesContext,$e=this.pages,qn=this.x,tn=this.y,Pr=this.matrix,ca(z,this.width),ha(z,this.height),it=this.outputDestination};var ua=function(v,V,re,de,ke){an.push(new to),Oe=z=0,$e=[],qn=v,tn=V,Pr=ke,Dr([re,de])},Nl=function(v){if(Ft[v])an.pop().restore();else{var V=new to,re="Xo"+(Object.keys(Nt).length+1).toString(10);V.id=re,Ft[v]=re,Nt[re]=V,tt.publish("addFormObject",V),an.pop().restore()}};for(var Rs in w.beginFormObject=function(v,V,re,de,ke){return ua(v,V,re,de,ke),this},w.endFormObject=function(v){return Nl(v),this},w.doFormObject=function(v,V){var re=Nt[Ft[v]];return ne("q"),ne(V.toString()+" cm"),ne("/"+re.id+" Do"),ne("Q"),this},w.getFormObject=function(v){var V=Nt[Ft[v]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},w.save=function(v,V){return v=v||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Wu(xo(is()),v),typeof Wu.unload=="function"&&Bt.setTimeout&&setTimeout(Wu.unload,911),this):new Promise(function(re,de){try{var ke=Wu(xo(is()),v);typeof Wu.unload=="function"&&Bt.setTimeout&&setTimeout(Wu.unload,911),re(ke)}catch(Ve){de(Ve.message)}})},Vt.API)Vt.API.hasOwnProperty(Rs)&&(Rs==="events"&&Vt.API.events.length?function(v,V){var re,de,ke;for(ke=V.length-1;ke!==-1;ke--)re=V[ke][0],de=V[ke][1],v.subscribe.apply(v,[re].concat(typeof de=="function"?[de]:de))}(tt,Vt.API.events):w[Rs]=Vt.API[Rs]);var us=w.getPageWidth=function(v){return(ze[v=v||z].mediaBox.topRightX-ze[v].mediaBox.bottomLeftX)/ut},ca=w.setPageWidth=function(v,V){ze[v].mediaBox.topRightX=V*ut+ze[v].mediaBox.bottomLeftX},Qr=w.getPageHeight=function(v){return(ze[v=v||z].mediaBox.topRightY-ze[v].mediaBox.bottomLeftY)/ut},ha=w.setPageHeight=function(v,V){ze[v].mediaBox.topRightY=V*ut+ze[v].mediaBox.bottomLeftY};return w.internal={pdfEscape:tr,getStyle:Va,getFont:Js,getFontSize:lt,getCharSpace:as,getTextColor:Wi,getLineHeight:Eo,getLineHeightFactor:Kr,getLineWidth:Xs,write:_t,getHorizontalCoordinate:li,getVerticalCoordinate:nr,getCoordinateString:Ba,getVerticalCoordinateString:Hi,collections:{},newObject:Mn,newAdditionalObject:qs,newObjectDeferred:Vn,newObjectDeferredBegin:Wn,getFilters:Wr,putStream:er,events:tt,scaleFactor:ut,pageSize:{getWidth:function(){return us(z)},setWidth:function(v){ca(z,v)},getHeight:function(){return Qr(z)},setHeight:function(v){ha(z,v)}},encryptionOptions:y,encryption:fn,getEncryptor:$i,output:Ys,getNumberOfPages:An,pages:$e,out:ne,f2:G,f3:L,getPageInfo:Si,getPageInfoByObjId:Dt,getCurrentPageInfo:Ei,getPDFVersion:O,Point:Gi,Rectangle:Ls,Matrix:at,hasHotfix:qi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return us(z)},set:function(v){ca(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Qr(z)},set:function(v){ha(z,v)},enumerable:!0,configurable:!0}),Gs.call(w,Ze),$t="F1",Ks(s,t),tt.publish("initialized"),w}Fc.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Fc.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fc.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Fc.prototype.processOwnerPassword=function(n,e){return wg(vg(e).substr(0,5),n)},Fc.prototype.encryptor=function(n,e){var t=vg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return wg(t,r)}},qf.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fn(n)!==Fn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Vt.API={events:[]},Vt.version="3.0.1";var vr=Vt.API,a0=1,ic=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(n){return n.toFixed(2)},iu=function(n){return n.toFixed(5)};vr.__acroform__={};var xs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},V2=function(n){return n*a0},xa=function(n){var e=new k5,t=Et.internal.getHeight(n)||0,r=Et.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Yt(r)),Number(Yt(t))],e},H3=vr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},W3=vr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},G3=vr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Er=vr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return G3(n,e-1)},Ar=vr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return H3(n,e-1)},kr=vr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W3(n,e-1)},K3=vr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=r(o+u)||0,h.upperRight_X=t(s+l)||0,h.upperRight_Y=r(o)||0,[Number(Yt(h.lowerLeft_X)),Number(Yt(h.lowerLeft_Y)),Number(Yt(h.upperRight_X)),Number(Yt(h.upperRight_Y))]},Q3=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=_g(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=xa(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},_g=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var o=t,l=Et.internal.getHeight(n)||0;l=l<0?-l:l;var u=Et.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(L,D,T){if(L+1<s.length){var se=D+" "+s[L+1][0];return df(se,n,T).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var p,y,_=df("3",n,o).height,S=n.multiline?l-o:(l-_)/2,w=S+=2,R=0,O=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+df(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var j="",H=0,X=0;X<s.length;X++)if(s.hasOwnProperty(X)){var he=!1;if(s[X].length!==1&&U!==s[X].length-1){if((_+2)*(H+2)+2>l)continue e;j+=s[X][U],he=!0,O=X,X--}else{j=(j+=s[X][U]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var be=parseInt(X),Ne=h(be,j,o),B=X>=s.length-1;if(Ne&&!B){j+=" ",U=0;continue}if(Ne||B){if(B)O=be;else if(n.multiline&&(_+2)*(H+2)+2>l)continue e}else{if(!n.multiline||(_+2)*(H+2)+2>l)continue e;O=be}}for(var C="",F=R;F<=O;F++){var G=s[F];if(n.multiline){if(F===O){C+=G[U]+" ",U=(U+1)%G.length;continue}if(F===R){C+=G[G.length-1]+" ";continue}}C+=G[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,y=df(C,n,o).width,n.textAlign){case"right":p=u-y-2;break;case"center":p=(u-y)/2;break;case"left":default:p=2}e+=Yt(p)+" "+Yt(w)+` Td
`,e+="("+ic(C)+`) Tj
`,e+=-Yt(p)+` 0 Td
`,w=-(o+2),y=0,R=he?O:O+1,H++,j=""}break}return r.text=e,r.fontSize=o,r},df=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},Y3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J3=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},X3=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),Fn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[r]}},Z3=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ta.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Y3)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new N5,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&J3(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var l in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],h=[],p=u.Rect;if(u.Rect&&(u.Rect=K3(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Et.createDefaultAppearanceStream(u),Fn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=Q3(u);h.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var _="";for(var S in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(S)){var w=u.appearanceStreamContent[S];if(_+="/"+S+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var l in w)if(w.hasOwnProperty(l)){var R=w[l];typeof R=="function"&&(R=R.call(s,u)),_+="/"+l+" "+R+" ",s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R)}}else typeof(R=w)=="function"&&(R=R.call(s,u)),_+="/"+l+" "+R,s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R);_+=">>"}h.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:u.objId}),s.internal.out("endobj")}o&&X3(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},A5=vr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Fn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+ic(r(n[o].toString()))+")"):s+=n[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vm=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+ic(r(n))+")"},Ea=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ea.prototype.toString=function(){return this.objId+" 0 R"},Ea.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ea.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:A5(s,this.objId,this.scope)}):s instanceof Ea?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var k5=function(){Ea.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};xs(k5,Ea);var N5=function(){Ea.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ic(t(n))+")"}},set:function(t){n=t}})};xs(N5,Ea);var ta=function n(){Ea.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(e,3)},set:function(j){j?this.F=Ar(e,3):this.F=kr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $f)return;o="FieldObject"+n.FieldNum++}var j=function(H){return H};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+ic(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/a0:p},set:function(j){p=j}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(j){y=j}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof $f||this instanceof Ju))return Vm(_,this.objId,this.scope)},set:function(j){j=j.toString(),_=j}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof ii?S:Vm(S,this.objId,this.scope)},set:function(j){j=j.toString(),S=this instanceof ii?j:j.substr(0,1)==="("?Rc(j.substr(1,j.length-2)):Rc(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii?Rc(S.substr(1,S.length-1)):S},set:function(j){j=j.toString(),S=this instanceof ii?"/"+j:j}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ii?w:Vm(w,this.objId,this.scope)},set:function(j){j=j.toString(),w=this instanceof ii?j:j.substr(0,1)==="("?Rc(j.substr(1,j.length-2)):Rc(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii?Rc(w.substr(1,w.length-1)):w},set:function(j){j=j.toString(),w=this instanceof ii?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(j){j=!!j,O=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(j){R=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(j){j?this.Ff=Ar(this.Ff,1):this.Ff=kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(j){j?this.Ff=Ar(this.Ff,2):this.Ff=kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(j){j?this.Ff=Ar(this.Ff,3):this.Ff=kr(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');U=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(U){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:U=2;break;case"center":case 1:U=1;break;case"left":case 0:default:U=0}}})};xs(ta,Ea);var Hc=function(){ta.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return A5(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=function(o,l,u){u||(u=1);for(var h,p=[];h=l.exec(o);)p.push(h[u]);return p}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(t){t?this.Ff=Ar(this.Ff,18):this.Ff=kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ar(this.Ff,19):this.Ff=kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(t){t?(this.Ff=Ar(this.Ff,20),e.sort()):this.Ff=kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(t){t?this.Ff=Ar(this.Ff,22):this.Ff=kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(t){t?this.Ff=Ar(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(t){t?this.Ff=Ar(this.Ff,27):this.Ff=kr(this.Ff,27)}}),this.hasAppearanceStream=!1};xs(Hc,ta);var Wc=function(){Hc.call(this),this.fontName="helvetica",this.combo=!1};xs(Wc,Hc);var Gc=function(){Wc.call(this),this.combo=!0};xs(Gc,Wc);var Nf=function(){Gc.call(this),this.edit=!0};xs(Nf,Gc);var ii=function(){ta.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(t){t?this.Ff=Ar(this.Ff,15):this.Ff=kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(t){t?this.Ff=Ar(this.Ff,16):this.Ff=kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(t){t?this.Ff=Ar(this.Ff,17):this.Ff=kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(t){t?this.Ff=Ar(this.Ff,26):this.Ff=kr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+ic(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Fn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};xs(ii,ta);var If=function(){ii.call(this),this.pushButton=!0};xs(If,ii);var Kc=function(){ii.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};xs(Kc,ii);var $f=function(){var n,e;ta.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),r)l.push("/"+o+" ("+ic(s(r[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Fn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xs($f,ta),Kc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Kc.prototype.createOption=function(n){var e=new $f;return e.Parent=this,e.optionName=n,this.Kids.push(e),eS.call(this.scope,e),e};var Tf=function(){ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};xs(Tf,ii);var Ju=function(){ta.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(e){e?this.Ff=Ar(this.Ff,13):this.Ff=kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(e){e?this.Ff=Ar(this.Ff,21):this.Ff=kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(e){e?this.Ff=Ar(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(e){e?this.Ff=Ar(this.Ff,24):this.Ff=kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(e){e?this.Ff=Ar(this.Ff,25):this.Ff=kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(e){e?this.Ff=Ar(this.Ff,26):this.Ff=kr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xs(Ju,ta);var Cf=function(){Ju.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(n){n?this.Ff=Ar(this.Ff,14):this.Ff=kr(this.Ff,14)}}),this.password=!0};xs(Cf,Ju);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=_g(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Yt(Et.internal.getWidth(n))+" "+Yt(Et.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Yt(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=xa(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=Et.internal.getHeight(n),l=Et.internal.getWidth(n),u=_g(n,n.caption);return s.push("1 g"),s.push("0 0 "+Yt(l)+" "+Yt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Yt(l-1)+" "+Yt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Yt(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yt(Et.internal.getWidth(n))+" "+Yt(Et.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Et.RadioButton.Circle.YesNormal,e.D[n]=Et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=xa(n);e.scope=n.scope;var t=[],r=Et.internal.getWidth(n)<=Et.internal.getHeight(n)?Et.internal.getWidth(n)/4:Et.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Et.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+iu(Et.internal.getWidth(n)/2)+" "+iu(Et.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=[],r=Et.internal.getWidth(n)<=Et.internal.getHeight(n)?Et.internal.getWidth(n)/4:Et.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Et.internal.Bezier_C).toFixed(5)),l=Number((r*Et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Et.internal.getWidth(n)/2)+" "+iu(Et.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+iu(Et.internal.getWidth(n)/2)+" "+iu(Et.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=[],r=Et.internal.getWidth(n)<=Et.internal.getHeight(n)?Et.internal.getWidth(n)/4:Et.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Et.internal.getWidth(n)/2)+" "+iu(Et.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Et.RadioButton.Cross.YesNormal,e.D[n]=Et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=xa(n);e.scope=n.scope;var t=[],r=Et.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Yt(Et.internal.getWidth(n)-2)+" "+Yt(Et.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),t.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),t.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),t.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=Et.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(Et.internal.getWidth(n))+" "+Yt(Et.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yt(Et.internal.getWidth(n)-2)+" "+Yt(Et.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(t.x1.x)+" "+Yt(t.x1.y)+" m"),r.push(Yt(t.x2.x)+" "+Yt(t.x2.y)+" l"),r.push(Yt(t.x4.x)+" "+Yt(t.x4.y)+" m"),r.push(Yt(t.x3.x)+" "+Yt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=xa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yt(Et.internal.getWidth(n))+" "+Yt(Et.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Et.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Et.internal.getWidth(n),t=Et.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Et.internal.getWidth=function(n){var e=0;return Fn(n)==="object"&&(e=V2(n.Rect[2])),e},Et.internal.getHeight=function(n){var e=0;return Fn(n)==="object"&&(e=V2(n.Rect[3])),e};var eS=vr.addField=function(n){if(Z3(this,n),!(n instanceof ta))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Hc,vr.AcroFormListBox=Wc,vr.AcroFormComboBox=Gc,vr.AcroFormEditBox=Nf,vr.AcroFormButton=ii,vr.AcroFormPushButton=If,vr.AcroFormRadioButton=Kc,vr.AcroFormCheckBox=Tf,vr.AcroFormTextField=Ju,vr.AcroFormPasswordField=Cf,vr.AcroFormAppearance=Et,vr.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:Nf,Button:ii,PushButton:If,RadioButton:Kc,CheckBox:Tf,TextField:Ju,PasswordField:Cf,Appearance:Et},Vt.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:Nf,Button:ii,PushButton:If,RadioButton:Kc,CheckBox:Tf,TextField:Ju,PasswordField:Cf,Appearance:Et};Vt.AcroForm;function I5(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(L,D){var T,se,Pe,Ie,we,ie=e;if((D=D||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Ne(L))for(we in t)for(Pe=t[we],T=0;T<Pe.length;T+=1){for(Ie=!0,se=0;se<Pe[T].length;se+=1)if(Pe[T][se]!==void 0&&Pe[T][se]!==L[se]){Ie=!1;break}if(Ie===!0){ie=we;break}}else for(we in t)for(Pe=t[we],T=0;T<Pe.length;T+=1){for(Ie=!0,se=0;se<Pe[T].length;se+=1)if(Pe[T][se]!==void 0&&Pe[T][se]!==L.charCodeAt(se)){Ie=!1;break}if(Ie===!0){ie=we;break}}return ie===e&&D!==e&&(ie=D),ie},s=function L(D){for(var T=this.internal.write,se=this.internal.putStream,Pe=(0,this.internal.getFilters)();Pe.indexOf("FlateEncode")!==-1;)Pe.splice(Pe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var Ie=[];if(Ie.push({key:"Type",value:"/XObject"}),Ie.push({key:"Subtype",value:"/Image"}),Ie.push({key:"Width",value:D.width}),Ie.push({key:"Height",value:D.height}),D.colorSpace===U.INDEXED?Ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(Ie.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===U.DEVICE_CMYK&&Ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ie.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&Ie.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var we="",ie=0,_e=D.transparency.length;ie<_e;ie++)we+=D.transparency[ie]+" "+D.transparency[ie]+" ";Ie.push({key:"Mask",value:"["+we+"]"})}D.sMask!==void 0&&Ie.push({key:"SMask",value:D.objectId+1+" 0 R"});var fe=D.filter!==void 0?["/"+D.filter]:void 0;if(se({data:D.data,additionalKeyValues:Ie,alreadyAppliedFilters:fe,objectId:D.objectId}),T("endobj"),"sMask"in D&&D.sMask!==void 0){var Z="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,A={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Z,data:D.sMask};"filter"in D&&(A.filter=D.filter),L.call(this,A)}if(D.colorSpace===U.INDEXED){var z=this.internal.newObject();se({data:C(new Uint8Array(D.palette)),objectId:z}),T("endobj")}},o=function(){var L=this.internal.collections.addImage_images;for(var D in L)s.call(this,L[D])},l=function(){var L,D=this.internal.collections.addImage_images,T=this.internal.write;for(var se in D)T("/I"+(L=D[se]).index,L.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var L=this.internal.collections.addImage_images;return u.call(this),L},p=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(L){return typeof n["process"+L.toUpperCase()]=="function"},_=function(L){return Fn(L)==="object"&&L.nodeType===1},S=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var T=""+L.getAttribute("src");if(T.indexOf("data:image/")===0)return Kh(unescape(T).split("base64,").pop());var se=n.loadFile(T,!0);if(se!==void 0)return se}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Pe;switch(D){case"PNG":Pe="image/png";break;case"WEBP":Pe="image/webp";break;case"JPEG":case"JPG":default:Pe="image/jpeg"}return Kh(L.toDataURL(Pe,1).split("base64,").pop())}},w=function(L){var D=this.internal.collections.addImage_images;if(D){for(var T in D)if(L===D[T].alias)return D[T]}},R=function(L,D,T){return L||D||(L=-96,D=-96),L<0&&(L=-1*T.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*T.height*72/D/this.internal.scaleFactor),L===0&&(L=D*T.width/T.height),D===0&&(D=L*T.height/T.width),[L,D]},O=function(L,D,T,se,Pe,Ie){var we=R.call(this,T,se,Pe),ie=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,fe=h.call(this);if(T=we[0],se=we[1],fe[Pe.index]=Pe,Ie){Ie*=Math.PI/180;var Z=Math.cos(Ie),A=Math.sin(Ie),z=function(te){return te.toFixed(4)},J=[z(Z),z(A),z(-1*A),z(Z),0,0,"cm"]}this.internal.write("q"),Ie?(this.internal.write([1,"0","0",1,ie(L),_e(D+se),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ie(T),"0","0",ie(se),"0","0","cm"].join(" "))):this.internal.write([ie(T),"0","0",ie(se),ie(L),_e(D+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Pe.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},H=n.__addimage__.sHashCode=function(L){var D,T,se=0;if(typeof L=="string")for(T=L.length,D=0;D<T;D++)se=(se<<5)-se+L.charCodeAt(D),se|=0;else if(Ne(L))for(T=L.byteLength/2,D=0;D<T;D++)se=(se<<5)-se+L[D],se|=0;return se},X=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},he=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},be=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return be()&&L instanceof ArrayBuffer};var Ne=n.__addimage__.isArrayBufferView=function(L){return be()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},B=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,T=new Uint8Array(D),se=0;se<D;se++)T[se]=L.charCodeAt(se);return T},C=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",T=Ne(L)?L:new Uint8Array(L),se=0;se<T.length;se+=8192)D+=String.fromCharCode.apply(null,T.subarray(se,se+8192));return D};n.addImage=function(){var L,D,T,se,Pe,Ie,we,ie,_e;if(typeof arguments[1]=="number"?(D=e,T=arguments[1],se=arguments[2],Pe=arguments[3],Ie=arguments[4],we=arguments[5],ie=arguments[6],_e=arguments[7]):(D=arguments[1],T=arguments[2],se=arguments[3],Pe=arguments[4],Ie=arguments[5],we=arguments[6],ie=arguments[7],_e=arguments[8]),Fn(L=arguments[0])==="object"&&!_(L)&&"imageData"in L){var fe=L;L=fe.imageData,D=fe.format||D||e,T=fe.x||T||0,se=fe.y||se||0,Pe=fe.w||fe.width||Pe,Ie=fe.h||fe.height||Ie,we=fe.alias||we,ie=fe.compression||ie,_e=fe.rotation||fe.angle||_e}var Z=this.internal.getFilters();if(ie===void 0&&Z.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(T)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var A=F.call(this,L,D,we,ie);return O.call(this,T,se,Pe,Ie,A,_e),this};var F=function(L,D,T,se){var Pe,Ie,we;if(typeof L=="string"&&r(L)===e){L=unescape(L);var ie=G(L,!1);(ie!==""||(ie=n.loadFile(L,!0))!==void 0)&&(L=ie)}if(_(L)&&(L=S(L,D)),D=r(L,D),!y(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((we=T)==null||we.length===0)&&(T=function(_e){return typeof _e=="string"||Ne(_e)?H(_e):Ne(_e.data)?H(_e.data):null}(L)),(Pe=w.call(this,T))||(be()&&(L instanceof Uint8Array||D==="RGBA"||(Ie=L,L=B(L))),Pe=this["process"+D.toUpperCase()](L,p.call(this),T,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:j.NONE}(se),Ie)),!Pe)throw new Error("An unknown error occurred whilst processing the image.");return Pe},G=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var T,se="";if(typeof L=="string"){var Pe;T=(Pe=he(L))!==null&&Pe!==void 0?Pe:L;try{se=Kh(T)}catch(Ie){if(D)throw X(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(L){var D,T,se="";if(_(L)&&(L=S(L)),typeof L=="string"&&r(L)===e&&((se=G(L,!1))===""&&(se=n.loadFile(L)||""),L=se),T=r(L),!y(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!be()||L instanceof Uint8Array||(L=B(L)),!(D=this["process"+T.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=T,D}})(Vt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Vt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,y=!1,_=0;_<p.length&&!y;_++)switch((r=p[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var S=0;S<p.length;S++){r=p[S];var w=this.internal.pdfEscape,R=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(O.objId),H=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+w(j(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+w(j(H))+") >>",O.content=o;var X=O.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+X,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(O.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var he=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+he+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var be=this.annotations._nameMap[r.options.name];r.options.pageNumber=be.page,r.options.top=be.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ne=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ne+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:p(r),w:h(t+s),h:p(r+o)},options:l,type:"link"})},n.textWithLink=function(t,r,s,o){var l,u,h=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var y=this.splitTextToSize(t,u).length;l=Math.ceil(p*y)}else u=h,l=p;return this.text(t,r,s,o),s+=.2*p,o.align==="center"&&(r-=h/2),o.align==="right"&&(r-=h),this.link(r,s-p,u,l,o),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Vt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(O){return e[O.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},u=n.__arabicParser__.isArabicEndLetter=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(O){return l(O)&&s.indexOf(O.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(O){var U=0,j=t,H="",X=0;for(U=0;U<O.length;U+=1)j[O.charCodeAt(U)]!==void 0?(X++,typeof(j=j[O.charCodeAt(U)])=="number"&&(H+=String.fromCharCode(j),j=t,X=0),U===O.length-1&&(j=t,H+=O.charAt(U-(X-1)),U-=X-1,X=0)):(j=t,H+=O.charAt(U-X),U-=X,X=0);return H};n.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&r[O.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(O,U,j){return l(O)?o(O)===!1?-1:!p(O)||!l(U)&&!l(j)||!l(j)&&u(U)||u(O)&&!l(U)||u(O)&&h(U)||u(O)&&u(U)?0:y(O)&&l(U)&&!u(U)&&l(j)&&p(j)?3:u(O)||!l(j)?1:2:-1},w=function(O){var U=0,j=0,H=0,X="",he="",be="",Ne=(O=O||"").split("\\s+"),B=[];for(U=0;U<Ne.length;U+=1){for(B.push(""),j=0;j<Ne[U].length;j+=1)X=Ne[U][j],he=Ne[U][j-1],be=Ne[U][j+1],l(X)?(H=S(X,he,be),B[U]+=H!==-1?String.fromCharCode(e[X.charCodeAt(0)][H]):X):B[U]+=X;B[U]=_(B[U])}return B.join(" ")},R=n.__arabicParser__.processArabic=n.processArabic=function(){var O,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(U)){var H=0;for(j=[],H=0;H<U.length;H+=1)Array.isArray(U[H])?j.push([w(U[H][0]),U[H][1],U[H][2]]):j.push([w(U[H])]);O=j}else O=w(U);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};n.events.push(["preProcessText",R])}(Vt.API),Vt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Vt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(O){h=O}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(O){p=O}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(O){y=O}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(O){_=O}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(O){S=O}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(O){w=O}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(O){R=O}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),S=p.scaleFactor||this.internal.scaleFactor,w=0,R=0,O=0,U=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var j=p.maxWidth;j>0?typeof h=="string"?h=this.splitTextToSize(h,j):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(X,he){return X.concat(U.splitTextToSize(he,j))},[])):h=Array.isArray(h)?h:[h];for(var H=0;H<h.length;H++)w<(O=this.getStringUnitWidth(h[H],{font:_})*y)&&(w=O);return w!==0&&(R=h.length),{w:w/=S,h:Math.max((R*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=_.top,w&&S&&(this.printHeaderRow(h.lineNumber,!0),h.y+=S[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-y,h.y+y,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+y,{align:"center",baseline:"top",maxWidth:h.width-y-y}):this.text(h.text,h.x+y,h.y+y,{align:"left",baseline:"top",maxWidth:h.width-y-y})),this.internal.__cell__.lastCell=h,this};n.table=function(h,p,y,_,S){if(r.call(this),!y)throw new Error("No data for PDF table.");var w,R,O,U,j=[],H=[],X=[],he={},be={},Ne=[],B=[],C=(S=S||{}).autoSize||!1,F=S.printHeaders!==!1,G=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,L=S.margins||Object.assign({width:this.getPageWidth()},e),D=typeof S.padding=="number"?S.padding:3,T=S.headerBackgroundColor||"#c8c8c8",se=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=se,this.setFontSize(G),_==null)H=j=Object.keys(y[0]),X=j.map(function(){return"left"});else if(Array.isArray(_)&&Fn(_[0])==="object")for(j=_.map(function(fe){return fe.name}),H=_.map(function(fe){return fe.prompt||fe.name||""}),X=_.map(function(fe){return fe.align||"left"}),w=0;w<_.length;w+=1)be[_[w].name]=_[w].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(H=j=_,X=j.map(function(){return"left"}));if(C||Array.isArray(_)&&typeof _[0]=="string")for(w=0;w<j.length;w+=1){for(he[U=j[w]]=y.map(function(fe){return fe[U]}),this.setFont(void 0,"bold"),Ne.push(this.getTextDimensions(H[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=he[U],this.setFont(void 0,"normal"),O=0;O<R.length;O+=1)Ne.push(this.getTextDimensions(R[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);be[U]=Math.max.apply(null,Ne)+D+D,Ne=[]}if(F){var Pe={};for(w=0;w<j.length;w+=1)Pe[j[w]]={},Pe[j[w]].text=H[w],Pe[j[w]].align=X[w];var Ie=u.call(this,Pe,be);B=j.map(function(fe){return new o(h,p,be[fe],Ie,Pe[fe].text,void 0,Pe[fe].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var we=_.reduce(function(fe,Z){return fe[Z.name]=Z.align,fe},{});for(w=0;w<y.length;w+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:w,data:y[w]},this);var ie=u.call(this,y[w],be);for(O=0;O<j.length;O+=1){var _e=y[w][j[O]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:w,col:O,data:_e},this),l.call(this,new o(h,p,be[j[O]],ie,_e,w+2,we[j[O]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var y=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(h).map(function(w){var R=h[w];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,p[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/S+y+y},this).reduce(function(w,R){return Math.max(w,R)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,S.push(y)),y.lineNumber=h;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,y),this.setTextColor(R)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}}(Vt.API);var T5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bg=I5(C5),P5=[100,200,300,400,500,600,700,800,900],tS=I5(P5);function xg(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return T5[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(o){return typeof bg[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function U2(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var nS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z2(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function rS(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},nS,t.genericFontFamilies||{}),o=null,l=null,u=0;u<e.length;++u)if(s[(o=xg(e[u])).family]&&(o.family=s[o.family]),n.hasOwnProperty(o.family)){l=n[o.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+z2(o)+"' and default family '"+r+"'.");if(l=function(h,p){if(p[h])return p[h];var y=bg[h],_=y<=bg.normal?-1:1,S=U2(p,C5,y,_);if(!S)throw new Error("Could not find a matching font-stretch value for "+h);return S}(o.stretch,l),l=function(h,p){if(p[h])return p[h];for(var y=T5[h],_=0;_<y.length;++_)if(p[y[_]])return p[y[_]];throw new Error("Could not find a matching font-style for "+h)}(o.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var y=tS[h],_=U2(p,P5,y,h<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+h);return _}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+z2(o)+"'.");return l}function q2(n){return n.trimLeft()}function iS(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function sS(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var ff,$2,H2,Um=["times"];(function(n){var e,t,r,s,o,l,u,h,p,y=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new h,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new l,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new l,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new y}]);var _=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=A;Object.defineProperty(this,"pdf",{get:function(){return z}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Me){J=!!Me}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Me){te=!!Me}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Me){isNaN(Me)||(ae=Me)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Me){isNaN(Me)||(oe=Me)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Me){var ne;typeof Me=="number"?ne=[Me,Me,Me,Me]:((ne=new Array(4))[0]=Me[0],ne[1]=Me.length>=2?Me[1]:ne[0],ne[2]=Me.length>=3?Me[2]:ne[0],ne[3]=Me.length>=4?Me[3]:ne[1]),p.margin=ne}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Me){ue=Me}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Me){Ae=Me}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(Me){We=Me}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Me){Me instanceof y&&(p=Me)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Me){p.path=Me}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Me){$e=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var ne;ne=S(Me),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var ne=S(Me);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var Ye=null;function it(Me,ne){if(Ye===null){var _t=function(ft){var Ze=[];return Object.keys(ft).forEach(function(nt){ft[nt].forEach(function(st){var lt=null;switch(st){case"bold":lt={family:nt,weight:"bold"};break;case"italic":lt={family:nt,style:"italic"};break;case"bolditalic":lt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:nt}}lt!==null&&(lt.ref={name:nt,style:st},Ze.push(lt))})}),Ze}(Me.getFontList());Ye=function(ft){for(var Ze={},nt=0;nt<ft.length;++nt){var st=xg(ft[nt]),lt=st.family,xt=st.stretch,Rt=st.style,Ut=st.weight;Ze[lt]=Ze[lt]||{},Ze[lt][xt]=Ze[lt][xt]||{},Ze[lt][xt][Rt]=Ze[lt][xt][Rt]||{},Ze[lt][xt][Rt][Ut]=st}return Ze}(_t.concat(ne))}return Ye}var kt=null;Object.defineProperty(this,"fontFaces",{get:function(){return kt},set:function(Me){Ye=null,kt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var ne;if(this.ctx.font=Me,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var _t=ne[1];ne[2];var ft=ne[3],Ze=ne[4];ne[5];var nt=ne[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(st==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var lt=function(Ct){var $t,ut,qn=[],tn=Ct.trim();if(tn==="")return Um;if(tn in B2)return[B2[tn]];for(;tn!=="";){switch(ut=null,$t=(tn=q2(tn)).charAt(0)){case'"':case"'":ut=iS(tn.substring(1),$t);break;default:ut=sS(tn)}if(ut===null||(qn.push(ut[0]),(tn=q2(ut[1]))!==""&&tn.charAt(0)!==","))return Um;tn=tn.replace(/^,/,"")}return qn}(nt);if(this.fontFaces){var xt=rS(it(this.pdf,this.fontFaces),lt.map(function(Ct){return{family:Ct,stretch:"normal",weight:ft,style:_t}}));this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Rt="";(ft==="bold"||parseInt(ft,10)>=700||_t==="bold")&&(Rt="bold"),_t==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var Ut="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<lt.length;Tt++){if(this.pdf.internal.getFont(lt[Tt],Rt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=lt[Tt];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(lt[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=lt[Tt],Rt="bold";else if(this.pdf.internal.getFont(lt[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=lt[Tt],Rt="normal";break}}if(Ut===""){for(var Zt=0;Zt<lt.length;Zt++)if(pt[lt[Zt]]){Ut=pt[lt[Zt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};_.prototype.setLineDash=function(A){this.lineDash=A},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){he.call(this,"fill",!1)},_.prototype.stroke=function(){he.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new l(A,z));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(A,z)},_.prototype.closePath=function(){var A=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Fn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){A=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(A.x,A.y)},_.prototype.lineTo=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new l(A,z));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),he.call(this,null,!0)},_.prototype.quadraticCurveTo=function(A,z,J,te){if(isNaN(J)||isNaN(te)||isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new l(J,te)),oe=this.ctx.transform.applyToPoint(new l(A,z));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},_.prototype.bezierCurveTo=function(A,z,J,te,ae,oe){if(isNaN(ae)||isNaN(oe)||isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(ae,oe)),Ae=this.ctx.transform.applyToPoint(new l(A,z)),We=this.ctx.transform.applyToPoint(new l(J,te));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:We.x,y2:We.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},_.prototype.arc=function(A,z,J,te,ae,oe){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te)||isNaN(ae))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(A,z));A=ue.x,z=ue.y;var Ae=this.ctx.transform.applyToPoint(new l(0,J)),We=this.ctx.transform.applyToPoint(new l(0,0));J=Math.sqrt(Math.pow(Ae.x-We.x,2)+Math.pow(Ae.y-We.y,2))}Math.abs(ae-te)>=2*Math.PI&&(te=0,ae=2*Math.PI),this.path.push({type:"arc",x:A,y:z,radius:J,startAngle:te,endAngle:ae,counterclockwise:oe})},_.prototype.arcTo=function(A,z,J,te,ae){throw new Error("arcTo not implemented.")},_.prototype.rect=function(A,z,J,te){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,z),this.lineTo(A+J,z),this.lineTo(A+J,z+te),this.lineTo(A,z+te),this.lineTo(A,z),this.lineTo(A+J,z),this.lineTo(A,z)},_.prototype.fillRect=function(A,z,J,te){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,z,J,te),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},_.prototype.strokeRect=function(A,z,J,te){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(A,z,J,te),this.stroke())},_.prototype.clearRect=function(A,z,J,te){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,z,J,te))},_.prototype.save=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},_.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(z),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(A){var z,J,te,ae;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))z=0,J=0,te=0,ae=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(oe!==null)z=parseInt(oe[1]),J=parseInt(oe[2]),te=parseInt(oe[3]),ae=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)z=parseInt(oe[1]),J=parseInt(oe[2]),te=parseInt(oe[3]),ae=parseFloat(oe[4]);else{if(ae=1,typeof A=="string"&&A.charAt(0)!=="#"){var ue=new x5(A);A=ue.ok?ue.toHex():"#000000"}A.length===4?(z=A.substring(1,2),z+=z,J=A.substring(2,3),J+=J,te=A.substring(3,4),te+=te):(z=A.substring(1,3),J=A.substring(3,5),te=A.substring(5,7)),z=parseInt(z,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:z,g:J,b:te,a:ae,style:A}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(A,z,J,te){if(isNaN(z)||isNaN(J)||typeof A!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!w.call(this)){var ae=ie(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;D.call(this,{text:A,x:z,y:J,scale:oe,angle:ae,align:this.textAlign,maxWidth:te})}},_.prototype.strokeText=function(A,z,J,te){if(isNaN(z)||isNaN(J)||typeof A!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){te=isNaN(te)?void 0:te;var ae=ie(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;D.call(this,{text:A,x:z,y:J,scale:oe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:te})}},_.prototype.measureText=function(A){if(typeof A!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,J=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ae=z.getStringUnitWidth(A)*te/z.internal.scaleFactor,oe=function(ue){var Ae=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this};return new oe({width:ae*=Math.round(96*J/72*1e4)/1e4})},_.prototype.scale=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new h(A,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},_.prototype.rotate=function(A){if(isNaN(A))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new h(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},_.prototype.translate=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new h(1,0,0,1,A,z);this.ctx.transform=this.ctx.transform.multiply(J)},_.prototype.transform=function(A,z,J,te,ae,oe){if(isNaN(A)||isNaN(z)||isNaN(J)||isNaN(te)||isNaN(ae)||isNaN(oe))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new h(A,z,J,te,ae,oe);this.ctx.transform=this.ctx.transform.multiply(ue)},_.prototype.setTransform=function(A,z,J,te,ae,oe){A=isNaN(A)?1:A,z=isNaN(z)?0:z,J=isNaN(J)?0:J,te=isNaN(te)?1:te,ae=isNaN(ae)?0:ae,oe=isNaN(oe)?0:oe,this.ctx.transform=new h(A,z,J,te,ae,oe)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(A,z,J,te,ae,oe,ue,Ae,We){var $e=this.pdf.getImageProperties(A),Ye=1,it=1,kt=1,Me=1;te!==void 0&&Ae!==void 0&&(kt=Ae/te,Me=We/ae,Ye=$e.width/te*Ae/te,it=$e.height/ae*We/ae),oe===void 0&&(oe=z,ue=J,z=0,J=0),te!==void 0&&Ae===void 0&&(Ae=te,We=ae),te===void 0&&Ae===void 0&&(Ae=$e.width,We=$e.height);for(var ne,_t=this.ctx.transform.decompose(),ft=ie(_t.rotate.shx),Ze=new h,nt=(Ze=(Ze=(Ze=Ze.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new u(oe-z*kt,ue-J*Me,te*Ye,ae*it)),st=U.call(this,nt),lt=[],xt=0;xt<st.length;xt+=1)lt.indexOf(st[xt])===-1&&lt.push(st[xt]);if(X(lt),this.autoPaging)for(var Rt=lt[0],Ut=lt[lt.length-1],pt=Rt;pt<Ut+1;pt++){this.pdf.setPage(pt);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=pt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=pt===1?0:Ct+(pt-2)*$t;if(this.ctx.clip_path.length!==0){var qn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(ne,this.posX+this.margin[3],-ut+Zt+this.ctx.prevPageLastElemOffset),be.call(this,"fill",!0),this.path=qn}var tn=JSON.parse(JSON.stringify(nt));tn=H([tn],this.posX+this.margin[3],-ut+Zt+this.ctx.prevPageLastElemOffset)[0];var Pr=(pt>Rt||pt<Ut)&&O.call(this);Pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,$t,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,ft),Pr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,ft)};var U=function(A,z,J){var te=[];z=z||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":te.push(Math.floor((A.y+ae)/J)+1);break;case"arc":te.push(Math.floor((A.y+ae-A.radius)/J)+1),te.push(Math.floor((A.y+ae+A.radius)/J)+1);break;case"qct":var oe=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);te.push(Math.floor((oe.y+ae)/J)+1),te.push(Math.floor((oe.y+oe.h+ae)/J)+1);break;case"bct":var ue=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);te.push(Math.floor((ue.y+ae)/J)+1),te.push(Math.floor((ue.y+ue.h+ae)/J)+1);break;case"rect":te.push(Math.floor((A.y+ae)/J)+1),te.push(Math.floor((A.y+A.h+ae)/J)+1)}for(var Ae=0;Ae<te.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<te[Ae];)j.call(this);return te},j=function(){var A=this.fillStyle,z=this.strokeStyle,J=this.font,te=this.lineCap,ae=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=z,this.font=J,this.lineCap=te,this.lineWidth=ae,this.lineJoin=oe},H=function(A,z,J){for(var te=0;te<A.length;te++)switch(A[te].type){case"bct":A[te].x2+=z,A[te].y2+=J;case"qct":A[te].x1+=z,A[te].y1+=J;case"mt":case"lt":case"arc":default:A[te].x+=z,A[te].y+=J}return A},X=function(A){return A.sort(function(z,J){return z-J})},he=function(A,z){for(var J,te,ae=this.fillStyle,oe=this.strokeStyle,ue=this.lineCap,Ae=this.lineWidth,We=Math.abs(Ae*this.ctx.transform.scaleX),$e=this.lineJoin,Ye=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),kt=[],Me=0;Me<it.length;Me++)if(it[Me].x!==void 0)for(var ne=U.call(this,it[Me]),_t=0;_t<ne.length;_t+=1)kt.indexOf(ne[_t])===-1&&kt.push(ne[_t]);for(var ft=0;ft<kt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<kt[ft];)j.call(this);if(X(kt),this.autoPaging)for(var Ze=kt[0],nt=kt[kt.length-1],st=Ze;st<nt+1;st++){this.pdf.setPage(st),this.fillStyle=ae,this.strokeStyle=oe,this.lineCap=ue,this.lineWidth=We,this.lineJoin=$e;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=st===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=st===1?0:Rt+(st-2)*Ut;if(this.ctx.clip_path.length!==0){var Tt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(J,this.posX+this.margin[3],-pt+xt+this.ctx.prevPageLastElemOffset),be.call(this,A,!0),this.path=Tt}if(te=JSON.parse(JSON.stringify(Ye)),this.path=H(te,this.posX+this.margin[3],-pt+xt+this.ctx.prevPageLastElemOffset),z===!1||st===0){var Zt=(st>Ze||st<nt)&&O.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ut,null).clip().discardPath()),be.call(this,A,z),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=We,be.call(this,A,z),this.lineWidth=Ae;this.path=Ye},be=function(A,z){if((A!=="stroke"||z||!R.call(this))&&(A==="stroke"||z||!w.call(this))){for(var J,te,ae=[],oe=this.path,ue=0;ue<oe.length;ue++){var Ae=oe[ue];switch(Ae.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ae,deltas:[],abs:[]});break;case"lt":var We=ae.length;if(oe[ue-1]&&!isNaN(oe[ue-1].x)&&(J=[Ae.x-oe[ue-1].x,Ae.y-oe[ue-1].y],We>0)){for(;We>=0;We--)if(ae[We-1].close!==!0&&ae[We-1].begin!==!0){ae[We-1].deltas.push(J),ae[We-1].abs.push(Ae);break}}break;case"bct":J=[Ae.x1-oe[ue-1].x,Ae.y1-oe[ue-1].y,Ae.x2-oe[ue-1].x,Ae.y2-oe[ue-1].y,Ae.x-oe[ue-1].x,Ae.y-oe[ue-1].y],ae[ae.length-1].deltas.push(J);break;case"qct":var $e=oe[ue-1].x+2/3*(Ae.x1-oe[ue-1].x),Ye=oe[ue-1].y+2/3*(Ae.y1-oe[ue-1].y),it=Ae.x+2/3*(Ae.x1-Ae.x),kt=Ae.y+2/3*(Ae.y1-Ae.y),Me=Ae.x,ne=Ae.y;J=[$e-oe[ue-1].x,Ye-oe[ue-1].y,it-oe[ue-1].x,kt-oe[ue-1].y,Me-oe[ue-1].x,ne-oe[ue-1].y],ae[ae.length-1].deltas.push(J);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ae)}}te=z?null:A==="stroke"?"stroke":"fill";for(var _t=!1,ft=0;ft<ae.length;ft++)if(ae[ft].arc)for(var Ze=ae[ft].abs,nt=0;nt<Ze.length;nt++){var st=Ze[nt];st.type==="arc"?C.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,z,!_t):T.call(this,st.x,st.y),_t=!0}else if(ae[ft].close===!0)this.pdf.internal.out("h"),_t=!1;else if(ae[ft].begin!==!0){var lt=ae[ft].start.x,xt=ae[ft].start.y;se.call(this,ae[ft].deltas,lt,xt),_t=!0}te&&F.call(this,te),z&&G.call(this)}},Ne=function(A){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-J;case"top":return A+z-J;case"hanging":return A+z-2*J;case"middle":return A+z/2-J;case"ideographic":return A;case"alphabetic":default:return A}},B=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(z,J){this.colorStops.push([z,J])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(A,z,J,te,ae,oe,ue,Ae,We){for(var $e=Ie.call(this,J,te,ae,oe),Ye=0;Ye<$e.length;Ye++){var it=$e[Ye];Ye===0&&(We?L.call(this,it.x1+A,it.y1+z):T.call(this,it.x1+A,it.y1+z)),Pe.call(this,A,z,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Ae?G.call(this):F.call(this,ue)},F=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(A,z){this.pdf.internal.out(t(A)+" "+r(z)+" m")},D=function(A){var z;switch(A.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var J=this.pdf.getTextDimensions(A.text),te=Ne.call(this,A.y),ae=B.call(this,te)-J.h,oe=this.ctx.transform.applyToPoint(new l(A.x,te)),ue=this.ctx.transform.decompose(),Ae=new h;Ae=(Ae=(Ae=Ae.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var We,$e,Ye,it=this.ctx.transform.applyToRectangle(new u(A.x,te,J.w,J.h)),kt=Ae.applyToRectangle(new u(A.x,ae,J.w,J.h)),Me=U.call(this,kt),ne=[],_t=0;_t<Me.length;_t+=1)ne.indexOf(Me[_t])===-1&&ne.push(Me[_t]);if(X(ne),this.autoPaging)for(var ft=ne[0],Ze=ne[ne.length-1],nt=ft;nt<Ze+1;nt++){this.pdf.setPage(nt);var st=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],Rt=xt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],pt=Ut-this.margin[3],Tt=nt===1?0:lt+(nt-2)*Rt;if(this.ctx.clip_path.length!==0){var Zt=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(We,this.posX+this.margin[3],-1*Tt+st),be.call(this,"fill",!0),this.path=Zt}var Ct=H([JSON.parse(JSON.stringify(kt))],this.posX+this.margin[3],-Tt+st+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ye=this.lineWidth,this.lineWidth=Ye*A.scale);var $t=this.autoPaging!=="text";if($t||Ct.y+Ct.h<=xt){if($t||Ct.y>=st&&Ct.x<=Ut){var ut=$t?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||Ut-Ct.x)[0],qn=H([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Tt+st+this.ctx.prevPageLastElemOffset)[0],tn=$t&&(nt>ft||nt<Ze)&&O.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Rt,null).clip().discardPath()),this.pdf.text(ut,qn.x,qn.y,{angle:A.angle,align:z,renderingMode:A.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Ct.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-Ct.y);A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ye)}else A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ye=this.lineWidth,this.lineWidth=Ye*A.scale),this.pdf.text(A.text,oe.x+this.posX,oe.y+this.posY,{angle:A.angle,align:z,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ye)},T=function(A,z,J,te){J=J||0,te=te||0,this.pdf.internal.out(t(A+J)+" "+r(z+te)+" l")},se=function(A,z,J){return this.pdf.lines(A,z,J,null,null)},Pe=function(A,z,J,te,ae,oe,ue,Ae){this.pdf.internal.out([e(s(J+A)),e(o(te+z)),e(s(ae+A)),e(o(oe+z)),e(s(ue+A)),e(o(Ae+z)),"c"].join(" "))},Ie=function(A,z,J,te){for(var ae=2*Math.PI,oe=Math.PI/2;z>J;)z-=ae;var ue=Math.abs(J-z);ue<ae&&te&&(ue=ae-ue);for(var Ae=[],We=te?-1:1,$e=z;ue>1e-5;){var Ye=$e+We*Math.min(ue,oe);Ae.push(we.call(this,A,$e,Ye)),ue-=Math.abs(Ye-$e),$e=Ye}return Ae},we=function(A,z,J){var te=(J-z)/2,ae=A*Math.cos(te),oe=A*Math.sin(te),ue=ae,Ae=-oe,We=ue*ue+Ae*Ae,$e=We+ue*ae+Ae*oe,Ye=4/3*(Math.sqrt(2*We*$e)-$e)/(ue*oe-Ae*ae),it=ue-Ye*Ae,kt=Ae+Ye*ue,Me=it,ne=-kt,_t=te+z,ft=Math.cos(_t),Ze=Math.sin(_t);return{x1:A*Math.cos(z),y1:A*Math.sin(z),x2:it*ft-kt*Ze,y2:it*Ze+kt*ft,x3:Me*ft-ne*Ze,y3:Me*Ze+ne*ft,x4:A*Math.cos(J),y4:A*Math.sin(J)}},ie=function(A){return 180*A/Math.PI},_e=function(A,z,J,te,ae,oe){var ue=A+.5*(J-A),Ae=z+.5*(te-z),We=ae+.5*(J-ae),$e=oe+.5*(te-oe),Ye=Math.min(A,ae,ue,We),it=Math.max(A,ae,ue,We),kt=Math.min(z,oe,Ae,$e),Me=Math.max(z,oe,Ae,$e);return new u(Ye,kt,it-Ye,Me-kt)},fe=function(A,z,J,te,ae,oe,ue,Ae){var We,$e,Ye,it,kt,Me,ne,_t,ft,Ze,nt,st,lt,xt,Rt=J-A,Ut=te-z,pt=ae-J,Tt=oe-te,Zt=ue-ae,Ct=Ae-oe;for($e=0;$e<41;$e++)ft=(ne=(Ye=A+(We=$e/40)*Rt)+We*((kt=J+We*pt)-Ye))+We*(kt+We*(ae+We*Zt-kt)-ne),Ze=(_t=(it=z+We*Ut)+We*((Me=te+We*Tt)-it))+We*(Me+We*(oe+We*Ct-Me)-_t),$e==0?(nt=ft,st=Ze,lt=ft,xt=Ze):(nt=Math.min(nt,ft),st=Math.min(st,Ze),lt=Math.max(lt,ft),xt=Math.max(xt,Ze));return new u(Math.round(nt),Math.round(st),Math.round(lt-nt),Math.round(xt-st))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,z,J=(A=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:z}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Vt.API),function(n){var e=function(o){var l,u,h,p,y,_,S,w,R,O;for(u=[],h=0,p=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;p>h;h+=4)(y=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(_=(y=((y=((y=((y=(y-(O=y%85))/85)-(R=y%85))/85)-(w=y%85))/85)-(S=y%85))/85)%85,u.push(_+33,S+33,w+33,R+33,O+33)):u.push(122);return function(U,j){for(var H=j;H>0;H--)U.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,p,y,_=String,S="length",w=255,R="charCodeAt",O="slice",U="replace";for(o[O](-2),o=o[O](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),h=[],p=0,y=(o+=l="uuuuu"[O](o[S]%5||5))[S];y>p;p+=5)u=52200625*(o[R](p)-33)+614125*(o[R](p+1)-33)+7225*(o[R](p+2)-33)+85*(o[R](p+3)-33)+(o[R](p+4)-33),h.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(j,H){for(var X=H;X>0;X--)j.pop()}(h,l[S]),_.fromCharCode.apply(_,h)},r=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},s=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return o=(l=gg(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};n.processDataByFilters=function(o,l){var u=0,h=o||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Vt.API),function(n){n.loadFile=function(e,t,r){return function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(h,p,y){var _=new XMLHttpRequest,S=0,w=function(R){var O=R.length,U=[],j=String.fromCharCode;for(S=0;S<O;S+=1)U.push(j(255&R.charCodeAt(S)));return U.join("")};if(_.open("GET",h,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?y(w(this.responseText)):y(void 0)}),_.send(null),p&&_.status===200)return w(_.responseText)}(s,o,l)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(Vt.API),function(n){function e(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):nd(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):nd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=Fn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var h=document.createElement(l);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,y){for(var _=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),S=p.firstChild;S;S=S.nextSibling)y!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||_.appendChild(h(S,y));return p.nodeType===1&&(p.nodeName==="CANVAS"?(_.width=p.width,_.height=p.height,_.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(_.value=p.value),_.addEventListener("load",function(){_.scrollTop=p.scrollTop,_.scrollLeft=p.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var S=0;S<p.length;++S){var w=p[S],R=w.src.find(function(O){return O.format==="truetype"});R&&h.addFont(R.url,w.ref.name,w.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,h.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,h,p){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,p){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(p,y){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return h.updateProgress(null,p),_}).then(p,y).then(function(_){return h.updateProgress(1),_})})},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),y=h.call(p,l,u);return o.convert(y,this.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Vt.getPageSize=function(l,u,h){if(Fn(l)==="object"){var p=l;l=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var y,_=(""+h).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var w,R=0,O=0;if(S.hasOwnProperty(_))R=S[_][1]/y,O=S[_][0]/y;else try{R=h[1],O=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",O>R&&(w=O,O=R,R=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",R>O&&(w=O,O=R,R=w)}return{width:O,height:R,unit:u,k:y,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(xg):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}}(Vt.API),Vt.API.addJS=function(n){return H2=n,this.internal.events.subscribe("postPutResources",function(){ff=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ff+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ff!==void 0&&$2!==void 0&&this.internal.out("/Names <</JavaScript "+ff+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],u=r.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(o=0;o<p;o++){var _=t.internal.newObject();y.push(_);var S=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var l={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var l=r.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(Vt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,l,u){var h,p=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=function(_){for(var S,w=256*_.charCodeAt(4)+_.charCodeAt(5),R=_.length,O={width:0,height:0,numcomponents:1},U=4;U<R;U+=2){if(U+=w,e.indexOf(_.charCodeAt(U+1))!==-1){S=256*_.charCodeAt(U+5)+_.charCodeAt(U+6),O={width:256*_.charCodeAt(U+7)+_.charCodeAt(U+8),height:S,numcomponents:_.charCodeAt(U+9)};break}w=256*_.charCodeAt(U+2)+_.charCodeAt(U+3)}return O}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:s}}return y}}(Vt.API);var Dc,pf,W2,G2,K2,oS=function(){var n,e,t;function r(o){var l,u,h,p,y,_,S,w,R,O,U,j,H,X;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(l=this.readUInt32(),R=(function(){var he,be;for(be=[],he=0;he<4;++he)be.push(String.fromCharCode(this.data[this.pos++]));return be}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),p=this.readUInt16()||100,_.delay=1e3*y/p,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,l-=4),o=_?.data||this.imgData,j=0;0<=l?j<l:j>l;0<=l?++j:--j)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((O=h-this.transparency.indexed.length)>0)for(H=0;0<=O?H<O:H>O;0<=O?++H:--H)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":S=(U=this.read(l)).indexOf(0),w=String.fromCharCode.apply(String,U.slice(0,S)),this.text[w]=String.fromCharCode.apply(String,U.slice(S+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(X=this.colorType)===4||X===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var l,u;for(u=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,p=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function y(_,S,w,R){var O,U,j,H,X,he,be,Ne,B,C,F,G,L,D,T,se,Pe,Ie,we,ie,_e,fe=Math.ceil((p.width-_)/w),Z=Math.ceil((p.height-S)/R),A=p.width==fe&&p.height==Z;for(D=l*fe,G=A?u:new Uint8Array(D*Z),he=o.length,L=0,U=0;L<Z&&h<he;){switch(o[h++]){case 0:for(H=Pe=0;Pe<D;H=Pe+=1)G[U++]=o[h++];break;case 1:for(H=Ie=0;Ie<D;H=Ie+=1)O=o[h++],X=H<l?0:G[U-l],G[U++]=(O+X)%256;break;case 2:for(H=we=0;we<D;H=we+=1)O=o[h++],j=(H-H%l)/l,T=L&&G[(L-1)*D+j*l+H%l],G[U++]=(T+O)%256;break;case 3:for(H=ie=0;ie<D;H=ie+=1)O=o[h++],j=(H-H%l)/l,X=H<l?0:G[U-l],T=L&&G[(L-1)*D+j*l+H%l],G[U++]=(O+Math.floor((X+T)/2))%256;break;case 4:for(H=_e=0;_e<D;H=_e+=1)O=o[h++],j=(H-H%l)/l,X=H<l?0:G[U-l],L===0?T=se=0:(T=G[(L-1)*D+j*l+H%l],se=j&&G[(L-1)*D+(j-1)*l+H%l]),be=X+T-se,Ne=Math.abs(be-X),C=Math.abs(be-T),F=Math.abs(be-se),B=Ne<=C&&Ne<=F?X:C<=F?T:se,G[U++]=(O+B)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!A){var z=((S+L*R)*p.width+_)*l,J=L*D;for(H=0;H<fe;H+=1){for(var te=0;te<l;te+=1)u[z++]=G[J++];z+=(w-1)*l}}L++}}return o=M3(o),p.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),u},r.prototype.decodePalette=function(){var o,l,u,h,p,y,_,S,w;for(u=this.palette,y=this.transparency.indexed||[],p=new Uint8Array((y.length||0)+u.length),h=0,o=0,l=_=0,S=u.length;_<S;l=_+=3)p[h++]=u[l],p[h++]=u[l+1],p[h++]=u[l+2],p[h++]=(w=y[o++])!=null?w:255;return p},r.prototype.copyToImageData=function(o,l){var u,h,p,y,_,S,w,R,O,U,j;if(h=this.colors,O=null,u=this.hasAlphaChannel,this.palette.length&&(O=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),h=4,u=!0),R=(p=o.data||o).length,_=O||l,y=S=0,h===1)for(;y<R;)w=O?4*l[y/4]:S,U=_[w++],p[y++]=U,p[y++]=U,p[y++]=U,p[y++]=u?_[w++]:255,S=w;else for(;y<R;)w=O?4*l[y/4]:S,p[y++]=_[w++],p[y++]=_[w++],p[y++]=_[w++],p[y++]=u?_[w++]:255,S=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(Bt)==="[object Window]"){try{e=Bt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(o){var l;if(s()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var l,u,h,p,y,_,S,w;if(this.animation){for(w=[],u=y=0,_=(S=this.animation.frames).length;y<_;u=++y)l=S[u],h=o.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,w.push(l.image=n(h));return w}},r.prototype.renderFrame=function(o,l){var u,h,p;return u=(h=this.animation.frames)[l],p=h[l-1],l===0&&o.clearRect(0,0,this.width,this.height),p?.disposeOp===1?o.clearRect(p.xOffset,p.yOffset,p.width,p.height):p?.disposeOp===2&&o.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(o){var l,u,h,p,y,_,S=this;return u=0,_=this.animation,p=_.numFrames,h=_.frames,y=_.numPlays,(l=function(){var w,R;if(w=u++%p,R=h[w],S.renderFrame(o,w),p>1&&u/p<y)return S.animation._timeout=setTimeout(l,R.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var l,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function aS(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,l=1<<(7&s)+1;n[e++],n[e++];var u=null,h=null;o&&(u=e,h=l,e+=3*l);var p=!0,y=[],_=0,S=null,w=0,R=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,R=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var O=n[e++];_=n[e++]|n[e++]<<8,S=n[e++],(1&O)==0&&(S=null),w=O>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,H=n[e++]|n[e++]<<8,X=n[e++]|n[e++]<<8,he=n[e++],be=he>>6&1,Ne=1<<(7&he)+1,B=u,C=h,F=!1;he>>7&&(F=!0,B=e,C=Ne,e+=3*Ne);var G=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}y.push({x:U,y:j,width:H,height:X,has_local_palette:F,palette_offset:B,palette_size:C,data_offset:G,data_length:e-G,transparent_index:S,interlaced:!!be,delay:_,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return R},this.frameInfo=function(D){if(D<0||D>=y.length)throw new Error("Frame index out of range.");return y[D]},this.decodeAndBlitFrameBGRA=function(D,T){var se=this.frameInfo(D),Pe=se.width*se.height,Ie=new Uint8Array(Pe);Q2(n,se.data_offset,Ie,Pe);var we=se.palette_offset,ie=se.transparent_index;ie===null&&(ie=256);var _e=se.width,fe=t-_e,Z=_e,A=4*(se.y*t+se.x),z=4*((se.y+se.height)*t+se.x),J=A,te=4*fe;se.interlaced===!0&&(te+=4*t*7);for(var ae=8,oe=0,ue=Ie.length;oe<ue;++oe){var Ae=Ie[oe];if(Z===0&&(Z=_e,(J+=te)>=z&&(te=4*fe+4*t*(ae-1),J=A+(_e+fe)*(ae<<1),ae>>=1)),Ae===ie)J+=4;else{var We=n[we+3*Ae],$e=n[we+3*Ae+1],Ye=n[we+3*Ae+2];T[J++]=Ye,T[J++]=$e,T[J++]=We,T[J++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(D,T){var se=this.frameInfo(D),Pe=se.width*se.height,Ie=new Uint8Array(Pe);Q2(n,se.data_offset,Ie,Pe);var we=se.palette_offset,ie=se.transparent_index;ie===null&&(ie=256);var _e=se.width,fe=t-_e,Z=_e,A=4*(se.y*t+se.x),z=4*((se.y+se.height)*t+se.x),J=A,te=4*fe;se.interlaced===!0&&(te+=4*t*7);for(var ae=8,oe=0,ue=Ie.length;oe<ue;++oe){var Ae=Ie[oe];if(Z===0&&(Z=_e,(J+=te)>=z&&(te=4*fe+4*t*(ae-1),J=A+(_e+fe)*(ae<<1),ae>>=1)),Ae===ie)J+=4;else{var We=n[we+3*Ae],$e=n[we+3*Ae+1],Ye=n[we+3*Ae+2];T[J++]=We,T[J++]=$e,T[J++]=Ye,T[J++]=255}--Z}}}function Q2(n,e,t,r){for(var s=n[e++],o=1<<s,l=o+1,u=l+1,h=s+1,p=(1<<h)-1,y=0,_=0,S=0,w=n[e++],R=new Int32Array(4096),O=null;;){for(;y<16&&w!==0;)_|=n[e++]<<y,y+=8,w===1?w=n[e++]:--w;if(y<h)break;var U=_&p;if(_>>=h,y-=h,U!==o){if(U===l)break;for(var j=U<u?U:O,H=0,X=j;X>o;)X=R[X]>>8,++H;var he=X;if(S+H+(j!==U?1:0)>r)return void zn.log("Warning, gif stream longer than expected.");t[S++]=he;var be=S+=H;for(j!==U&&(t[S++]=he),X=j;H--;)X=R[X],t[--be]=255&X,X>>=8;O!==null&&u<4096&&(R[u++]=O<<8|he,u>=p+1&&h<12&&(++h,p=p<<1|1)),O=U}else u=l+1,p=(1<<(h=s+1))-1,O=null}return S!==r&&zn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bm(n){var e,t,r,s,o,l=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),y=new Array(64),_=new Array(65535),S=new Array(65535),w=new Array(64),R=new Array(64),O=[],U=0,j=7,H=new Array(64),X=new Array(64),he=new Array(64),be=new Array(256),Ne=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ie(A,z){for(var J=0,te=0,ae=new Array,oe=1;oe<=16;oe++){for(var ue=1;ue<=A[oe];ue++)ae[z[te]]=[],ae[z[te]][0]=J,ae[z[te]][1]=oe,te++,J++;J*=2}return ae}function we(A){for(var z=A[0],J=A[1]-1;J>=0;)z&1<<J&&(U|=1<<j),J--,--j<0&&(U==255?(ie(255),ie(0)):ie(U),j=7,U=0)}function ie(A){O.push(A)}function _e(A){ie(A>>8&255),ie(255&A)}function fe(A,z,J,te,ae){for(var oe,ue=ae[0],Ae=ae[240],We=function(Ze,nt){var st,lt,xt,Rt,Ut,pt,Tt,Zt,Ct,$t,ut=0;for(Ct=0;Ct<8;++Ct){st=Ze[ut],lt=Ze[ut+1],xt=Ze[ut+2],Rt=Ze[ut+3],Ut=Ze[ut+4],pt=Ze[ut+5],Tt=Ze[ut+6];var qn=st+(Zt=Ze[ut+7]),tn=st-Zt,Pr=lt+Tt,hn=lt-Tt,yn=xt+pt,or=xt-pt,en=Rt+Ut,$r=Rt-Ut,dn=qn+en,Dn=qn-en,ve=Pr+yn,Oe=Pr-yn;Ze[ut]=dn+ve,Ze[ut+4]=dn-ve;var ze=.707106781*(Oe+Dn);Ze[ut+2]=Dn+ze,Ze[ut+6]=Dn-ze;var tt=.382683433*((dn=$r+or)-(Oe=hn+tn)),mt=.5411961*dn+tt,Nt=1.306562965*Oe+tt,Ft=.707106781*(ve=or+hn),an=tn+Ft,at=tn-Ft;Ze[ut+5]=at+mt,Ze[ut+3]=at-mt,Ze[ut+1]=an+Nt,Ze[ut+7]=an-Nt,ut+=8}for(ut=0,Ct=0;Ct<8;++Ct){st=Ze[ut],lt=Ze[ut+8],xt=Ze[ut+16],Rt=Ze[ut+24],Ut=Ze[ut+32],pt=Ze[ut+40],Tt=Ze[ut+48];var Zn=st+(Zt=Ze[ut+56]),hr=st-Zt,dr=lt+Tt,Mn=lt-Tt,Vn=xt+pt,Wn=xt-pt,qs=Rt+Ut,Ss=Rt-Ut,Hr=Zn+qs,bi=Zn-qs,ar=dr+Vn,Wr=dr-Vn;Ze[ut]=Hr+ar,Ze[ut+32]=Hr-ar;var er=.707106781*(Wr+bi);Ze[ut+16]=bi+er,Ze[ut+48]=bi-er;var zi=.382683433*((Hr=Ss+Wn)-(Wr=Mn+hr)),Es=.5411961*Hr+zi,As=1.306562965*Wr+zi,ks=.707106781*(ar=Wn+Mn),$s=hr+ks,vo=hr-ks;Ze[ut+40]=vo+Es,Ze[ut+24]=vo-Es,Ze[ut+8]=$s+As,Ze[ut+56]=$s-As,ut++}for(Ct=0;Ct<64;++Ct)$t=Ze[Ct]*nt[Ct],w[Ct]=$t>0?$t+.5|0:$t-.5|0;return w}(A,z),$e=0;$e<64;++$e)R[B[$e]]=We[$e];var Ye=R[0]-J;J=R[0],Ye==0?we(te[0]):(we(te[S[oe=32767+Ye]]),we(_[oe]));for(var it=63;it>0&&R[it]==0;)it--;if(it==0)return we(ue),J;for(var kt,Me=1;Me<=it;){for(var ne=Me;R[Me]==0&&Me<=it;)++Me;var _t=Me-ne;if(_t>=16){kt=_t>>4;for(var ft=1;ft<=kt;++ft)we(Ae);_t&=15}oe=32767+R[Me],we(ae[(_t<<4)+S[oe]]),we(_[oe]),Me++}return it!=63&&we(ue),J}function Z(A){A=Math.min(Math.max(A,1),100),o!=A&&(function(z){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ae=l((J[te]*z+50)/100);ae=Math.min(Math.max(ae,1),255),u[B[te]]=ae}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var Ae=l((oe[ue]*z+50)/100);Ae=Math.min(Math.max(Ae,1),255),h[B[ue]]=Ae}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,Ye=0;Ye<8;Ye++)for(var it=0;it<8;it++)p[$e]=1/(u[B[$e]]*We[Ye]*We[it]*8),y[$e]=1/(h[B[$e]]*We[Ye]*We[it]*8),$e++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),o=A)}this.encode=function(A,z){z&&Z(z),O=new Array,U=0,j=7,_e(65496),_e(65504),_e(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),_e(1),_e(1),ie(0),ie(0),function(){_e(65499),_e(132),ie(0);for(var lt=0;lt<64;lt++)ie(u[lt]);ie(1);for(var xt=0;xt<64;xt++)ie(h[xt])}(),function(lt,xt){_e(65472),_e(17),ie(8),_e(xt),_e(lt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(A.width,A.height),function(){_e(65476),_e(418),ie(0);for(var lt=0;lt<16;lt++)ie(C[lt+1]);for(var xt=0;xt<=11;xt++)ie(F[xt]);ie(16);for(var Rt=0;Rt<16;Rt++)ie(G[Rt+1]);for(var Ut=0;Ut<=161;Ut++)ie(L[Ut]);ie(1);for(var pt=0;pt<16;pt++)ie(D[pt+1]);for(var Tt=0;Tt<=11;Tt++)ie(T[Tt]);ie(17);for(var Zt=0;Zt<16;Zt++)ie(se[Zt+1]);for(var Ct=0;Ct<=161;Ct++)ie(Pe[Ct])}(),_e(65498),_e(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var J=0,te=0,ae=0;U=0,j=7,this.encode.displayName="_encode_";for(var oe,ue,Ae,We,$e,Ye,it,kt,Me,ne=A.data,_t=A.width,ft=A.height,Ze=4*_t,nt=0;nt<ft;){for(oe=0;oe<Ze;){for($e=Ze*nt+oe,it=-1,kt=0,Me=0;Me<64;Me++)Ye=$e+(kt=Me>>3)*Ze+(it=4*(7&Me)),nt+kt>=ft&&(Ye-=Ze*(nt+1+kt-ft)),oe+it>=Ze&&(Ye-=oe+it-Ze+4),ue=ne[Ye++],Ae=ne[Ye++],We=ne[Ye++],H[Me]=(Ne[ue]+Ne[Ae+256>>0]+Ne[We+512>>0]>>16)-128,X[Me]=(Ne[ue+768>>0]+Ne[Ae+1024>>0]+Ne[We+1280>>0]>>16)-128,he[Me]=(Ne[ue+1280>>0]+Ne[Ae+1536>>0]+Ne[We+1792>>0]>>16)-128;J=fe(H,p,J,e,r),te=fe(X,y,te,t,s),ae=fe(he,y,ae,t,s),oe+=32}nt+=8}if(j>=0){var st=[];st[1]=j+1,st[0]=(1<<j+1)-1,we(st)}return _e(65497),new Uint8Array(O)},n=n||50,function(){for(var A=String.fromCharCode,z=0;z<256;z++)be[z]=A(z)}(),e=Ie(C,F),t=Ie(D,T),r=Ie(G,L),s=Ie(se,Pe),function(){for(var A=1,z=2,J=1;J<=15;J++){for(var te=A;te<z;te++)S[32767+te]=J,_[32767+te]=[],_[32767+te][1]=J,_[32767+te][0]=te;for(var ae=-(z-1);ae<=-A;ae++)S[32767+ae]=J,_[32767+ae]=[],_[32767+ae][1]=J,_[32767+ae][0]=z-1+ae;A<<=1,z<<=1}}(),function(){for(var A=0;A<256;A++)Ne[A]=19595*A,Ne[A+256>>0]=38470*A,Ne[A+512>>0]=7471*A+32768,Ne[A+768>>0]=-11059*A,Ne[A+1024>>0]=-21709*A,Ne[A+1280>>0]=32768*A+8421375,Ne[A+1536>>0]=-27439*A,Ne[A+1792>>0]=-5329*A}(),Z(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Y2(n){function e(C){if(!C)throw Error("assert :P")}function t(C,F,G){for(var L=0;4>L;L++)if(C[F+L]!=G.charCodeAt(L))return!0;return!1}function r(C,F,G,L,D){for(var T=0;T<D;T++)C[F+T]=G[L+T]}function s(C,F,G,L){for(var D=0;D<L;D++)C[F+D]=G}function o(C){return new Int32Array(C)}function l(C,F){for(var G=[],L=0;L<C;L++)G.push(new F);return G}function u(C,F){var G=[];return function L(D,T,se){for(var Pe=se[T],Ie=0;Ie<Pe&&(D.push(se.length>T+1?[]:new F),!(se.length<T+1));Ie++)L(D[Ie],T+1,se)}(G,0,C),G}var h=function(){var C=this;function F(d,g){for(var x=1<<g-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function G(d,g,x,I,M){e(!(I%x));do d[g+(I-=x)]=M;while(0<I)}function L(d,g,x,I,M){if(e(2328>=M),512>=M)var q=o(512);else if((q=o(M))==null)return 0;return function(W,K,Y,ee,pe,Te){var Ce,Ee,He=K,Fe=1<<Y,ge=o(16),ye=o(16);for(e(pe!=0),e(ee!=null),e(W!=null),e(0<Y),Ee=0;Ee<pe;++Ee){if(15<ee[Ee])return 0;++ge[ee[Ee]]}if(ge[0]==pe)return 0;for(ye[1]=0,Ce=1;15>Ce;++Ce){if(ge[Ce]>1<<Ce)return 0;ye[Ce+1]=ye[Ce]+ge[Ce]}for(Ee=0;Ee<pe;++Ee)Ce=ee[Ee],0<ee[Ee]&&(Te[ye[Ce]++]=Ee);if(ye[15]==1)return(ee=new D).g=0,ee.value=Te[0],G(W,He,1,Fe,ee),Fe;var Be,Ue=-1,qe=Fe-1,gt=0,ht=1,Pt=1,dt=1<<Y;for(Ee=0,Ce=1,pe=2;Ce<=Y;++Ce,pe<<=1){if(ht+=Pt<<=1,0>(Pt-=ge[Ce]))return 0;for(;0<ge[Ce];--ge[Ce])(ee=new D).g=Ce,ee.value=Te[Ee++],G(W,He+gt,pe,dt,ee),gt=F(gt,Ce)}for(Ce=Y+1,pe=2;15>=Ce;++Ce,pe<<=1){if(ht+=Pt<<=1,0>(Pt-=ge[Ce]))return 0;for(;0<ge[Ce];--ge[Ce]){if(ee=new D,(gt&qe)!=Ue){for(He+=dt,Be=1<<(Ue=Ce)-Y;15>Ue&&!(0>=(Be-=ge[Ue]));)++Ue,Be<<=1;Fe+=dt=1<<(Be=Ue-Y),W[K+(Ue=gt&qe)].g=Be+Y,W[K+Ue].value=He-K-Ue}ee.g=Ce-Y,ee.value=Te[Ee++],G(W,He+(gt>>Y),pe,dt,ee),gt=F(gt,Ce)}}return ht!=2*ye[15]-1?0:Fe}(d,g,x,I,M,q)}function D(){this.value=this.g=0}function T(){this.value=this.g=0}function se(){this.G=l(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(rr,T)}function Pe(d,g,x,I){e(d!=null),e(g!=null),e(2147483648>I),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=x,d.Jd=g,d.Yc=x+I,d.Zc=4<=I?x+I-4+1:x,oe(d)}function Ie(d,g){for(var x=0;0<g--;)x|=Ae(d,128)<<g;return x}function we(d,g){var x=Ie(d,g);return ue(d)?-x:x}function ie(d,g,x,I){var M,q=0;for(e(d!=null),e(g!=null),e(4294967288>I),d.Sb=I,d.Ra=0,d.u=0,d.h=0,4<I&&(I=4),M=0;M<I;++M)q+=g[x+M]<<8*M;d.Ra=q,d.bb=I,d.oa=g,d.pa=x}function _e(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ll-8>>>0,++d.bb,d.u-=8;J(d)&&(d.h=1,d.u=0)}function fe(d,g){if(e(0<=g),!d.h&&g<=Pl){var x=z(d)&Cl[g];return d.u+=g,_e(d),x}return d.h=1,d.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(d){return d.Ra>>>(d.u&Ll-1)>>>0}function J(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ll}function te(d,g){d.u=g,d.h=J(d)}function ae(d){d.u>=Rl&&(e(d.u>=Rl),_e(d))}function oe(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ue(d){return Ie(d,1)}function Ae(d,g){var x=d.Ca;0>d.b&&oe(d);var I=d.b,M=x*g>>>8,q=(d.I>>>I>M)+0;for(q?(x-=M,d.I-=M+1<<I>>>0):x=M+1,I=x,M=0;256<=I;)M+=8,I>>=8;return I=7^M+ci[I],d.b-=I,d.Ca=(x<<I)-1,q}function We(d,g,x){d[g+0]=x>>24&255,d[g+1]=x>>16&255,d[g+2]=x>>8&255,d[g+3]=x>>0&255}function $e(d,g){return d[g+0]<<0|d[g+1]<<8}function Ye(d,g){return $e(d,g)|d[g+2]<<16}function it(d,g){return $e(d,g)|$e(d,g+2)<<16}function kt(d,g){var x=1<<g;return e(d!=null),e(0<g),d.X=o(x),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function Me(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function _t(d,g,x,I){e(x!=null),e(I!=null);var M=x[0],q=I[0];return M==0&&(M=(d*q+g/2)/g),q==0&&(q=(g*M+d/2)/d),0>=M||0>=q?0:(x[0]=M,I[0]=q,1)}function ft(d,g){return d+(1<<g)-1>>>g}function Ze(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function nt(d,g){C[g]=function(x,I,M,q,W,K,Y){var ee;for(ee=0;ee<W;++ee){var pe=C[d](K[Y+ee-1],M,q+ee);K[Y+ee]=Ze(x[I+ee],pe)}}}function st(){this.ud=this.hd=this.jd=0}function lt(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function xt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Rt(d,g){return xt(d+(d-g+.5>>1))}function Ut(d,g,x){return Math.abs(g-x)-Math.abs(d-x)}function pt(d,g,x,I,M,q,W){for(I=q[W-1],x=0;x<M;++x)q[W+x]=I=Ze(d[g+x],I)}function Tt(d,g,x,I,M){var q;for(q=0;q<x;++q){var W=d[g+q],K=W>>8&255,Y=16711935&(Y=(Y=16711935&W)+((K<<16)+K));I[M+q]=(4278255360&W)+Y>>>0}}function Zt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function Ct(d,g,x,I,M,q){var W;for(W=0;W<I;++W){var K=g[x+W],Y=K>>>8,ee=K,pe=255&(pe=(pe=K>>>16)+((d.jd<<24>>24)*(Y<<24>>24)>>>5));ee=255&(ee=(ee=ee+((d.hd<<24>>24)*(Y<<24>>24)>>>5))+((d.ud<<24>>24)*(pe<<24>>24)>>>5)),M[q+W]=(4278255360&K)+(pe<<16)+ee}}function $t(d,g,x,I,M){C[g]=function(q,W,K,Y,ee,pe,Te,Ce,Ee){for(Y=Te;Y<Ce;++Y)for(Te=0;Te<Ee;++Te)ee[pe++]=M(K[I(q[W++])])},C[d]=function(q,W,K,Y,ee,pe,Te){var Ce=8>>q.b,Ee=q.Ea,He=q.K[0],Fe=q.w;if(8>Ce)for(q=(1<<q.b)-1,Fe=(1<<Ce)-1;W<K;++W){var ge,ye=0;for(ge=0;ge<Ee;++ge)ge&q||(ye=I(Y[ee++])),pe[Te++]=M(He[ye&Fe]),ye>>=Ce}else C["VP8LMapColor"+x](Y,ee,He,Fe,pe,Te,W,K,Ee)}}function ut(d,g,x,I,M){for(x=g+x;g<x;){var q=d[g++];I[M++]=q>>16&255,I[M++]=q>>8&255,I[M++]=q>>0&255}}function qn(d,g,x,I,M){for(x=g+x;g<x;){var q=d[g++];I[M++]=q>>16&255,I[M++]=q>>8&255,I[M++]=q>>0&255,I[M++]=q>>24&255}}function tn(d,g,x,I,M){for(x=g+x;g<x;){var q=(W=d[g++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;I[M++]=q,I[M++]=W}}function Pr(d,g,x,I,M){for(x=g+x;g<x;){var q=(W=d[g++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;I[M++]=q,I[M++]=W}}function hn(d,g,x,I,M){for(x=g+x;g<x;){var q=d[g++];I[M++]=q>>0&255,I[M++]=q>>8&255,I[M++]=q>>16&255}}function yn(d,g,x,I,M,q){if(q==0)for(x=g+x;g<x;)We(I,((q=d[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),M+=32;else r(I,M,d,g,x)}function or(d,g){C[g][0]=C[d+"0"],C[g][1]=C[d+"1"],C[g][2]=C[d+"2"],C[g][3]=C[d+"3"],C[g][4]=C[d+"4"],C[g][5]=C[d+"5"],C[g][6]=C[d+"6"],C[g][7]=C[d+"7"],C[g][8]=C[d+"8"],C[g][9]=C[d+"9"],C[g][10]=C[d+"10"],C[g][11]=C[d+"11"],C[g][12]=C[d+"12"],C[g][13]=C[d+"13"],C[g][14]=C[d+"0"],C[g][15]=C[d+"0"]}function en(d){return d==Vl||d==Ya||d==Lu||d==Ru}function $r(){this.eb=[],this.size=this.A=this.fb=0}function dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $r,this.f.kb=new dn,this.sd=null}function ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Oe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ze(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function tt(d,g){var x=d.T,I=g.ba.f.RGBA,M=I.eb,q=I.fb+d.ka*I.A,W=Ni[g.ba.S],K=d.y,Y=d.O,ee=d.f,pe=d.N,Te=d.ea,Ce=d.W,Ee=g.cc,He=g.dc,Fe=g.Mc,ge=g.Nc,ye=d.ka,Be=d.ka+d.T,Ue=d.U,qe=Ue+1>>1;for(ye==0?W(K,Y,null,null,ee,pe,Te,Ce,ee,pe,Te,Ce,M,q,null,null,Ue):(W(g.ec,g.fc,K,Y,Ee,He,Fe,ge,ee,pe,Te,Ce,M,q-I.A,M,q,Ue),++x);ye+2<Be;ye+=2)Ee=ee,He=pe,Fe=Te,ge=Ce,pe+=d.Rc,Ce+=d.Rc,q+=2*I.A,W(K,(Y+=2*d.fa)-d.fa,K,Y,Ee,He,Fe,ge,ee,pe,Te,Ce,M,q-I.A,M,q,Ue);return Y+=d.fa,d.j+Be<d.o?(r(g.ec,g.fc,K,Y,Ue),r(g.cc,g.dc,ee,pe,qe),r(g.Mc,g.Nc,Te,Ce,qe),x--):1&Be||W(K,Y,null,null,ee,pe,Te,Ce,ee,pe,Te,Ce,M,q+I.A,null,null,Ue),x}function mt(d,g,x){var I=d.F,M=[d.J];if(I!=null){var q=d.U,W=g.ba.S,K=W==Pu||W==Lu;g=g.ba.f.RGBA;var Y=[0],ee=d.ka;Y[0]=d.T,d.Kb&&(ee==0?--Y[0]:(--ee,M[0]-=d.width),d.j+d.ka+d.T==d.o&&(Y[0]=d.o-d.j-ee));var pe=g.eb;ee=g.fb+ee*g.A,d=Nn(I,M[0],d.width,q,Y,pe,ee+(K?0:3),g.A),e(x==Y),d&&en(W)&&Ai(pe,ee,K,q,Y,g.A)}return 0}function Nt(d){var g=d.ma,x=g.ba.S,I=11>x,M=x==ma||x==Cu||x==Pu||x==jn||x==12||en(x);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Il(g.Oa,d,M?11:12))return 0;if(M&&en(x)&&Qe(),d.da)alert("todo:use_scaling");else{if(I){if(g.Ib=ze,d.Kb){if(x=d.U+1>>1,g.memory=o(d.U+2*x),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+x,g.Ib=tt,Qe()}}else alert("todo:EmitYUV");M&&(g.Jb=mt,I&&ke())}if(I&&!Vr){for(d=0;256>d;++d)Ii[d]=89858*(d-128)+js>>Do,Ti[d]=-22014*(d-128)+js,ql[d]=-45773*(d-128),el[d]=113618*(d-128)+js>>Do;for(d=In;d<Pn;++d)g=76283*(d-16)+js>>Do,yc[d-In]=bn(g,255),Rd[d-In]=bn(g+8>>4,15);Vr=1}return 1}function Ft(d){var g=d.ma,x=d.U,I=d.T;return e(!(1&d.ka)),0>=x||0>=I?0:(x=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,x),g.Dc+=x,1)}function an(d){d.ma.memory=null}function at(d,g,x,I){return fe(d,8)!=47?0:(g[0]=fe(d,14)+1,x[0]=fe(d,14)+1,I[0]=fe(d,1),fe(d,3)!=0?0:!d.h)}function Zn(d,g){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+fe(g,x)+1}function hr(d,g){return 120<g?g-120:1<=(x=((x=Up[g-1])>>4)*d+(8-(15&x)))?x:1;var x}function dr(d,g,x){var I=z(x),M=d[g+=255&I].g-8;return 0<M&&(te(x,x.u+8),I=z(x),g+=d[g].value,g+=I&(1<<M)-1),te(x,x.u+d[g].g),d[g].value}function Mn(d,g,x){return x.g+=d.g,x.value+=d.value<<g>>>0,e(8>=x.g),d.g}function Vn(d,g,x){var I=d.xc;return e((g=I==0?0:d.vc[d.md*(x>>I)+(g>>I)])<d.Wb),d.Ya[g]}function Wn(d,g,x,I){var M=d.ab,q=d.c*g,W=d.C;g=W+g;var K=x,Y=I;for(I=d.Ta,x=d.Ua;0<M--;){var ee=d.gc[M],pe=W,Te=g,Ce=K,Ee=Y,He=(Y=I,K=x,ee.Ea);switch(e(pe<Te),e(Te<=ee.nc),ee.hc){case 2:dc(Ce,Ee,(Te-pe)*He,Y,K);break;case 0:var Fe=pe,ge=Te,ye=Y,Be=K,Ue=(dt=ee).Ea;Fe==0&&($a(Ce,Ee,null,null,1,ye,Be),pt(Ce,Ee+1,0,0,Ue-1,ye,Be+1),Ee+=Ue,Be+=Ue,++Fe);for(var qe=1<<dt.b,gt=qe-1,ht=ft(Ue,dt.b),Pt=dt.K,dt=dt.w+(Fe>>dt.b)*ht;Fe<ge;){var pn=Pt,mn=dt,ln=1;for(ko(Ce,Ee,ye,Be-Ue,1,ye,Be);ln<Ue;){var Xt=(ln&~gt)+qe;Xt>Ue&&(Xt=Ue),(0,no[pn[mn++]>>8&15])(Ce,Ee+ +ln,ye,Be+ln-Ue,Xt-ln,ye,Be+ln),ln=Xt}Ee+=Ue,Be+=Ue,++Fe&gt||(dt+=ht)}Te!=ee.nc&&r(Y,K-He,Y,K+(Te-pe-1)*He,He);break;case 1:for(He=Ce,ge=Ee,Ue=(Ce=ee.Ea)-(Be=Ce&~(ye=(Ee=1<<ee.b)-1)),Fe=ft(Ce,ee.b),qe=ee.K,ee=ee.w+(pe>>ee.b)*Fe;pe<Te;){for(gt=qe,ht=ee,Pt=new st,dt=ge+Be,pn=ge+Ce;ge<dt;)Zt(gt[ht++],Pt),da(Pt,He,ge,Ee,Y,K),ge+=Ee,K+=Ee;ge<pn&&(Zt(gt[ht++],Pt),da(Pt,He,ge,Ue,Y,K),ge+=Ue,K+=Ue),++pe&ye||(ee+=Fe)}break;case 3:if(Ce==Y&&Ee==K&&0<ee.b){for(ge=Y,Ce=He=K+(Te-pe)*He-(Be=(Te-pe)*ft(ee.Ea,ee.b)),Ee=Y,ye=K,Fe=[],Be=(Ue=Be)-1;0<=Be;--Be)Fe[Be]=Ee[ye+Be];for(Be=Ue-1;0<=Be;--Be)ge[Ce+Be]=Fe[Be];hi(ee,pe,Te,Y,He,Y,K)}else hi(ee,pe,Te,Ce,Ee,Y,K)}K=I,Y=x}Y!=x&&r(I,x,K,Y,q)}function qs(d,g){var x=d.V,I=d.Ba+d.c*d.C,M=g-d.C;if(e(g<=d.l.o),e(16>=M),0<M){var q=d.l,W=d.Ta,K=d.Ua,Y=q.width;if(Wn(d,M,x,I),M=K=[K],e((x=d.C)<(I=g)),e(q.v<q.va),I>q.o&&(I=q.o),x<q.j){var ee=q.j-x;x=q.j,M[0]+=ee*Y}if(x>=I?x=0:(M[0]+=4*q.v,q.ka=x-q.j,q.U=q.va-q.v,q.T=I-x,x=1),x){if(K=K[0],11>(x=d.ca).S){var pe=x.f.RGBA,Te=(I=x.S,M=q.U,q=q.T,ee=pe.eb,pe.A),Ce=q;for(pe=pe.fb+d.Ma*pe.A;0<Ce--;){var Ee=W,He=K,Fe=M,ge=ee,ye=pe;switch(I){case fc:di(Ee,He,Fe,ge,ye);break;case ma:Yr(Ee,He,Fe,ge,ye);break;case Vl:Yr(Ee,He,Fe,ge,ye),Ai(ge,ye,0,Fe,1,0);break;case Id:Io(Ee,He,Fe,ge,ye);break;case Cu:yn(Ee,He,Fe,ge,ye,1);break;case Ya:yn(Ee,He,Fe,ge,ye,1),Ai(ge,ye,0,Fe,1,0);break;case Pu:yn(Ee,He,Fe,ge,ye,0);break;case Lu:yn(Ee,He,Fe,ge,ye,0),Ai(ge,ye,1,Fe,1,0);break;case jn:fa(Ee,He,Fe,ge,ye);break;case Ru:fa(Ee,He,Fe,ge,ye),On(ge,ye,Fe,1,0);break;case pc:No(Ee,He,Fe,ge,ye);break;default:e(0)}K+=Y,pe+=Te}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=x.height)}}d.C=g,e(d.C<=d.i)}function Ss(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var x=d.Ya[g].G,I=d.Ya[g].H;if(0<x[1][I[1]+0].g||0<x[2][I[2]+0].g||0<x[3][I[3]+0].g)return 0}return 1}function Hr(d,g,x,I,M,q){if(d.Z!=0){var W=d.qd,K=d.rd;for(e(Xr[d.Z]!=null);g<x;++g)Xr[d.Z](W,K,I,M,I,M,q),W=I,K=M,M+=q;d.qd=W,d.rd=K}}function bi(d,g){var x=d.l.ma,I=x.Z==0||x.Z==1?d.l.j:d.C;if(I=d.C<I?I:d.C,e(g<=d.l.o),g>I){var M=d.l.width,q=x.ca,W=x.tb+M*I,K=d.V,Y=d.Ba+d.c*I,ee=d.gc;e(d.ab==1),e(ee[0].hc==3),Nu(ee[0],I,g,K,Y,q,W),Hr(x,I,g,q,W,M)}d.C=d.Ma=g}function ar(d,g,x,I,M,q,W){var K=d.$/I,Y=d.$%I,ee=d.m,pe=d.s,Te=x+d.$,Ce=Te;M=x+I*M;var Ee=x+I*q,He=280+pe.ua,Fe=d.Pb?K:16777216,ge=0<pe.ua?pe.Wa:null,ye=pe.wc,Be=Te<Ee?Vn(pe,Y,K):null;e(d.C<q),e(Ee<=M);var Ue=!1;e:for(;;){for(;Ue||Te<Ee;){var qe=0;if(K>=Fe){var gt=Te-x;e((Fe=d).Pb),Fe.wd=Fe.m,Fe.xd=gt,0<Fe.s.ua&&Me(Fe.s.Wa,Fe.s.vb),Fe=K+gc}if(Y&ye||(Be=Vn(pe,Y,K)),e(Be!=null),Be.Qb&&(g[Te]=Be.qb,Ue=!0),!Ue)if(ae(ee),Be.jc){qe=ee,gt=g;var ht=Te,Pt=Be.pd[z(qe)&rr-1];e(Be.jc),256>Pt.g?(te(qe,qe.u+Pt.g),gt[ht]=Pt.value,qe=0):(te(qe,qe.u+Pt.g-256),e(256<=Pt.value),qe=Pt.value),qe==0&&(Ue=!0)}else qe=dr(Be.G[0],Be.H[0],ee);if(ee.h)break;if(Ue||256>qe){if(!Ue)if(Be.nd)g[Te]=(Be.qb|qe<<8)>>>0;else{if(ae(ee),Ue=dr(Be.G[1],Be.H[1],ee),ae(ee),gt=dr(Be.G[2],Be.H[2],ee),ht=dr(Be.G[3],Be.H[3],ee),ee.h)break;g[Te]=(ht<<24|Ue<<16|qe<<8|gt)>>>0}if(Ue=!1,++Te,++Y>=I&&(Y=0,++K,W!=null&&K<=q&&!(K%16)&&W(d,K),ge!=null))for(;Ce<Te;)qe=g[Ce++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe}else if(280>qe){if(qe=Zn(qe-256,ee),gt=dr(Be.G[4],Be.H[4],ee),ae(ee),gt=hr(I,gt=Zn(gt,ee)),ee.h)break;if(Te-x<gt||M-Te<qe)break e;for(ht=0;ht<qe;++ht)g[Te+ht]=g[Te+ht-gt];for(Te+=qe,Y+=qe;Y>=I;)Y-=I,++K,W!=null&&K<=q&&!(K%16)&&W(d,K);if(e(Te<=M),Y&ye&&(Be=Vn(pe,Y,K)),ge!=null)for(;Ce<Te;)qe=g[Ce++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe}else{if(!(qe<He))break e;for(Ue=qe-280,e(ge!=null);Ce<Te;)qe=g[Ce++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe;qe=Te,e(!(Ue>>>(gt=ge).Xa)),g[qe]=gt.X[Ue],Ue=!0}Ue||e(ee.h==J(ee))}if(d.Pb&&ee.h&&Te<M)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Me(d.s.vb,d.s.Wa);else{if(ee.h)break e;W?.(d,K>q?q:K),d.a=0,d.$=Te-x}return 1}return d.a=3,0}function Wr(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function er(){var d=new Nl;return d==null?null:(d.a=0,d.xb=Bl,or("Predictor","VP8LPredictors"),or("Predictor","VP8LPredictors_C"),or("PredictorAdd","VP8LPredictorsAdd"),or("PredictorAdd","VP8LPredictorsAdd_C"),dc=Tt,da=Ct,di=ut,Yr=qn,fa=tn,No=Pr,Io=hn,C.VP8LMapColor32b=Dl,C.VP8LMapColor8b=Ol,d)}function zi(d,g,x,I,M){var q=1,W=[d],K=[g],Y=I.m,ee=I.s,pe=null,Te=0;e:for(;;){if(x)for(;q&&fe(Y,1);){var Ce=W,Ee=K,He=I,Fe=1,ge=He.m,ye=He.gc[He.ab],Be=fe(ge,2);if(He.Oc&1<<Be)q=0;else{switch(He.Oc|=1<<Be,ye.hc=Be,ye.Ea=Ce[0],ye.nc=Ee[0],ye.K=[null],++He.ab,e(4>=He.ab),Be){case 0:case 1:ye.b=fe(ge,3)+2,Fe=zi(ft(ye.Ea,ye.b),ft(ye.nc,ye.b),0,He,ye.K),ye.K=ye.K[0];break;case 3:var Ue,qe=fe(ge,8)+1,gt=16<qe?0:4<qe?1:2<qe?2:3;if(Ce[0]=ft(ye.Ea,gt),ye.b=gt,Ue=Fe=zi(qe,1,0,He,ye.K)){var ht,Pt=qe,dt=ye,pn=1<<(8>>dt.b),mn=o(pn);if(mn==null)Ue=0;else{var ln=dt.K[0],Xt=dt.w;for(mn[0]=dt.K[0][0],ht=1;ht<1*Pt;++ht)mn[ht]=Ze(ln[Xt+ht],mn[ht-1]);for(;ht<4*pn;++ht)mn[ht]=0;dt.K[0]=null,dt.K[0]=mn,Ue=1}}Fe=Ue;break;case 2:break;default:e(0)}q=Fe}}if(W=W[0],K=K[0],q&&fe(Y,1)&&!(q=1<=(Te=fe(Y,4))&&11>=Te)){I.a=3;break e}var Tn;if(Tn=q)t:{var Ln,Ht,Kn,mi=I,lr=W,wr=K,xn=Te,Zr=x,ei=mi.m,Qn=mi.s,_r=[null],Ur=1,Ci=0,ds=Cd[xn];n:for(;;){if(Zr&&fe(ei,1)){var Yn=fe(ei,3)+2,mr=ft(lr,Yn),Yi=ft(wr,Yn),va=mr*Yi;if(!zi(mr,Yi,0,mi,_r))break n;for(_r=_r[0],Qn.xc=Yn,Ln=0;Ln<va;++Ln){var jo=_r[Ln]>>8&65535;_r[Ln]=jo,jo>=Ur&&(Ur=jo+1)}}if(ei.h)break n;for(Ht=0;5>Ht;++Ht){var Sn=Ja[Ht];!Ht&&0<xn&&(Sn+=1<<xn),Ci<Sn&&(Ci=Sn)}var ao=l(Ur*ds,D),vc=Ur,Sh=l(vc,se);if(Sh==null)var fs=null;else e(65536>=vc),fs=Sh;var ps=o(Ci);if(fs==null||ps==null||ao==null){mi.a=1;break n}var nl=ao;for(Ln=Kn=0;Ln<Ur;++Ln){var ms=fs[Ln],Fo=ms.G,rl=ms.H,$l=0,Ji=1,Hl=0;for(Ht=0;5>Ht;++Ht){Sn=Ja[Ht],Fo[Ht]=nl,rl[Ht]=Kn,!Ht&&0<xn&&(Sn+=1<<xn);i:{var wa,Mo=Sn,Wl=mi,lo=ps,Od=nl,Eh=Kn,Bn=0,Fs=Wl.m,Ah=fe(Fs,1);if(s(lo,0,0,Mo),Ah){var kh=fe(Fs,1)+1,wc=fe(Fs,1),_c=fe(Fs,wc==0?1:8);lo[_c]=1,kh==2&&(lo[_c=fe(Fs,8)]=1);var uo=1}else{var $n=o(19),gr=fe(Fs,4)+4;if(19<gr){Wl.a=3;var ur=0;break i}for(wa=0;wa<gr;++wa)$n[Vp[wa]]=fe(Fs,3);var Gl=void 0,Vo=void 0,Kl=Wl,Hp=$n,br=Mo,bc=lo,Mu=0,co=Kl.m,Ms=8,Xi=l(128,D);r:for(;L(Xi,0,7,Hp,19);){if(fe(co,1)){var Vu=2+2*fe(co,3);if((Gl=2+fe(co,Vu))>br)break r}else Gl=br;for(Vo=0;Vo<br&&Gl--;){ae(co);var xc=Xi[0+(127&z(co))];te(co,co.u+xc.g);var _a=xc.value;if(16>_a)bc[Vo++]=_a,_a!=0&&(Ms=_a);else{var jd=_a==16,Nh=_a-16,Fd=mc[Nh],Ih=fe(co,Du[Nh])+Fd;if(Vo+Ih>br)break r;for(var Md=jd?Ms:0;0<Ih--;)bc[Vo++]=Md}}Mu=1;break r}Mu||(Kl.a=3),uo=Mu}(uo=uo&&!Fs.h)&&(Bn=L(Od,Eh,8,lo,Mo)),uo&&Bn!=0?ur=Bn:(Wl.a=3,ur=0)}if(ur==0)break n;if(Ji&&Td[Ht]==1&&(Ji=nl[Kn].g==0),$l+=nl[Kn].g,Kn+=ur,3>=Ht){var Ql,Sc=ps[0];for(Ql=1;Ql<Sn;++Ql)ps[Ql]>Sc&&(Sc=ps[Ql]);Hl+=Sc}}if(ms.nd=Ji,ms.Qb=0,Ji&&(ms.qb=(Fo[3][rl[3]+0].value<<24|Fo[1][rl[1]+0].value<<16|Fo[2][rl[2]+0].value)>>>0,$l==0&&256>Fo[0][rl[0]+0].value&&(ms.Qb=1,ms.qb+=Fo[0][rl[0]+0].value<<8)),ms.jc=!ms.Qb&&6>Hl,ms.jc){var Uu,Zi=ms;for(Uu=0;Uu<rr;++Uu){var Uo=Uu,Vs=Zi.pd[Uo],il=Zi.G[0][Zi.H[0]+Uo];256<=il.value?(Vs.g=il.g+256,Vs.value=il.value):(Vs.g=0,Vs.value=0,Uo>>=Mn(il,8,Vs),Uo>>=Mn(Zi.G[1][Zi.H[1]+Uo],16,Vs),Uo>>=Mn(Zi.G[2][Zi.H[2]+Uo],0,Vs),Mn(Zi.G[3][Zi.H[3]+Uo],24,Vs))}}}Qn.vc=_r,Qn.Wb=Ur,Qn.Ya=fs,Qn.yc=ao,Tn=1;break t}Tn=0}if(!(q=Tn)){I.a=3;break e}if(0<Te){if(ee.ua=1<<Te,!kt(ee.Wa,Te)){I.a=1,q=0;break e}}else ee.ua=0;var Ec=I,Ac=W,Vd=K,kc=Ec.s,Nc=kc.xc;if(Ec.c=Ac,Ec.i=Vd,kc.md=ft(Ac,Nc),kc.wc=Nc==0?-1:(1<<Nc)-1,x){I.xb=oo;break e}if((pe=o(W*K))==null){I.a=1,q=0;break e}q=(q=ar(I,pe,0,W,K,K,null))&&!Y.h;break e}return q?(M!=null?M[0]=pe:(e(pe==null),e(x)),I.$=0,x||Wr(ee)):Wr(ee),q}function Es(d,g){var x=d.c*d.i,I=x+g+16*g;return e(d.c<=g),d.V=o(I),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+g,1)}function As(d,g){var x=d.C,I=g-x,M=d.V,q=d.Ba+d.c*x;for(e(g<=d.l.o);0<I;){var W=16<I?16:I,K=d.l.ma,Y=d.l.width,ee=Y*W,pe=K.ca,Te=K.tb+Y*x,Ce=d.Ta,Ee=d.Ua;Wn(d,W,M,q),ir(Ce,Ee,pe,Te,ee),Hr(K,x,x+W,pe,Te,Y),I-=W,M+=W*d.c,x+=W}e(x==g),d.C=d.Ma=g}function ks(){this.ub=this.yd=this.td=this.Rb=0}function $s(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function bl(){this.Yb=function(){var d=[];return function g(x,I,M){for(var q=M[I],W=0;W<q&&(x.push(M.length>I+1?[]:0),!(M.length<I+1));W++)g(x[W],I+1,M)}(d,0,[3,11]),d}()}function Cn(){this.jb=o(3),this.Wc=u([4,8],bl),this.Xc=u([4,17],bl)}function xl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ns(){this.ld=this.La=this.dd=this.tc=0}function Ns(){this.Na=this.la=0}function xi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ns),this.Y=0,this.ya=Array(new wo),this.aa=0,this.l=new _o}function Hs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function oi(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new ks,this.Kc=new $s,this.ed=new xl,this.Qa=new vo,this.Ic=this.$c=this.Aa=0,this.D=new Sl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Z),this.ia=0,this.pb=l(4,xi),this.Pa=new Cn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hs),this.Hd=0,this.rb=Array(new Ns),this.sb=0,this.wa=Array(new ns),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wo),this.L=this.aa=0,this.gd=u([4,2],ns),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _o(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lr(){var d=new oi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Xa||(Xa=bo)),d}function Un(d,g,x){return d.a==0&&(d.a=g,d.sc=x,d.cb=0),0}function Fa(d,g,x){return 3<=x&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function Ma(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return Un(d,2,"null VP8Io passed to VP8GetHeaders()");var x=g.data,I=g.w,M=g.ha;if(4>M)return Un(d,7,"Truncated header.");var q=x[I+0]|x[I+1]<<8|x[I+2]<<16,W=d.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Un(d,3,"Incorrect keyframe parameters.");if(!W.yd)return Un(d,4,"Frame not displayable.");I+=3,M-=3;var K=d.Kc;if(W.Rb){if(7>M)return Un(d,7,"cannot parse picture header");if(!Fa(x,I,M))return Un(d,3,"Bad code word");K.c=16383&(x[I+4]<<8|x[I+3]),K.Td=x[I+4]>>6,K.i=16383&(x[I+6]<<8|x[I+5]),K.Ud=x[I+6]>>6,I+=7,M-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,g.width=K.c,g.height=K.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((q=d.Pa).jb,0,255,q.jb.length),e((q=d.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(W.ub>M)return Un(d,7,"bad partition length");Pe(q=d.m,x,I,W.ub),I+=W.ub,M-=W.ub,W.Rb&&(K.Ld=ue(q),K.Kd=ue(q)),K=d.Qa;var Y,ee=d.Pa;if(e(q!=null),e(K!=null),K.Cb=ue(q),K.Cb){if(K.Bb=ue(q),ue(q)){for(K.Fb=ue(q),Y=0;4>Y;++Y)K.Zb[Y]=ue(q)?we(q,7):0;for(Y=0;4>Y;++Y)K.Lb[Y]=ue(q)?we(q,6):0}if(K.Bb)for(Y=0;3>Y;++Y)ee.jb[Y]=ue(q)?Ie(q,8):255}else K.Bb=0;if(q.Ka)return Un(d,3,"cannot parse segment header");if((K=d.ed).zd=ue(q),K.Tb=Ie(q,6),K.wb=Ie(q,3),K.Pc=ue(q),K.Pc&&ue(q)){for(ee=0;4>ee;++ee)ue(q)&&(K.vd[ee]=we(q,6));for(ee=0;4>ee;++ee)ue(q)&&(K.od[ee]=we(q,6))}if(d.L=K.Tb==0?0:K.zd?1:2,q.Ka)return Un(d,3,"cannot parse filter header");var pe=M;if(M=Y=I,I=Y+pe,K=pe,d.Xb=(1<<Ie(d.m,2))-1,pe<3*(ee=d.Xb))x=7;else{for(Y+=3*ee,K-=3*ee,pe=0;pe<ee;++pe){var Te=x[M+0]|x[M+1]<<8|x[M+2]<<16;Te>K&&(Te=K),Pe(d.Jc[+pe],x,Y,Te),Y+=Te,K-=Te,M+=3}Pe(d.Jc[+ee],x,Y,K),x=Y<I?0:5}if(x!=0)return Un(d,x,"cannot parse partitions");for(x=Ie(Y=d.m,7),M=ue(Y)?we(Y,4):0,I=ue(Y)?we(Y,4):0,K=ue(Y)?we(Y,4):0,ee=ue(Y)?we(Y,4):0,Y=ue(Y)?we(Y,4):0,pe=d.Qa,Te=0;4>Te;++Te){if(pe.Cb){var Ce=pe.Zb[Te];pe.Fb||(Ce+=x)}else{if(0<Te){d.pb[Te]=d.pb[0];continue}Ce=x}var Ee=d.pb[Te];Ee.Sc[0]=Ul[bn(Ce+M,127)],Ee.Sc[1]=Ou[bn(Ce+0,127)],Ee.Eb[0]=2*Ul[bn(Ce+I,127)],Ee.Eb[1]=101581*Ou[bn(Ce+K,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Ul[bn(Ce+ee,117)],Ee.Qc[1]=Ou[bn(Ce+Y,127)],Ee.lc=Ce+Y}if(!W.Rb)return Un(d,4,"Not a key frame.");for(ue(q),W=d.Pa,x=0;4>x;++x){for(M=0;8>M;++M)for(I=0;3>I;++I)for(K=0;11>K;++K)ee=Ae(q,zp[x][M][I][K])?Ie(q,8):Ld[x][M][I][K],W.Wc[x][M].Yb[I][K]=ee;for(M=0;17>M;++M)W.Xc[x][M]=W.Wc[x][_h[M]]}return d.kc=ue(q),d.kc&&(d.Bd=Ie(q,8)),d.cb=1}function bo(d,g,x,I,M,q,W){var K=g[M].Yb[x];for(x=0;16>M;++M){if(!Ae(d,K[x+0]))return M;for(;!Ae(d,K[x+1]);)if(K=g[++M].Yb[0],x=0,M==16)return 16;var Y=g[M+1].Yb;if(Ae(d,K[x+2])){var ee=d,pe=0;if(Ae(ee,(Ce=K)[(Te=x)+3]))if(Ae(ee,Ce[Te+6])){for(K=0,Te=2*(pe=Ae(ee,Ce[Te+8]))+(Ce=Ae(ee,Ce[Te+9+pe])),pe=0,Ce=vh[Te];Ce[K];++K)pe+=pe+Ae(ee,Ce[K]);pe+=3+(8<<Te)}else Ae(ee,Ce[Te+7])?(pe=7+2*Ae(ee,165),pe+=Ae(ee,145)):pe=5+Ae(ee,159);else pe=Ae(ee,Ce[Te+4])?3+Ae(ee,Ce[Te+5]):2;K=Y[2]}else pe=1,K=Y[1];Y=W+wh[M],0>(ee=d).b&&oe(ee);var Te,Ce=ee.b,Ee=(Te=ee.Ca>>1)-(ee.I>>Ce)>>31;--ee.b,ee.Ca+=Ee,ee.Ca|=1,ee.I-=(Te+1&Ee)<<Ce,q[Y]=((pe^Ee)-Ee)*I[(0<M)+0]}return 16}function Ws(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,s(d.zc,0,0,d.zc.length),d.ja=0}function Gs(d,g){if(d==null)return 0;if(g==null)return Un(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Ma(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var x=tl[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-x>>4,d.zb=g.j-x>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+x>>4,d.Hb=g.va+15+x>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var I=d.ed;for(x=0;4>x;++x){var M;if(d.Qa.Cb){var q=d.Qa.Lb[x];d.Qa.Fb||(q+=I.Tb)}else q=I.Tb;for(M=0;1>=M;++M){var W=d.gd[x][M],K=q;if(I.Pc&&(K+=I.vd[0],M&&(K+=I.od[0])),0<(K=0>K?0:63<K?63:K)){var Y=K;0<I.wb&&(Y=4<I.wb?Y>>2:Y>>1)>9-I.wb&&(Y=9-I.wb),1>Y&&(Y=1),W.dd=Y,W.tc=2*K+Y,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=M}}}x=0}else Un(d,6,"Frame setup failed"),x=d.a;if(x=x==0){if(x){d.$c=0,0<d.Aa||(d.Ic=Oo);e:{x=d.Ic,I=4*(Y=d.za);var ee=32*Y,pe=Y+1,Te=0<d.L?Y*(0<d.Aa?2:1):0,Ce=(d.Aa==2?2:1)*Y;if((W=I+832+(M=3*(16*x+tl[d.L])/2*ee)+(q=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=W)x=0;else{if(W>d.Vb){if(d.Vb=0,d.Ec=o(W),d.Fc=0,d.Ec==null){x=Un(d,1,"no memory during frame initialization.");break e}d.Vb=W}W=d.Ec,K=d.Fc,d.Ac=W,d.Bc=K,K+=I,d.Gd=l(ee,Hs),d.Hd=0,d.rb=l(pe+1,Ns),d.sb=1,d.wa=Te?l(Te,ns):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Y),e(!0),d.oc=W,d.pc=K,K+=832,d.ya=l(Ce,wo),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Y),d.R=16*Y,d.B=8*Y,Y=(ee=tl[d.L])*d.R,ee=ee/2*d.B,d.sa=W,d.ta=K+Y,d.qa=d.sa,d.ra=d.ta+16*x*d.R+ee,d.Ha=d.qa,d.Ia=d.ra+8*x*d.B+ee,d.$c=0,K+=M,d.mb=q?W:null,d.nb=q?K:null,e(K+q<=d.Fc+d.Vb),Ws(d),s(d.Ac,d.Bc,0,I),x=1}}if(x){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!Tu){for(x=-255;255>=x;++x)pr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)io[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)Fl[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Qa[255+x]=0>x?0:255<x?255:x;Tu=1}jl=nn,To=Qs,Co=Is,Jr=An,Ki=Ts,vn=Ks,Ha=Ao,Iu=Gn,Wa=as,Ga=za,Ka=Wi,Qi=Ps,Po=eo,ro=ls,Lo=Kr,Ro=li,pa=nr,Mr=Ba,hs[0]=os,hs[1]=El,hs[2]=Ei,hs[3]=ss,hs[4]=Va,hs[5]=oa,hs[6]=Or,hs[7]=aa,hs[8]=So,hs[9]=Cs,pi[0]=qi,pi[1]=Al,pi[2]=is,pi[3]=xo,pi[4]=fn,pi[5]=$i,pi[6]=Si,ki[0]=Gr,ki[1]=sa,ki[2]=kl,ki[3]=ai,ki[4]=_n,ki[5]=Js,ki[6]=Ua,x=1}else x=0}x&&(x=function(Ee,He){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Fe,ge=Ee.Jc[Ee.M&Ee.Xb],ye=Ee.m,Be=Ee;for(Fe=0;Fe<Be.za;++Fe){var Ue=ye,qe=Be,gt=qe.Ac,ht=qe.Bc+4*Fe,Pt=qe.zc,dt=qe.ya[qe.aa+Fe];if(qe.Qa.Bb?dt.$b=Ae(Ue,qe.Pa.jb[0])?2+Ae(Ue,qe.Pa.jb[2]):Ae(Ue,qe.Pa.jb[1]):dt.$b=0,qe.kc&&(dt.Ad=Ae(Ue,qe.Bd)),dt.Za=!Ae(Ue,145)+0,dt.Za){var pn=dt.Ob,mn=0;for(qe=0;4>qe;++qe){var ln,Xt=Pt[0+qe];for(ln=0;4>ln;++ln){Xt=Bp[gt[ht+ln]][Xt];for(var Tn=Pd[Ae(Ue,Xt[0])];0<Tn;)Tn=Pd[2*Tn+Ae(Ue,Xt[Tn])];Xt=-Tn,gt[ht+ln]=Xt}r(pn,mn,gt,ht,4),mn+=4,Pt[0+qe]=Xt}}else Xt=Ae(Ue,156)?Ae(Ue,128)?1:3:Ae(Ue,163)?2:0,dt.Ob[0]=Xt,s(gt,ht,Xt,4),s(Pt,0,Xt,4);dt.Dd=Ae(Ue,142)?Ae(Ue,114)?Ae(Ue,183)?1:3:2:0}if(Be.m.Ka)return Un(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Be=ge,Ue=(ye=Ee).rb[ye.sb-1],gt=ye.rb[ye.sb+ye.ja],Fe=ye.ya[ye.aa+ye.ja],ht=ye.kc?Fe.Ad:0)Ue.la=gt.la=0,Fe.Za||(Ue.Na=gt.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Ln,Ht;if(Ue=gt,gt=Be,ht=ye.Pa.Xc,Pt=ye.ya[ye.aa+ye.ja],dt=ye.pb[Pt.$b],qe=Pt.ad,pn=0,mn=ye.rb[ye.sb-1],Xt=ln=0,s(qe,pn,0,384),Pt.Za)var Kn=0,mi=ht[3];else{Tn=o(16);var lr=Ue.Na+mn.Na;if(lr=Xa(gt,ht[1],lr,dt.Eb,0,Tn,0),Ue.Na=mn.Na=(0<lr)+0,1<lr)jl(Tn,0,qe,pn);else{var wr=Tn[0]+3>>3;for(Tn=0;256>Tn;Tn+=16)qe[pn+Tn]=wr}Kn=1,mi=ht[0]}var xn=15&Ue.la,Zr=15&mn.la;for(Tn=0;4>Tn;++Tn){var ei=1&Zr;for(wr=Ht=0;4>wr;++wr)xn=xn>>1|(ei=(lr=Xa(gt,mi,lr=ei+(1&xn),dt.Sc,Kn,qe,pn))>Kn)<<7,Ht=Ht<<2|(3<lr?3:1<lr?2:qe[pn+0]!=0),pn+=16;xn>>=4,Zr=Zr>>1|ei<<7,ln=(ln<<8|Ht)>>>0}for(mi=xn,Kn=Zr>>4,Ln=0;4>Ln;Ln+=2){for(Ht=0,xn=Ue.la>>4+Ln,Zr=mn.la>>4+Ln,Tn=0;2>Tn;++Tn){for(ei=1&Zr,wr=0;2>wr;++wr)lr=ei+(1&xn),xn=xn>>1|(ei=0<(lr=Xa(gt,ht[2],lr,dt.Qc,0,qe,pn)))<<3,Ht=Ht<<2|(3<lr?3:1<lr?2:qe[pn+0]!=0),pn+=16;xn>>=2,Zr=Zr>>1|ei<<5}Xt|=Ht<<4*Ln,mi|=xn<<4<<Ln,Kn|=(240&Zr)<<Ln}Ue.la=mi,mn.la=Kn,Pt.Hc=ln,Pt.Gc=Xt,Pt.ia=43690&Xt?0:dt.ia,ht=!(ln|Xt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Fe.$b][Fe.Za],ye.wa[ye.Y+ye.ja].La|=!ht),Be.Ka)return Un(Ee,7,"Premature end-of-file encountered.")}if(Ws(Ee),ye=He,Be=1,Fe=(ge=Ee).D,Ue=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(Fe.M=ge.M,Fe.uc=Ue,Ds(ge,Fe),Be=1,Fe=(Ht=ge.D).Nb,Ue=(Xt=tl[ge.L])*ge.R,gt=Xt/2*ge.B,Tn=16*Fe*ge.R,wr=8*Fe*ge.B,ht=ge.sa,Pt=ge.ta-Ue+Tn,dt=ge.qa,qe=ge.ra-gt+wr,pn=ge.Ha,mn=ge.Ia-gt+wr,Zr=(xn=Ht.M)==0,ln=xn>=ge.Va-1,ge.Aa==2&&Ds(ge,Ht),Ht.uc)for(ei=(lr=ge).D.M,e(lr.D.uc),Ht=lr.yb;Ht<lr.Hb;++Ht){Kn=Ht,mi=ei;var Qn=(_r=(Sn=lr).D).Nb;Ln=Sn.R;var _r=_r.wa[_r.Y+Kn],Ur=Sn.sa,Ci=Sn.ta+16*Qn*Ln+16*Kn,ds=_r.dd,Yn=_r.tc;if(Yn!=0)if(e(3<=Yn),Sn.L==1)0<Kn&&Ro(Ur,Ci,Ln,Yn+4),_r.La&&Mr(Ur,Ci,Ln,Yn),0<mi&&Lo(Ur,Ci,Ln,Yn+4),_r.La&&pa(Ur,Ci,Ln,Yn);else{var mr=Sn.B,Yi=Sn.qa,va=Sn.ra+8*Qn*mr+8*Kn,jo=Sn.Ha,Sn=Sn.Ia+8*Qn*mr+8*Kn;Qn=_r.ld,0<Kn&&(Iu(Ur,Ci,Ln,Yn+4,ds,Qn),Ga(Yi,va,jo,Sn,mr,Yn+4,ds,Qn)),_r.La&&(Qi(Ur,Ci,Ln,Yn,ds,Qn),ro(Yi,va,jo,Sn,mr,Yn,ds,Qn)),0<mi&&(Ha(Ur,Ci,Ln,Yn+4,ds,Qn),Wa(Yi,va,jo,Sn,mr,Yn+4,ds,Qn)),_r.La&&(Ka(Ur,Ci,Ln,Yn,ds,Qn),Po(Yi,va,jo,Sn,mr,Yn,ds,Qn))}}if(ge.ia&&alert("todo:DitherRow"),ye.put!=null){if(Ht=16*xn,xn=16*(xn+1),Zr?(ye.y=ge.sa,ye.O=ge.ta+Tn,ye.f=ge.qa,ye.N=ge.ra+wr,ye.ea=ge.Ha,ye.W=ge.Ia+wr):(Ht-=Xt,ye.y=ht,ye.O=Pt,ye.f=dt,ye.N=qe,ye.ea=pn,ye.W=mn),ln||(xn-=Xt),xn>ye.o&&(xn=ye.o),ye.F=null,ye.J=null,ge.Fa!=null&&0<ge.Fa.length&&Ht<xn&&(ye.J=ha(ge,ye,Ht,xn-Ht),ye.F=ge.mb,ye.F==null&&ye.F.length==0)){Be=Un(ge,3,"Could not decode alpha data.");break e}Ht<ye.j&&(Xt=ye.j-Ht,Ht=ye.j,e(!(1&Xt)),ye.O+=ge.R*Xt,ye.N+=ge.B*(Xt>>1),ye.W+=ge.B*(Xt>>1),ye.F!=null&&(ye.J+=ye.width*Xt)),Ht<xn&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=Ht-ye.j,ye.U=ye.va-ye.v,ye.T=xn-Ht,Be=ye.put(ye))}Fe+1!=ge.Ic||ln||(r(ge.sa,ge.ta-Ue,ht,Pt+16*ge.R,Ue),r(ge.qa,ge.ra-gt,dt,qe+8*ge.B,gt),r(ge.Ha,ge.Ia-gt,pn,mn+8*ge.B,gt))}if(!Be)return Un(Ee,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),x&=1}return x?(d.cb=0,x):0}function Rr(d,g,x,I,M){M=d[g+x+32*I]+(M>>3),d[g+x+32*I]=-256&M?0>M?0:255:M}function ia(d,g,x,I,M,q){Rr(d,g,0,x,I+M),Rr(d,g,1,x,I+q),Rr(d,g,2,x,I-q),Rr(d,g,3,x,I-M)}function tr(d){return(20091*d>>16)+d}function Dr(d,g,x,I){var M,q=0,W=o(16);for(M=0;4>M;++M){var K=d[g+0]+d[g+8],Y=d[g+0]-d[g+8],ee=(35468*d[g+4]>>16)-tr(d[g+12]),pe=tr(d[g+4])+(35468*d[g+12]>>16);W[q+0]=K+pe,W[q+1]=Y+ee,W[q+2]=Y-ee,W[q+3]=K-pe,q+=4,g++}for(M=q=0;4>M;++M)K=(d=W[q+0]+4)+W[q+8],Y=d-W[q+8],ee=(35468*W[q+4]>>16)-tr(W[q+12]),Rr(x,I,0,0,K+(pe=tr(W[q+4])+(35468*W[q+12]>>16))),Rr(x,I,1,0,Y+ee),Rr(x,I,2,0,Y-ee),Rr(x,I,3,0,K-pe),q++,I+=32}function Ks(d,g,x,I){var M=d[g+0]+4,q=35468*d[g+4]>>16,W=tr(d[g+4]),K=35468*d[g+1]>>16;ia(x,I,0,M+W,d=tr(d[g+1]),K),ia(x,I,1,M+q,d,K),ia(x,I,2,M-q,d,K),ia(x,I,3,M-W,d,K)}function Qs(d,g,x,I,M){Dr(d,g,x,I),M&&Dr(d,g+16,x,I+4)}function Is(d,g,x,I){To(d,g+0,x,I,1),To(d,g+32,x,I+128,1)}function An(d,g,x,I){var M;for(d=d[g+0]+4,M=0;4>M;++M)for(g=0;4>g;++g)Rr(x,I,g,M,d)}function Ts(d,g,x,I){d[g+0]&&Jr(d,g+0,x,I),d[g+16]&&Jr(d,g+16,x,I+4),d[g+32]&&Jr(d,g+32,x,I+128),d[g+48]&&Jr(d,g+48,x,I+128+4)}function nn(d,g,x,I){var M,q=o(16);for(M=0;4>M;++M){var W=d[g+0+M]+d[g+12+M],K=d[g+4+M]+d[g+8+M],Y=d[g+4+M]-d[g+8+M],ee=d[g+0+M]-d[g+12+M];q[0+M]=W+K,q[8+M]=W-K,q[4+M]=ee+Y,q[12+M]=ee-Y}for(M=0;4>M;++M)W=(d=q[0+4*M]+3)+q[3+4*M],K=q[1+4*M]+q[2+4*M],Y=q[1+4*M]-q[2+4*M],ee=d-q[3+4*M],x[I+0]=W+K>>3,x[I+16]=ee+Y>>3,x[I+32]=W-K>>3,x[I+48]=ee-Y>>3,I+=64}function rs(d,g,x){var I,M=g-32,q=fi,W=255-d[M-1];for(I=0;I<x;++I){var K,Y=q,ee=W+d[g-1];for(K=0;K<x;++K)d[g+K]=Y[ee+d[M+K]];g+=32}}function El(d,g){rs(d,g,4)}function sa(d,g){rs(d,g,8)}function Al(d,g){rs(d,g,16)}function is(d,g){var x;for(x=0;16>x;++x)r(d,g+32*x,d,g-32,16)}function xo(d,g){var x;for(x=16;0<x;--x)s(d,g,d[g-1],16),g+=32}function Ys(d,g,x){var I;for(I=0;16>I;++I)s(g,x+32*I,d,16)}function qi(d,g){var x,I=16;for(x=0;16>x;++x)I+=d[g-1+32*x]+d[g+x-32];Ys(I>>5,d,g)}function fn(d,g){var x,I=8;for(x=0;16>x;++x)I+=d[g-1+32*x];Ys(I>>4,d,g)}function $i(d,g){var x,I=8;for(x=0;16>x;++x)I+=d[g+x-32];Ys(I>>4,d,g)}function Si(d,g){Ys(128,d,g)}function Dt(d,g,x){return d+2*g+x+2>>2}function Ei(d,g){var x,I=g-32;for(I=new Uint8Array([Dt(d[I-1],d[I+0],d[I+1]),Dt(d[I+0],d[I+1],d[I+2]),Dt(d[I+1],d[I+2],d[I+3]),Dt(d[I+2],d[I+3],d[I+4])]),x=0;4>x;++x)r(d,g+32*x,I,0,I.length)}function ss(d,g){var x=d[g-1],I=d[g-1+32],M=d[g-1+64],q=d[g-1+96];We(d,g+0,16843009*Dt(d[g-1-32],x,I)),We(d,g+32,16843009*Dt(x,I,M)),We(d,g+64,16843009*Dt(I,M,q)),We(d,g+96,16843009*Dt(M,q,q))}function os(d,g){var x,I=4;for(x=0;4>x;++x)I+=d[g+x-32]+d[g-1+32*x];for(I>>=3,x=0;4>x;++x)s(d,g+32*x,I,4)}function Va(d,g){var x=d[g-1+0],I=d[g-1+32],M=d[g-1+64],q=d[g-1-32],W=d[g+0-32],K=d[g+1-32],Y=d[g+2-32],ee=d[g+3-32];d[g+0+96]=Dt(I,M,d[g-1+96]),d[g+1+96]=d[g+0+64]=Dt(x,I,M),d[g+2+96]=d[g+1+64]=d[g+0+32]=Dt(q,x,I),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Dt(W,q,x),d[g+3+64]=d[g+2+32]=d[g+1+0]=Dt(K,W,q),d[g+3+32]=d[g+2+0]=Dt(Y,K,W),d[g+3+0]=Dt(ee,Y,K)}function Or(d,g){var x=d[g+1-32],I=d[g+2-32],M=d[g+3-32],q=d[g+4-32],W=d[g+5-32],K=d[g+6-32],Y=d[g+7-32];d[g+0+0]=Dt(d[g+0-32],x,I),d[g+1+0]=d[g+0+32]=Dt(x,I,M),d[g+2+0]=d[g+1+32]=d[g+0+64]=Dt(I,M,q),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Dt(M,q,W),d[g+3+32]=d[g+2+64]=d[g+1+96]=Dt(q,W,K),d[g+3+64]=d[g+2+96]=Dt(W,K,Y),d[g+3+96]=Dt(K,Y,Y)}function oa(d,g){var x=d[g-1+0],I=d[g-1+32],M=d[g-1+64],q=d[g-1-32],W=d[g+0-32],K=d[g+1-32],Y=d[g+2-32],ee=d[g+3-32];d[g+0+0]=d[g+1+64]=q+W+1>>1,d[g+1+0]=d[g+2+64]=W+K+1>>1,d[g+2+0]=d[g+3+64]=K+Y+1>>1,d[g+3+0]=Y+ee+1>>1,d[g+0+96]=Dt(M,I,x),d[g+0+64]=Dt(I,x,q),d[g+0+32]=d[g+1+96]=Dt(x,q,W),d[g+1+32]=d[g+2+96]=Dt(q,W,K),d[g+2+32]=d[g+3+96]=Dt(W,K,Y),d[g+3+32]=Dt(K,Y,ee)}function aa(d,g){var x=d[g+0-32],I=d[g+1-32],M=d[g+2-32],q=d[g+3-32],W=d[g+4-32],K=d[g+5-32],Y=d[g+6-32],ee=d[g+7-32];d[g+0+0]=x+I+1>>1,d[g+1+0]=d[g+0+64]=I+M+1>>1,d[g+2+0]=d[g+1+64]=M+q+1>>1,d[g+3+0]=d[g+2+64]=q+W+1>>1,d[g+0+32]=Dt(x,I,M),d[g+1+32]=d[g+0+96]=Dt(I,M,q),d[g+2+32]=d[g+1+96]=Dt(M,q,W),d[g+3+32]=d[g+2+96]=Dt(q,W,K),d[g+3+64]=Dt(W,K,Y),d[g+3+96]=Dt(K,Y,ee)}function Cs(d,g){var x=d[g-1+0],I=d[g-1+32],M=d[g-1+64],q=d[g-1+96];d[g+0+0]=x+I+1>>1,d[g+2+0]=d[g+0+32]=I+M+1>>1,d[g+2+32]=d[g+0+64]=M+q+1>>1,d[g+1+0]=Dt(x,I,M),d[g+3+0]=d[g+1+32]=Dt(I,M,q),d[g+3+32]=d[g+1+64]=Dt(M,q,q),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=q}function So(d,g){var x=d[g-1+0],I=d[g-1+32],M=d[g-1+64],q=d[g-1+96],W=d[g-1-32],K=d[g+0-32],Y=d[g+1-32],ee=d[g+2-32];d[g+0+0]=d[g+2+32]=x+W+1>>1,d[g+0+32]=d[g+2+64]=I+x+1>>1,d[g+0+64]=d[g+2+96]=M+I+1>>1,d[g+0+96]=q+M+1>>1,d[g+3+0]=Dt(K,Y,ee),d[g+2+0]=Dt(W,K,Y),d[g+1+0]=d[g+3+32]=Dt(x,W,K),d[g+1+32]=d[g+3+64]=Dt(I,x,W),d[g+1+64]=d[g+3+96]=Dt(M,I,x),d[g+1+96]=Dt(q,M,I)}function kl(d,g){var x;for(x=0;8>x;++x)r(d,g+32*x,d,g-32,8)}function ai(d,g){var x;for(x=0;8>x;++x)s(d,g,d[g-1],8),g+=32}function jr(d,g,x){var I;for(I=0;8>I;++I)s(g,x+32*I,d,8)}function Gr(d,g){var x,I=8;for(x=0;8>x;++x)I+=d[g+x-32]+d[g-1+32*x];jr(I>>4,d,g)}function Js(d,g){var x,I=4;for(x=0;8>x;++x)I+=d[g+x-32];jr(I>>3,d,g)}function _n(d,g){var x,I=4;for(x=0;8>x;++x)I+=d[g-1+32*x];jr(I>>3,d,g)}function Ua(d,g){jr(128,d,g)}function Xs(d,g,x){var I=d[g-x],M=d[g+0],q=3*(M-I)+so[1020+d[g-2*x]-d[g+x]],W=Ml[112+(q+4>>3)];d[g-x]=fi[255+I+Ml[112+(q+3>>3)]],d[g+0]=fi[255+M-W]}function Zs(d,g,x,I){var M=d[g+0],q=d[g+x];return cs[255+d[g-2*x]-d[g-x]]>I||cs[255+q-M]>I}function Eo(d,g,x,I){return 4*cs[255+d[g-x]-d[g+0]]+cs[255+d[g-2*x]-d[g+x]]<=I}function la(d,g,x,I,M){var q=d[g-3*x],W=d[g-2*x],K=d[g-x],Y=d[g+0],ee=d[g+x],pe=d[g+2*x],Te=d[g+3*x];return 4*cs[255+K-Y]+cs[255+W-ee]>I?0:cs[255+d[g-4*x]-q]<=M&&cs[255+q-W]<=M&&cs[255+W-K]<=M&&cs[255+Te-pe]<=M&&cs[255+pe-ee]<=M&&cs[255+ee-Y]<=M}function Kr(d,g,x,I){var M=2*I+1;for(I=0;16>I;++I)Eo(d,g+I,x,M)&&Xs(d,g+I,x)}function li(d,g,x,I){var M=2*I+1;for(I=0;16>I;++I)Eo(d,g+I*x,1,M)&&Xs(d,g+I*x,1)}function nr(d,g,x,I){var M;for(M=3;0<M;--M)Kr(d,g+=4*x,x,I)}function Ba(d,g,x,I){var M;for(M=3;0<M;--M)li(d,g+=4,x,I)}function Hi(d,g,x,I,M,q,W,K){for(q=2*q+1;0<M--;){if(la(d,g,x,q,W))if(Zs(d,g,x,K))Xs(d,g,x);else{var Y=d,ee=g,pe=x,Te=Y[ee-2*pe],Ce=Y[ee-pe],Ee=Y[ee+0],He=Y[ee+pe],Fe=Y[ee+2*pe],ge=27*(Be=so[1020+3*(Ee-Ce)+so[1020+Te-He]])+63>>7,ye=18*Be+63>>7,Be=9*Be+63>>7;Y[ee-3*pe]=fi[255+Y[ee-3*pe]+Be],Y[ee-2*pe]=fi[255+Te+ye],Y[ee-pe]=fi[255+Ce+ge],Y[ee+0]=fi[255+Ee-ge],Y[ee+pe]=fi[255+He-ye],Y[ee+2*pe]=fi[255+Fe-Be]}g+=I}}function fr(d,g,x,I,M,q,W,K){for(q=2*q+1;0<M--;){if(la(d,g,x,q,W))if(Zs(d,g,x,K))Xs(d,g,x);else{var Y=d,ee=g,pe=x,Te=Y[ee-pe],Ce=Y[ee+0],Ee=Y[ee+pe],He=Ml[112+((Fe=3*(Ce-Te))+4>>3)],Fe=Ml[112+(Fe+3>>3)],ge=He+1>>1;Y[ee-2*pe]=fi[255+Y[ee-2*pe]+ge],Y[ee-pe]=fi[255+Te+Fe],Y[ee+0]=fi[255+Ce-He],Y[ee+pe]=fi[255+Ee-ge]}g+=I}}function Ao(d,g,x,I,M,q){Hi(d,g,x,1,16,I,M,q)}function Gn(d,g,x,I,M,q){Hi(d,g,1,x,16,I,M,q)}function Wi(d,g,x,I,M,q){var W;for(W=3;0<W;--W)fr(d,g+=4*x,x,1,16,I,M,q)}function Ps(d,g,x,I,M,q){var W;for(W=3;0<W;--W)fr(d,g+=4,1,x,16,I,M,q)}function as(d,g,x,I,M,q,W,K){Hi(d,g,M,1,8,q,W,K),Hi(x,I,M,1,8,q,W,K)}function za(d,g,x,I,M,q,W,K){Hi(d,g,1,M,8,q,W,K),Hi(x,I,1,M,8,q,W,K)}function eo(d,g,x,I,M,q,W,K){fr(d,g+4*M,M,1,8,q,W,K),fr(x,I+4*M,M,1,8,q,W,K)}function ls(d,g,x,I,M,q,W,K){fr(d,g+4,1,M,8,q,W,K),fr(x,I+4,1,M,8,q,W,K)}function Gi(){this.ba=new Dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Oe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ls(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function to(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ua(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new D}function Nl(){this.xb=this.a=0,this.l=new _o,this.ca=new Dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ua,this.ab=0,this.gc=l(4,to),this.Oc=0}function Rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _o,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function us(d,g,x,I,M,q,W){for(d=d==null?0:d[g+0],g=0;g<W;++g)M[q+g]=d+x[I+g]&255,d=M[q+g]}function ca(d,g,x,I,M,q,W){var K;if(d==null)us(null,null,x,I,M,q,W);else for(K=0;K<W;++K)M[q+K]=d[g+K]+x[I+K]&255}function Qr(d,g,x,I,M,q,W){if(d==null)us(null,null,x,I,M,q,W);else{var K,Y=d[g+0],ee=Y,pe=Y;for(K=0;K<W;++K)ee=pe+(Y=d[g+K])-ee,pe=x[I+K]+(-256&ee?0>ee?0:255:ee)&255,ee=Y,M[q+K]=pe}}function ha(d,g,x,I){var M=g.width,q=g.o;if(e(d!=null&&g!=null),0>x||0>=I||x+I>q)return null;if(!d.Cc){if(d.ga==null){var W;if(d.ga=new Rs,(W=d.ga==null)||(W=g.width*g.o,e(d.Gb.length==0),d.Gb=o(W),d.Uc=0,d.Gb==null?W=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,W=1),W=!W),!W){W=d.ga;var K=d.Fa,Y=d.P,ee=d.qc,pe=d.mb,Te=d.nb,Ce=Y+1,Ee=ee-1,He=W.l;if(e(K!=null&&pe!=null&&g!=null),Xr[0]=null,Xr[1]=us,Xr[2]=ca,Xr[3]=Qr,W.ca=pe,W.tb=Te,W.c=g.width,W.i=g.height,e(0<W.c&&0<W.i),1>=ee)g=0;else if(W.$a=K[Y+0]>>0&3,W.Z=K[Y+0]>>2&3,W.Lc=K[Y+0]>>4&3,Y=K[Y+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Y)g=0;else if(He.put=Ft,He.ac=Nt,He.bc=an,He.ma=W,He.width=g.width,He.height=g.height,He.Da=g.Da,He.v=g.v,He.va=g.va,He.j=g.j,He.o=g.o,W.$a)e:{e(W.$a==1),g=er();t:for(;;){if(g==null){g=0;break e}if(e(W!=null),W.mc=g,g.c=W.c,g.i=W.i,g.l=W.l,g.l.ma=W,g.l.width=W.c,g.l.height=W.i,g.a=0,ie(g.m,K,Ce,Ee),!zi(W.c,W.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ss(g.s)?(W.ic=1,K=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(K),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(W.ic=0,g=Es(g,W.c)),!g))break t;g=1;break e}W.mc=null,g=0}else g=Ee>=W.c*W.i;W=!g}if(W)return null;d.ga.Lc!=1?d.Ga=0:I=q-x}e(d.ga!=null),e(x+I<=q);e:{if(g=(K=d.ga).c,q=K.l.o,K.$a==0){if(Ce=d.rc,Ee=d.Vc,He=d.Fa,Y=d.P+1+x*g,ee=d.mb,pe=d.nb+x*g,e(Y<=d.P+d.qc),K.Z!=0)for(e(Xr[K.Z]!=null),W=0;W<I;++W)Xr[K.Z](Ce,Ee,He,Y,ee,pe,g),Ce=ee,Ee=pe,pe+=g,Y+=g;else for(W=0;W<I;++W)r(ee,pe,He,Y,g),Ce=ee,Ee=pe,pe+=g,Y+=g;d.rc=Ce,d.Vc=Ee}else{if(e(K.mc!=null),g=x+I,e((W=K.mc)!=null),e(g<=W.i),W.C>=g)g=1;else if(K.ic||ke(),K.ic){K=W.V,Ce=W.Ba,Ee=W.c;var Fe=W.i,ge=(He=1,Y=W.$/Ee,ee=W.$%Ee,pe=W.m,Te=W.s,W.$),ye=Ee*Fe,Be=Ee*g,Ue=Te.wc,qe=ge<Be?Vn(Te,ee,Y):null;e(ge<=ye),e(g<=Fe),e(Ss(Te));t:for(;;){for(;!pe.h&&ge<Be;){if(ee&Ue||(qe=Vn(Te,ee,Y)),e(qe!=null),ae(pe),256>(Fe=dr(qe.G[0],qe.H[0],pe)))K[Ce+ge]=Fe,++ge,++ee>=Ee&&(ee=0,++Y<=g&&!(Y%16)&&bi(W,Y));else{if(!(280>Fe)){He=0;break t}Fe=Zn(Fe-256,pe);var gt,ht=dr(qe.G[4],qe.H[4],pe);if(ae(pe),!(ge>=(ht=hr(Ee,ht=Zn(ht,pe)))&&ye-ge>=Fe)){He=0;break t}for(gt=0;gt<Fe;++gt)K[Ce+ge+gt]=K[Ce+ge+gt-ht];for(ge+=Fe,ee+=Fe;ee>=Ee;)ee-=Ee,++Y<=g&&!(Y%16)&&bi(W,Y);ge<Be&&ee&Ue&&(qe=Vn(Te,ee,Y))}e(pe.h==J(pe))}bi(W,Y>g?g:Y);break t}!He||pe.h&&ge<ye?(He=0,W.a=pe.h?5:3):W.$=ge,g=He}else g=ar(W,W.V,W.Ba,W.c,W.i,g,As);if(!g){I=0;break e}}x+I>=q&&(d.Cc=1),I=1}if(!I)return null;if(d.Cc&&((I=d.ga)!=null&&(I.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*M}function v(d,g,x,I,M,q){for(;0<M--;){var W,K=d,Y=g+(x?1:0),ee=d,pe=g+(x?0:3);for(W=0;W<I;++W){var Te=ee[pe+4*W];Te!=255&&(Te*=32897,K[Y+4*W+0]=K[Y+4*W+0]*Te>>23,K[Y+4*W+1]=K[Y+4*W+1]*Te>>23,K[Y+4*W+2]=K[Y+4*W+2]*Te>>23)}g+=q}}function V(d,g,x,I,M){for(;0<I--;){var q;for(q=0;q<x;++q){var W=d[g+2*q+0],K=15&(ee=d[g+2*q+1]),Y=4369*K,ee=(240&ee|ee>>4)*Y>>16;d[g+2*q+0]=(240&W|W>>4)*Y>>16&240|(15&W|W<<4)*Y>>16>>4&15,d[g+2*q+1]=240&ee|K}g+=M}}function re(d,g,x,I,M,q,W,K){var Y,ee,pe=255;for(ee=0;ee<M;++ee){for(Y=0;Y<I;++Y){var Te=d[g+Y];q[W+4*Y]=Te,pe&=Te}g+=x,W+=K}return pe!=255}function de(d,g,x,I,M){var q;for(q=0;q<M;++q)x[I+q]=d[g+q]>>8}function ke(){Ai=v,On=V,Nn=re,ir=de}function Ve(d,g,x){C[d]=function(I,M,q,W,K,Y,ee,pe,Te,Ce,Ee,He,Fe,ge,ye,Be,Ue){var qe,gt=Ue-1>>1,ht=K[Y+0]|ee[pe+0]<<16,Pt=Te[Ce+0]|Ee[He+0]<<16;e(I!=null);var dt=3*ht+Pt+131074>>2;for(g(I[M+0],255&dt,dt>>16,Fe,ge),q!=null&&(dt=3*Pt+ht+131074>>2,g(q[W+0],255&dt,dt>>16,ye,Be)),qe=1;qe<=gt;++qe){var pn=K[Y+qe]|ee[pe+qe]<<16,mn=Te[Ce+qe]|Ee[He+qe]<<16,ln=ht+pn+Pt+mn+524296,Xt=ln+2*(pn+Pt)>>3;dt=Xt+ht>>1,ht=(ln=ln+2*(ht+mn)>>3)+pn>>1,g(I[M+2*qe-1],255&dt,dt>>16,Fe,ge+(2*qe-1)*x),g(I[M+2*qe-0],255&ht,ht>>16,Fe,ge+(2*qe-0)*x),q!=null&&(dt=ln+Pt>>1,ht=Xt+mn>>1,g(q[W+2*qe-1],255&dt,dt>>16,ye,Be+(2*qe-1)*x),g(q[W+2*qe+0],255&ht,ht>>16,ye,Be+(2*qe+0)*x)),ht=pn,Pt=mn}1&Ue||(dt=3*ht+Pt+131074>>2,g(I[M+Ue-1],255&dt,dt>>16,Fe,ge+(Ue-1)*x),q!=null&&(dt=3*Pt+ht+131074>>2,g(q[W+Ue-1],255&dt,dt>>16,ye,Be+(Ue-1)*x)))}}function Qe(){Ni[fc]=qp,Ni[ma]=ga,Ni[Id]=$p,Ni[Cu]=zl,Ni[Pu]=Za,Ni[jn]=ju,Ni[pc]=bh,Ni[Vl]=ga,Ni[Ya]=zl,Ni[Lu]=Za,Ni[Ru]=ju}function ct(d){return d&-16384?0>d?0:255:d>>ya}function f(d,g){return ct((19077*d>>8)+(26149*g>>8)-14234)}function E(d,g,x){return ct((19077*d>>8)-(6419*g>>8)-(13320*x>>8)+8708)}function P(d,g){return ct((19077*d>>8)+(33050*g>>8)-17685)}function Q(d,g,x,I,M){I[M+0]=f(d,x),I[M+1]=E(d,g,x),I[M+2]=P(d,g)}function Se(d,g,x,I,M){I[M+0]=P(d,g),I[M+1]=E(d,g,x),I[M+2]=f(d,x)}function Re(d,g,x,I,M){var q=E(d,g,x);g=q<<3&224|P(d,g)>>3,I[M+0]=248&f(d,x)|q>>5,I[M+1]=g}function Je(d,g,x,I,M){var q=240&P(d,g)|15;I[M+0]=240&f(d,x)|E(d,g,x)>>4,I[M+1]=q}function Gt(d,g,x,I,M){I[M+0]=255,Q(d,g,x,I,M+1)}function sn(d,g,x,I,M){Se(d,g,x,I,M),I[M+3]=255}function Kt(d,g,x,I,M){Q(d,g,x,I,M),I[M+3]=255}function bn(d,g){return 0>d?0:d>g?g:d}function kn(d,g,x){C[d]=function(I,M,q,W,K,Y,ee,pe,Te){for(var Ce=pe+(-2&Te)*x;pe!=Ce;)g(I[M+0],q[W+0],K[Y+0],ee,pe),g(I[M+1],q[W+0],K[Y+0],ee,pe+x),M+=2,++W,++Y,pe+=2*x;1&Te&&g(I[M+0],q[W+0],K[Y+0],ee,pe)}}function ui(d,g,x){return x==0?d==0?g==0?6:5:g==0?4:0:x}function Fr(d,g,x,I,M){switch(d>>>30){case 3:To(g,x,I,M,0);break;case 2:vn(g,x,I,M);break;case 1:Jr(g,x,I,M)}}function Ds(d,g){var x,I,M=g.M,q=g.Nb,W=d.oc,K=d.pc+40,Y=d.oc,ee=d.pc+584,pe=d.oc,Te=d.pc+600;for(x=0;16>x;++x)W[K+32*x-1]=129;for(x=0;8>x;++x)Y[ee+32*x-1]=129,pe[Te+32*x-1]=129;for(0<M?W[K-1-32]=Y[ee-1-32]=pe[Te-1-32]=129:(s(W,K-32-1,127,21),s(Y,ee-32-1,127,9),s(pe,Te-32-1,127,9)),I=0;I<d.za;++I){var Ce=g.ya[g.aa+I];if(0<I){for(x=-1;16>x;++x)r(W,K+32*x-4,W,K+32*x+12,4);for(x=-1;8>x;++x)r(Y,ee+32*x-4,Y,ee+32*x+4,4),r(pe,Te+32*x-4,pe,Te+32*x+4,4)}var Ee=d.Gd,He=d.Hd+I,Fe=Ce.ad,ge=Ce.Hc;if(0<M&&(r(W,K-32,Ee[He].y,0,16),r(Y,ee-32,Ee[He].f,0,8),r(pe,Te-32,Ee[He].ea,0,8)),Ce.Za){var ye=W,Be=K-32+16;for(0<M&&(I>=d.za-1?s(ye,Be,Ee[He].y[15],4):r(ye,Be,Ee[He+1].y,0,4)),x=0;4>x;x++)ye[Be+128+x]=ye[Be+256+x]=ye[Be+384+x]=ye[Be+0+x];for(x=0;16>x;++x,ge<<=2)ye=W,Be=K+xh[x],hs[Ce.Ob[x]](ye,Be),Fr(ge,Fe,16*+x,ye,Be)}else if(ye=ui(I,M,Ce.Ob[0]),pi[ye](W,K),ge!=0)for(x=0;16>x;++x,ge<<=2)Fr(ge,Fe,16*+x,W,K+xh[x]);for(x=Ce.Gc,ye=ui(I,M,Ce.Dd),ki[ye](Y,ee),ki[ye](pe,Te),ge=Fe,ye=Y,Be=ee,255&(Ce=x>>0)&&(170&Ce?Co(ge,256,ye,Be):Ki(ge,256,ye,Be)),Ce=pe,ge=Te,255&(x>>=8)&&(170&x?Co(Fe,320,Ce,ge):Ki(Fe,320,Ce,ge)),M<d.Ub-1&&(r(Ee[He].y,0,W,K+480,16),r(Ee[He].f,0,Y,ee+224,8),r(Ee[He].ea,0,pe,Te+224,8)),x=8*q*d.B,Ee=d.sa,He=d.ta+16*I+16*q*d.R,Fe=d.qa,Ce=d.ra+8*I+x,ge=d.Ha,ye=d.Ia+8*I+x,x=0;16>x;++x)r(Ee,He+x*d.R,W,K+32*x,16);for(x=0;8>x;++x)r(Fe,Ce+x*d.B,Y,ee+32*x,8),r(ge,ye+x*d.B,pe,Te+32*x,8)}}function Os(d,g,x,I,M,q,W,K,Y){var ee=[0],pe=[0],Te=0,Ce=Y!=null?Y.kd:0,Ee=Y??new Ls;if(d==null||12>x)return 7;Ee.data=d,Ee.w=g,Ee.ha=x,g=[g],x=[x],Ee.gb=[Ee.gb];e:{var He=g,Fe=x,ge=Ee.gb;if(e(d!=null),e(Fe!=null),e(ge!=null),ge[0]=0,12<=Fe[0]&&!t(d,He[0],"RIFF")){if(t(d,He[0]+8,"WEBP")){ge=3;break e}var ye=it(d,He[0]+4);if(12>ye||4294967286<ye){ge=3;break e}if(Ce&&ye>Fe[0]-8){ge=7;break e}ge[0]=ye,He[0]+=12,Fe[0]-=12}ge=0}if(ge!=0)return ge;for(ye=0<Ee.gb[0],x=x[0];;){e:{var Be=d;Fe=g,ge=x;var Ue=ee,qe=pe,gt=He=[0];if((dt=Te=[Te])[0]=0,8>ge[0])ge=7;else{if(!t(Be,Fe[0],"VP8X")){if(it(Be,Fe[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var ht=it(Be,Fe[0]+8),Pt=1+Ye(Be,Fe[0]+12);if(2147483648<=Pt*(Be=1+Ye(Be,Fe[0]+15))){ge=3;break e}gt!=null&&(gt[0]=ht),Ue!=null&&(Ue[0]=Pt),qe!=null&&(qe[0]=Be),Fe[0]+=18,ge[0]-=18,dt[0]=1}ge=0}}if(Te=Te[0],He=He[0],ge!=0)return ge;if(Fe=!!(2&He),!ye&&Te)return 3;if(q!=null&&(q[0]=!!(16&He)),W!=null&&(W[0]=Fe),K!=null&&(K[0]=0),W=ee[0],He=pe[0],Te&&Fe&&Y==null){ge=0;break}if(4>x){ge=7;break}if(ye&&Te||!ye&&!Te&&!t(d,g[0],"ALPH")){x=[x],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{ht=d,ge=g,ye=x;var dt=Ee.gb;Ue=Ee.na,qe=Ee.P,gt=Ee.Sa,Pt=22,e(ht!=null),e(ye!=null),Be=ge[0];var pn=ye[0];for(e(Ue!=null),e(gt!=null),Ue[0]=null,qe[0]=null,gt[0]=0;;){if(ge[0]=Be,ye[0]=pn,8>pn){ge=7;break e}var mn=it(ht,Be+4);if(4294967286<mn){ge=3;break e}var ln=8+mn+1&-2;if(Pt+=ln,0<dt&&Pt>dt){ge=3;break e}if(!t(ht,Be,"VP8 ")||!t(ht,Be,"VP8L")){ge=0;break e}if(pn[0]<ln){ge=7;break e}t(ht,Be,"ALPH")||(Ue[0]=ht,qe[0]=Be+8,gt[0]=mn),Be+=ln,pn-=ln}}if(x=x[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],ge!=0)break}x=[x],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(dt=d,ge=g,ye=x,Ue=Ee.gb[0],qe=Ee.Ja,gt=Ee.xa,ht=ge[0],Be=!t(dt,ht,"VP8 "),Pt=!t(dt,ht,"VP8L"),e(dt!=null),e(ye!=null),e(qe!=null),e(gt!=null),8>ye[0])ge=7;else{if(Be||Pt){if(dt=it(dt,ht+4),12<=Ue&&dt>Ue-12){ge=3;break e}if(Ce&&dt>ye[0]-8){ge=7;break e}qe[0]=dt,ge[0]+=8,ye[0]-=8,gt[0]=Pt}else gt[0]=5<=ye[0]&&dt[ht+0]==47&&!(dt[ht+4]>>5),qe[0]=ye[0];ge=0}if(x=x[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],g=g[0],ge!=0)break;if(4294967286<Ee.Ja)return 3;if(K==null||Fe||(K[0]=Ee.xa?2:1),W=[W],He=[He],Ee.xa){if(5>x){ge=7;break}K=W,Ce=He,Fe=q,d==null||5>x?d=0:5<=x&&d[g+0]==47&&!(d[g+4]>>5)?(ye=[0],dt=[0],Ue=[0],ie(qe=new A,d,g,x),at(qe,ye,dt,Ue)?(K!=null&&(K[0]=ye[0]),Ce!=null&&(Ce[0]=dt[0]),Fe!=null&&(Fe[0]=Ue[0]),d=1):d=0):d=0}else{if(10>x){ge=7;break}K=He,d==null||10>x||!Fa(d,g+3,x-3)?d=0:(Ce=d[g+0]|d[g+1]<<8|d[g+2]<<16,Fe=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=Ee.Ja||!Fe||!d?d=0:(W&&(W[0]=Fe),K&&(K[0]=d),d=1))}if(!d||(W=W[0],He=He[0],Te&&(ee[0]!=W||pe[0]!=He)))return 3;Y!=null&&(Y[0]=Ee,Y.offset=g-Y.w,e(4294967286>g-Y.w),e(Y.offset==Y.ha-x));break}return ge==0||ge==7&&Te&&Y==null?(q!=null&&(q[0]|=Ee.na!=null&&0<Ee.na.length),I!=null&&(I[0]=W),M!=null&&(M[0]=He),0):ge}function Il(d,g,x){var I=g.width,M=g.height,q=0,W=0,K=I,Y=M;if(g.Da=d!=null&&0<d.Da,g.Da&&(K=d.cd,Y=d.bd,q=d.v,W=d.j,11>x||(q&=-2,W&=-2),0>q||0>W||0>=K||0>=Y||q+K>I||W+Y>M))return 0;if(g.v=q,g.j=W,g.va=q+K,g.o=W+Y,g.U=K,g.T=Y,g.da=d!=null&&0<d.da,g.da){if(!_t(K,Y,x=[d.ib],q=[d.hb]))return 0;g.ib=x[0],g.hb=q[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*I/4&&g.hb<3*M/4,g.Kb=0),1}function Tl(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function qa(d,g,x,I){if(I==null||0>=d||0>=g)return 2;if(x!=null){if(x.Da){var M=x.cd,q=x.bd,W=-2&x.v,K=-2&x.j;if(0>W||0>K||0>=M||0>=q||W+M>d||K+q>g)return 2;d=M,g=q}if(x.da){if(!_t(d,g,M=[x.ib],q=[x.hb]))return 2;d=M[0],g=q[0]}}I.width=d,I.height=g;e:{var Y=I.width,ee=I.height;if(d=I.S,0>=Y||0>=ee||!(d>=fc&&13>d))d=2;else{if(0>=I.Rd&&I.sd==null){W=q=M=g=0;var pe=(K=Y*Fu[d])*ee;if(11>d||(q=(ee+1)/2*(g=(Y+1)/2),d==12&&(W=(M=Y)*ee)),(ee=o(pe+2*q+W))==null){d=1;break e}I.sd=ee,11>d?((Y=I.f.RGBA).eb=ee,Y.fb=0,Y.A=K,Y.size=pe):((Y=I.f.kb).y=ee,Y.O=0,Y.fa=K,Y.Fd=pe,Y.f=ee,Y.N=0+pe,Y.Ab=g,Y.Cd=q,Y.ea=ee,Y.W=0+pe+q,Y.Db=g,Y.Ed=q,d==12&&(Y.F=ee,Y.J=0+pe+2*q),Y.Tc=W,Y.lb=M)}if(g=1,M=I.S,q=I.width,W=I.height,M>=fc&&13>M)if(11>M)d=I.f.RGBA,g&=(K=Math.abs(d.A))*(W-1)+q<=d.size,g&=K>=q*Fu[M],g&=d.eb!=null;else{d=I.f.kb,K=(q+1)/2,pe=(W+1)/2,Y=Math.abs(d.fa),ee=Math.abs(d.Ab);var Te=Math.abs(d.Db),Ce=Math.abs(d.lb),Ee=Ce*(W-1)+q;g&=Y*(W-1)+q<=d.Fd,g&=ee*(pe-1)+K<=d.Cd,g=(g&=Te*(pe-1)+K<=d.Ed)&Y>=q&ee>=K&Te>=K,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,M==12&&(g&=Ce>=q,g&=Ee<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||x!=null&&x.fd&&(d=Tl(I)),d}var rr=64,Cl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pl=24,Ll=32,Rl=8,ci=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(d){return d},C.Predictor2=function(d,g,x){return g[x+0]},C.Predictor3=function(d,g,x){return g[x+1]},C.Predictor4=function(d,g,x){return g[x-1]},C.Predictor5=function(d,g,x){return lt(lt(d,g[x+1]),g[x+0])},C.Predictor6=function(d,g,x){return lt(d,g[x-1])},C.Predictor7=function(d,g,x){return lt(d,g[x+0])},C.Predictor8=function(d,g,x){return lt(g[x-1],g[x+0])},C.Predictor9=function(d,g,x){return lt(g[x+0],g[x+1])},C.Predictor10=function(d,g,x){return lt(lt(d,g[x-1]),lt(g[x+0],g[x+1]))},C.Predictor11=function(d,g,x){var I=g[x+0];return 0>=Ut(I>>24&255,d>>24&255,(g=g[x-1])>>24&255)+Ut(I>>16&255,d>>16&255,g>>16&255)+Ut(I>>8&255,d>>8&255,g>>8&255)+Ut(255&I,255&d,255&g)?I:d},C.Predictor12=function(d,g,x){var I=g[x+0];return(xt((d>>24&255)+(I>>24&255)-((g=g[x-1])>>24&255))<<24|xt((d>>16&255)+(I>>16&255)-(g>>16&255))<<16|xt((d>>8&255)+(I>>8&255)-(g>>8&255))<<8|xt((255&d)+(255&I)-(255&g)))>>>0},C.Predictor13=function(d,g,x){var I=g[x-1];return(Rt((d=lt(d,g[x+0]))>>24&255,I>>24&255)<<24|Rt(d>>16&255,I>>16&255)<<16|Rt(d>>8&255,I>>8&255)<<8|Rt(d>>0&255,I>>0&255))>>>0};var $a=C.PredictorAdd0;C.PredictorAdd1=pt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var ko=C.PredictorAdd2;$t("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),$t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var dc,hi=C.ColorIndexInverseTransform,Dl=C.MapARGB,Nu=C.VP8LColorIndexInverseTransformAlpha,Ol=C.MapAlpha,no=C.VP8LPredictorsAdd=[];no.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var da,di,Yr,fa,No,Io,jl,To,vn,Co,Jr,Ki,Ha,Iu,Wa,Ga,Ka,Qi,Po,ro,Lo,Ro,pa,Mr,Ai,On,Nn,ir,pr=o(511),io=o(2041),Fl=o(225),Qa=o(767),Tu=0,so=io,Ml=Fl,fi=Qa,cs=pr,fc=0,ma=1,Id=2,Cu=3,Pu=4,jn=5,pc=6,Vl=7,Ya=8,Lu=9,Ru=10,Du=[2,3,7],mc=[3,3,11],Ja=[280,256,256,256,40],Td=[0,1,1,1,0],Vp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Up=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gc=8,Ul=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ou=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xa=null,vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ld=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_h=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pi=[],hs=[],ki=[],oo=1,Bl=2,Xr=[],Ni=[];Ve("UpsampleRgbLinePair",Q,3),Ve("UpsampleBgrLinePair",Se,3),Ve("UpsampleRgbaLinePair",Kt,4),Ve("UpsampleBgraLinePair",sn,4),Ve("UpsampleArgbLinePair",Gt,4),Ve("UpsampleRgba4444LinePair",Je,2),Ve("UpsampleRgb565LinePair",Re,2);var qp=C.UpsampleRgbLinePair,$p=C.UpsampleBgrLinePair,ga=C.UpsampleRgbaLinePair,zl=C.UpsampleBgraLinePair,Za=C.UpsampleArgbLinePair,ju=C.UpsampleRgba4444LinePair,bh=C.UpsampleRgb565LinePair,Do=16,js=1<<Do-1,In=-227,Pn=482,ya=6,Vr=0,Ii=o(256),el=o(256),ql=o(256),Ti=o(256),yc=o(Pn-In),Rd=o(Pn-In);kn("YuvToRgbRow",Q,3),kn("YuvToBgrRow",Se,3),kn("YuvToRgbaRow",Kt,4),kn("YuvToBgraRow",sn,4),kn("YuvToArgbRow",Gt,4),kn("YuvToRgba4444Row",Je,2),kn("YuvToRgb565Row",Re,2);var xh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tl=[0,2,8],Dd=[8,7,6,4,4,2,2,2,1,1,1,1],Oo=1;this.WebPDecodeRGBA=function(d,g,x,I,M){var q=ma,W=new Gi,K=new Dn;W.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var Y=K.width,ee=K.height,pe=new ve;if(pe==null||d==null)var Te=2;else e(pe!=null),Te=Os(d,g,x,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Te!=0?Y=0:(Y!=null&&(Y[0]=pe.width[0]),ee!=null&&(ee[0]=pe.height[0]),Y=1),Y){K.width=K.width[0],K.height=K.height[0],I!=null&&(I[0]=K.width),M!=null&&(M[0]=K.height);e:{if(I=new _o,(M=new Ls).data=d,M.w=g,M.ha=x,M.kd=1,g=[0],e(M!=null),((d=Os(M.data,M.w,M.ha,null,null,null,g,null,M))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(W!=null),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=Ft,I.ac=Nt,I.bc=an,I.ma=W,M.xa){if((d=er())==null){W=1;break e}if(function(Ce,Ee){var He=[0],Fe=[0],ge=[0];t:for(;;){if(Ce==null)return 0;if(Ee==null)return Ce.a=2,0;if(Ce.l=Ee,Ce.a=0,ie(Ce.m,Ee.data,Ee.w,Ee.ha),!at(Ce.m,He,Fe,ge)){Ce.a=3;break t}if(Ce.xb=Bl,Ee.width=He[0],Ee.height=Fe[0],!zi(He[0],Fe[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0}(d,I)){if(I=(g=qa(I.width,I.height,W.Oa,W.ba))==0){t:{I=d;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((x=I.l)!=null),e((M=x.ma)!=null),I.xb!=0){if(I.ca=M.ba,I.tb=M.tb,e(I.ca!=null),!Il(M.Oa,x,Cu)){I.a=2;break n}if(!Es(I,x.width)||x.da)break n;if((x.da||en(I.ca.S))&&ke(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&ke()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!kt(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!ar(I,I.V,I.Ba,I.c,I.i,x.o,qs))break n;M.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(g=d.a)}else g=d.a}else{if((d=new Lr)==null){W=1;break e}if(d.Fa=M.na,d.P=M.P,d.qc=M.Sa,Ma(d,I)){if((g=qa(I.width,I.height,W.Oa,W.ba))==0){if(d.Aa=0,x=W.Oa,e((M=d)!=null),x!=null){if(0<(Y=0>(Y=x.Md)?0:100<Y?255:255*Y/100)){for(ee=pe=0;4>ee;++ee)12>(Te=M.pb[ee]).lc&&(Te.ia=Y*Dd[0>Te.lc?0:Te.lc]>>3),pe|=Te.ia;pe&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=x.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}Gs(d,I)||(g=d.a)}}else g=d.a}g==0&&W.Oa!=null&&W.Oa.fd&&(g=Tl(W.ba))}W=g}q=W!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Fu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(C,F){for(var G="",L=0;L<4;L++)G+=String.fromCharCode(C[F++]);return G}function y(C,F){return(C[F+0]<<0|C[F+1]<<8|C[F+2]<<16)>>>0}function _(C,F){return(C[F+0]<<0|C[F+1]<<8|C[F+2]<<16|C[F+3]<<24)>>>0}new h;var S=[0],w=[0],R=[],O=new h,U=n,j=function(C,F){var G={},L=0,D=!1,T=0,se=0;if(G.frames=[],!function(z,J,te,ae){for(var oe=0;oe<ae;oe++)if(z[J+oe]!=te.charCodeAt(oe))return!0;return!1}(C,F,"RIFF",4)){for(_(C,F+=4),F+=8;F<C.length;){var Pe=p(C,F),Ie=_(C,F+=4);F+=4;var we=Ie+(1&Ie);switch(Pe){case"VP8 ":case"VP8L":G.frames[L]===void 0&&(G.frames[L]={}),(fe=G.frames[L]).src_off=D?se:F-8,fe.src_size=T+Ie+8,L++,D&&(D=!1,T=0,se=0);break;case"VP8X":(fe=G.header={}).feature_flags=C[F];var ie=F+4;fe.canvas_width=1+y(C,ie),ie+=3,fe.canvas_height=1+y(C,ie),ie+=3;break;case"ALPH":D=!0,T=we+8,se=F-8;break;case"ANIM":(fe=G.header).bgcolor=_(C,F),ie=F+4,fe.loop_count=(Z=C)[(A=ie)+0]<<0|Z[A+1]<<8,ie+=2;break;case"ANMF":var _e,fe;(fe=G.frames[L]={}).offset_x=2*y(C,F),F+=3,fe.offset_y=2*y(C,F),F+=3,fe.width=1+y(C,F),F+=3,fe.height=1+y(C,F),F+=3,fe.duration=y(C,F),F+=3,_e=C[F++],fe.dispose=1&_e,fe.blend=_e>>1&1}Pe!="ANMF"&&(F+=we)}var Z,A;return G}}(U,0);j.response=U,j.rgbaoutput=!0,j.dataurl=!1;var H=j.header?j.header:null,X=j.frames?j.frames:null;if(H){H.loop_counter=H.loop_count,S=[H.canvas_height],w=[H.canvas_width];for(var he=0;he<X.length&&X[he].blend!=0;he++);}var be=X[0],Ne=O.WebPDecodeRGBA(U,be.src_off,be.src_size,w,S);be.rgba=Ne,be.imgwidth=w[0],be.imgheight=S[0];for(var B=0;B<w[0]*S[0]*4;B++)R[B]=Ne[B];return this.width=w,this.height=S,this.data=R,this}(function(n){var e=function(){return typeof gg=="function"},t=function(S,w,R,O){var U=4,j=l;switch(O){case n.image_compression.FAST:U=1,j=o;break;case n.image_compression.MEDIUM:U=6,j=u;break;case n.image_compression.SLOW:U=9,j=h}S=r(S,w,R,j);var H=gg(S,{level:U});return n.__addimage__.arrayBufferToBinaryString(H)},r=function(S,w,R,O){for(var U,j,H,X=S.length/w,he=new Uint8Array(S.length+X),be=y(),Ne=0;Ne<X;Ne+=1){if(H=Ne*w,U=S.subarray(H,H+w),O)he.set(O(U,R,j),H+Ne);else{for(var B,C=be.length,F=[];B<C;B+=1)F[B]=be[B](U,R,j);var G=_(F.concat());he.set(F[G],H+Ne)}j=U}return he},s=function(S){var w=Array.apply([],S);return w.unshift(0),w},o=function(S,w){var R,O=[],U=S.length;O[0]=1;for(var j=0;j<U;j+=1)R=S[j-w]||0,O[j+1]=S[j]-R+256&255;return O},l=function(S,w,R){var O,U=[],j=S.length;U[0]=2;for(var H=0;H<j;H+=1)O=R&&R[H]||0,U[H+1]=S[H]-O+256&255;return U},u=function(S,w,R){var O,U,j=[],H=S.length;j[0]=3;for(var X=0;X<H;X+=1)O=S[X-w]||0,U=R&&R[X]||0,j[X+1]=S[X]+256-(O+U>>>1)&255;return j},h=function(S,w,R){var O,U,j,H,X=[],he=S.length;X[0]=4;for(var be=0;be<he;be+=1)O=S[be-w]||0,U=R&&R[be]||0,j=R&&R[be-w]||0,H=p(O,U,j),X[be+1]=S[be]-H+256&255;return X},p=function(S,w,R){if(S===w&&w===R)return S;var O=Math.abs(w-R),U=Math.abs(S-R),j=Math.abs(S+w-R-R);return O<=U&&O<=j?S:U<=j?w:R},y=function(){return[s,o,l,u,h]},_=function(S){var w=S.map(function(R){return R.reduce(function(O,U){return O+Math.abs(U)},0)});return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(S,w,R,O){var U,j,H,X,he,be,Ne,B,C,F,G,L,D,T,se,Pe=this.decode.FLATE_DECODE,Ie="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(H=new oS(S)).imgData,j=H.bits,U=H.colorSpace,he=H.colors,[4,6].indexOf(H.colorType)!==-1){if(H.bits===8){C=(B=H.pixelBitlength==32?new Uint32Array(H.decodePixels().buffer):H.pixelBitlength==16?new Uint16Array(H.decodePixels().buffer):new Uint8Array(H.decodePixels().buffer)).length,G=new Uint8Array(C*H.colors),F=new Uint8Array(C);var we,ie=H.pixelBitlength-H.bits;for(T=0,se=0;T<C;T++){for(D=B[T],we=0;we<ie;)G[se++]=D>>>we&255,we+=H.bits;F[T]=D>>>we&255}}if(H.bits===16){C=(B=new Uint32Array(H.decodePixels().buffer)).length,G=new Uint8Array(C*(32/H.pixelBitlength)*H.colors),F=new Uint8Array(C*(32/H.pixelBitlength)),L=H.colors>1,T=0,se=0;for(var _e=0;T<C;)D=B[T++],G[se++]=D>>>0&255,L&&(G[se++]=D>>>16&255,D=B[T++],G[se++]=D>>>0&255),F[_e++]=D>>>16&255;j=8}O!==n.image_compression.NONE&&e()?(S=t(G,H.width*H.colors,H.colors,O),Ne=t(F,H.width,1,O)):(S=G,Ne=F,Pe=void 0)}if(H.colorType===3&&(U=this.color_spaces.INDEXED,be=H.palette,H.transparency.indexed)){var fe=H.transparency.indexed,Z=0;for(T=0,C=fe.length;T<C;++T)Z+=fe[T];if((Z/=255)===C-1&&fe.indexOf(0)!==-1)X=[fe.indexOf(0)];else if(Z!==C){for(B=H.decodePixels(),F=new Uint8Array(B.length),T=0,C=B.length;T<C;T++)F[T]=fe[B[T]];Ne=t(F,H.width,1)}}var A=function(z){var J;switch(z){case n.image_compression.FAST:J=11;break;case n.image_compression.MEDIUM:J=13;break;case n.image_compression.SLOW:J=14;break;default:J=12}return J}(O);return Pe===this.decode.FLATE_DECODE&&(Ie="/Predictor "+A+" "),Ie+="/Colors "+he+" /BitsPerComponent "+j+" /Columns "+H.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(Ne&&this.__addimage__.isArrayBuffer(Ne)||this.__addimage__.isArrayBufferView(Ne))&&(Ne=this.__addimage__.arrayBufferToBinaryString(Ne)),{alias:R,data:S,index:w,filter:Pe,decodeParameters:Ie,transparency:X,palette:be,sMask:Ne,predictor:A,width:H.width,height:H.height,bitsPerComponent:j,colorSpace:U}}}})(Vt.API),function(n){n.processGIF89A=function(e,t,r,s){var o=new aS(e),l=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:u},y=new Bm(100).encode(p,100);return n.processJPEG.call(this,y,t,r,s)},n.processGIF87A=n.processGIF89A}(Vt.API),Wo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){zn.log("bit decode error:"+t)}},Wo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Wo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*s*4,u=o>>4,h=15&o,p=this.palette[u];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*s+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Wo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Wo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,p=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=h,this.data[y+1]=u,this.data[y+2]=l,this.data[y+3]=p}this.pos+=n}},Wo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,p=(l>>11)/e*255|0,y=s*this.width*4+4*o;this.data[y]=p,this.data[y+1]=h,this.data[y+2]=u,this.data[y+3]=255}this.pos+=n}},Wo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Wo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=l}},Wo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,s){var o=new Wo(e,!1),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},p=new Bm(100).encode(h,100);return n.processJPEG.call(this,p,t,r,s)}}(Vt.API),Y2.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,s){var o=new Y2(e),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},p=new Bm(100).encode(h,100);return n.processJPEG.call(this,p,t,r,s)}}(Vt.API),Vt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),u=0,h=0,p=0;p<s;p+=4){var y=r[p],_=r[p+1],S=r[p+2],w=r[p+3];o[u++]=y,o[u++]=_,o[u++]=S,l[h++]=w}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:R,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Vt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dc=Vt.API,pf=Dc.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,h=u.fof?u.fof:1,p=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=p.fof?p.fof:1,_=e.doKerning!==!1,S=0,w=n.length,R=0,O=u[0]||h,U=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+l*(1e3/o)||0)/1e3):(S=_&&Fn(p[r])==="object"&&!isNaN(parseInt(p[r][R],10))?p[r][R]/y:0,U.push((u[r]||O)/h+S)),R=r;return U},W2=Dc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Dc.processArabic&&(n=Dc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:pf.apply(this,arguments).reduce(function(o,l){return o+l},0)},G2=function(n,e,t,r){for(var s=[],o=0,l=n.length,u=0;o!==l&&u+e[o]<t;)u+=e[o],o++;s.push(n.slice(0,o));var h=o;for(u=0;o!==l;)u+e[o]>r&&(s.push(n.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&s.push(n.slice(h,o)),s},K2=function(n,e,t){t||(t={});var r,s,o,l,u,h,p,y=[],_=[y],S=t.textIndent||0,w=0,R=0,O=n.split(" "),U=pf.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?O[0].length+2:t.lineIndent||0){var j=Array(h).join(" "),H=[];O.map(function(he){(he=he.split(/\s*\n/)).length>1?H=H.concat(he.map(function(be,Ne){return(Ne&&be.length?`
`:"")+be})):H.push(he[0])}),O=H,h=W2.apply(this,[j,t])}for(o=0,l=O.length;o<l;o++){var X=0;if(r=O[o],h&&r[0]==`
`&&(r=r.substr(1),X=1),S+w+(R=(s=pf.apply(this,[r,t])).reduce(function(he,be){return he+be},0))>e||X){if(R>e){for(u=G2.apply(this,[r,s,e-(S+w),e]),y.push(u.shift()),y=[u.pop()];u.length;)_.push([u.shift()]);R=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(he,be){return he+be},0)}else y=[r];_.push(y),S=R+h,w=U}else y.push(r),S+=w+R,w=U}return p=h?function(he,be){return(be?j:"")+he.join(" ")}:function(he){return he.join(" ")},_.map(p)},Dc.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var _=this.internal.getFont(y.fontName,y.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,h,p=[];for(u=0,h=r.length;u<h;u++)p=p.concat(K2.apply(this,[r[u],l,o]));return p},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var o=function(_){return"0x"+parseInt(_,10).toString(16)},l=n.__fontmetrics__.compress=function(_){var S,w,R,O,U=["{"];for(var j in _){if(S=_[j],isNaN(parseInt(j,10))?w="'"+j+"'":(j=parseInt(j,10),w=(w=o(j).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof S=="number")S<0?(R=o(S).slice(3),O="-"):(R=o(S).slice(2),O=""),R=O+R.slice(0,-1)+r[R.slice(-1)];else{if(Fn(S)!=="object")throw new Error("Don't know what to do with value type "+Fn(S)+".");R=l(S)}U.push(w+R)}return U.push("}"),U.join("")},u=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,w,R,O,U={},j=1,H=U,X=[],he="",be="",Ne=_.length-1,B=1;B<Ne;B+=1)(O=_[B])=="'"?S?(R=S.join(""),S=void 0):S=[]:S?S.push(O):O=="{"?(X.push([H,R]),H={},R=void 0):O=="}"?((w=X.pop())[0][w[1]]=H,R=void 0,H=w[0]):O=="-"?j=-1:R===void 0?t.hasOwnProperty(O)?(he+=t[O],R=parseInt(he,16)*j,j=1,he=""):he+=O:t.hasOwnProperty(O)?(be+=t[O],H[R]=parseInt(be,16)*j,j=1,R=void 0,be=""):be+=O;return U},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var S=_.font,w=y.Unicode[S.postScriptName];w&&(S.metadata.Unicode={},S.metadata.Unicode.widths=w.widths,S.metadata.Unicode.kerning=w.kerning);var R=p.Unicode[S.postScriptName];R&&(S.metadata.Unicode.encoding=R,S.encoding=R.codePages[0])}])}(Vt.API),function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Kh(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,r)}}])}(Vt),function(n){function e(){return(Bt.canvg?Promise.resolve(Bt.canvg):nd(()=>import("./index.es-CaTUIQiy.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Vt.API.addSvgAsImage=function(t,r,s,o,l,u,h,p){if(isNaN(r)||isNaN(s))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=o,y.height=l;var _=y.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,y.width,y.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(R){return R.fromString(_,t,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(S)}).then(function(){w.addImage(y.toDataURL("image/jpeg",1),r,s,o,l,h,p)})}}(),Vt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Vt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],p=0,y=0,_=0;function S(R,O){var U,j=!1;for(U=0;U<R.length;U+=1)R[U]===O&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(_=0;_<w;_+=1)t[u[_]].value=t[u[_]].defaultValue,t[u[_]].explicitSet=!1}if(Fn(n)==="object"){for(s in n)if(o=n[s],S(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&S(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(p=0;p<o.length;p+=1)if(r=!0,o[p].length===1&&typeof o[p][0]=="number")h.push(String(o[p]-1));else if(o[p].length>1){for(y=0;y<o[p].length;y+=1)typeof o[p][y]!="number"&&(r=!1);r===!0&&h.push([o[p][0]-1,o[p][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,O=[];for(R in t)t[R].explicitSet===!0&&(t[R].type==="name"?O.push("/"+R+" /"+t[R].value):O.push("/"+R+" "+t[R].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+l.length+u.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Vt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,l){for(var u,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],_=0,S=o.length;_<S;++_){if(u=l.metadata.characterToGlyph(o.charCodeAt(_)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=o.charCodeAt(_),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(p[4-u.length],u)}return y.join("")},r=function(o){var l,u,h,p,y,_,S;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],_=0,S=(u=Object.keys(o).sort(function(w,R){return w-R})).length;_<S;_++)l=u[_],h.length>=100&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(p=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,p=l.newObject,y=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var _=u.metadata.Unicode.widths,S=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",R=0;R<S.length;R++)w+=String.fromCharCode(S[R]);var O=p();y({data:w,addLength1:!0,objectId:O}),h("endobj");var U=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:U}),h("endobj");var j=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Mc(u.fontName)),h("/FontFile2 "+O+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var H=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+Mc(u.fontName)),h("/FontDescriptor "+j+" 0 R"),h("/W "+n.API.PDFObject.convert(_)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+U+" 0 R"),h("/BaseFont /"+Mc(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+H+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,p=l.newObject,y=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var _=u.metadata.rawData,S="",w=0;w<_.length;w++)S+=String.fromCharCode(_[w]);var R=p();y({data:S,addLength1:!0,objectId:R}),h("endobj");var O=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:O}),h("endobj");var U=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+R+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Mc(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+Mc(u.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,u=o.text||"",h=o.x,p=o.y,y=o.options||{},_=o.mutex||{},S=_.pdfEscape,w=_.activeFontKey,R=_.fonts,O=w,U="",j=0,H="",X=R[O].encoding;if(R[O].encoding!=="Identity-H")return{text:u,x:h,y:p,options:y,mutex:_};for(H=u,O=w,Array.isArray(u)&&(H=u[0]),j=0;j<H.length;j+=1)R[O].metadata.hasOwnProperty("cmap")&&(l=R[O].metadata.cmap.unicode.codeMap[H[j].charCodeAt(0)]),l||H[j].charCodeAt(0)<256&&R[O].metadata.hasOwnProperty("Unicode")?U+=H[j]:U+="";var he="";return parseInt(O.slice(1))<14||X==="WinAnsiEncoding"?he=S(U,O).split("").map(function(be){return be.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(he=t(U,R[O])),_.isHex=!0,{text:he,x:h,y:p,options:y,mutex:_}};e.events.push(["postProcessText",function(o){var l=o.text||"",u=[],h={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?u.push([s(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):u.push(s(Object.assign({},h,{text:l[p]})).text);o.text=u}else o.text=s(Object.assign({},h,{text:l})).text}])}(Vt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Vt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,l,u,h,p,y,_=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,X=0;this.__bidiEngine__={};var he=function(L){var D=L.charCodeAt(),T=D>>8,se=O[T];return se!==void 0?_[256*se+(255&D)]:T===252||T===253?"AL":j.test(T)?"L":T===8?"R":"N"},be=function(L){for(var D,T=0;T<L.length;T++){if((D=he(L.charAt(T)))==="L")return!1;if(D==="R")return!0}return!1},Ne=function(L,D,T,se){var Pe,Ie,we,ie,_e=D[se];switch(_e){case"L":case"R":H=!1;break;case"N":case"AN":break;case"EN":H&&(_e="AN");break;case"AL":H=!0,_e="R";break;case"WS":_e="N";break;case"CS":se<1||se+1>=D.length||(Pe=T[se-1])!=="EN"&&Pe!=="AN"||(Ie=D[se+1])!=="EN"&&Ie!=="AN"?_e="N":H&&(Ie="AN"),_e=Ie===Pe?Ie:"N";break;case"ES":_e=(Pe=se>0?T[se-1]:"B")==="EN"&&se+1<D.length&&D[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&T[se-1]==="EN"){_e="EN";break}if(H){_e="N";break}for(we=se+1,ie=D.length;we<ie&&D[we]==="ET";)we++;_e=we<ie&&D[we]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(ie=D.length,we=se+1;we<ie&&D[we]==="NSM";)we++;if(we<ie){var fe=L[se],Z=fe>=1425&&fe<=2303||fe===64286;if(Pe=D[we],Z&&(Pe==="R"||Pe==="AL")){_e="R";break}}}_e=se<1||(Pe=D[se-1])==="B"?"N":T[se-1];break;case"B":H=!1,s=!0,_e=X;break;case"S":o=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"BN":_e="N"}return _e},B=function(L,D,T){var se=L.split("");return T&&C(se,T,{hiLevel:X}),se.reverse(),D&&D.reverse(),se.join("")},C=function(L,D,T){var se,Pe,Ie,we,ie,_e=-1,fe=L.length,Z=0,A=[],z=X?w:S,J=[];for(H=!1,s=!1,o=!1,Pe=0;Pe<fe;Pe++)J[Pe]=he(L[Pe]);for(Ie=0;Ie<fe;Ie++){if(ie=Z,A[Ie]=Ne(L,J,A,Ie),se=240&(Z=z[ie][R[A[Ie]]]),Z&=15,D[Ie]=we=z[Z][5],se>0)if(se===16){for(Pe=_e;Pe<Ie;Pe++)D[Pe]=1;_e=-1}else _e=-1;if(z[Z][6])_e===-1&&(_e=Ie);else if(_e>-1){for(Pe=_e;Pe<Ie;Pe++)D[Pe]=we;_e=-1}J[Ie]==="B"&&(D[Ie]=0),T.hiLevel|=we}o&&function(te,ae,oe){for(var ue=0;ue<oe;ue++)if(te[ue]==="S"){ae[ue]=X;for(var Ae=ue-1;Ae>=0&&te[Ae]==="WS";Ae--)ae[Ae]=X}}(J,D,fe)},F=function(L,D,T,se,Pe){if(!(Pe.hiLevel<L)){if(L===1&&X===1&&!s)return D.reverse(),void(T&&T.reverse());for(var Ie,we,ie,_e,fe=D.length,Z=0;Z<fe;){if(se[Z]>=L){for(ie=Z+1;ie<fe&&se[ie]>=L;)ie++;for(_e=Z,we=ie-1;_e<we;_e++,we--)Ie=D[_e],D[_e]=D[we],D[we]=Ie,T&&(Ie=T[_e],T[_e]=T[we],T[we]=Ie);Z=ie}Z++}}},G=function(L,D,T){var se=L.split(""),Pe={hiLevel:X};return T||(T=[]),C(se,T,Pe),function(Ie,we,ie){if(ie.hiLevel!==0&&y)for(var _e,fe=0;fe<Ie.length;fe++)we[fe]===1&&(_e=U.indexOf(Ie[fe]))>=0&&(Ie[fe]=U[_e+1])}(se,T,Pe),F(2,se,D,T,Pe),F(1,se,D,T,Pe),se.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,T){if(function(Pe,Ie){if(Ie)for(var we=0;we<Pe.length;we++)Ie[we]=we;u===void 0&&(u=be(Pe)),p===void 0&&(p=be(Pe))}(L,D),l||!h||p)if(l&&h&&u^p)X=u?1:0,L=B(L,D,T);else if(!l&&h&&p)X=u?1:0,L=G(L,D,T),L=B(L,D);else if(!l||u||h||p){if(l&&!h&&u^p)L=B(L,D),u?(X=0,L=G(L,D,T)):(X=1,L=G(L,D,T),L=B(L,D));else if(l&&u&&!h&&p)X=1,L=G(L,D,T),L=B(L,D);else if(!l&&!h&&u^p){var se=y;u?(X=1,L=G(L,D,T),X=0,y=!1,L=G(L,D,T),y=se):(X=0,L=G(L,D,T),L=B(L,D),X=1,y=!1,L=G(L,D,T),y=se,L=B(L,D))}}else X=0,L=G(L,D,T);else X=u?1:0,L=G(L,D,T);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,h=L.isOutputVisual,u=L.isInputRtl,p=L.isOutputRtl,y=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(l=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?l.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):l.push([t.doBidiReorder(s[u])]);r.text=l}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new yu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new xS(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new lS(this.contents),this.head=new cS(this),this.name=new mS(this),this.cmap=new L5(this),this.toUnicode={},this.hhea=new hS(this),this.maxp=new gS(this),this.hmtx=new yS(this),this.post=new fS(this),this.os2=new dS(this),this.loca=new bS(this),this.glyf=new vS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,p;for(p=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,l,u;for(l=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var na,yu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,l,u,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*l+256*u+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),lS=function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,l,u,h,p,y,_,S,w,R,O;for(O in w=Object.keys(t).length,h=Math.log(2),_=16*Math.floor(Math.log(w)/h),l=Math.floor(_/h),y=16*w-_,(s=new yu).writeInt(this.scalarType),s.writeShort(w),s.writeShort(_),s.writeShort(l),s.writeShort(y),o=16*w,p=s.pos+o,u=null,R=[],t)for(S=t[O],s.writeString(O),s.writeInt(n(S)),s.writeInt(p),s.writeInt(S.length),R=R.concat(S),O==="head"&&(u=p),p+=S.length;p%4;)R.push(0),p++;return s.write(R),r=2981146554-n(s.data),s.pos=u+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,l;for(t=R5.call(t);t.length%4;)t.push(0);for(o=new yu(t),s=0,r=0,l=t.length;r<l;r=r+=4)s+=o.readUInt32();return 4294967295&s},e}(),uS={}.hasOwnProperty,Oa=function(n,e){for(var t in e)uS.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};na=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var cS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new yu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),J2=function(){function n(e,t){var r,s,o,l,u,h,p,y,_,S,w,R,O,U,j,H,X;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),S=w/2,e.pos+=6,o=function(){var he,be;for(be=[],h=he=0;0<=S?he<S:he>S;h=0<=S?++he:--he)be.push(e.readUInt16());return be}(),e.pos+=2,O=function(){var he,be;for(be=[],h=he=0;0<=S?he<S:he>S;h=0<=S?++he:--he)be.push(e.readUInt16());return be}(),p=function(){var he,be;for(be=[],h=he=0;0<=S?he<S:he>S;h=0<=S?++he:--he)be.push(e.readUInt16());return be}(),y=function(){var he,be;for(be=[],h=he=0;0<=S?he<S:he>S;h=0<=S?++he:--he)be.push(e.readUInt16());return be}(),s=(this.length-e.pos+this.offset)/2,u=function(){var he,be;for(be=[],h=he=0;0<=s?he<s:he>s;h=0<=s?++he:--he)be.push(e.readUInt16());return be}(),h=j=0,X=o.length;j<X;h=++j)for(U=o[h],r=H=R=O[h];R<=U?H<=U:H>=U;r=R<=U?++H:--H)y[h]===0?l=r+p[h]:(l=u[y[h]/2+(r-R)-(S-h)]||0)!==0&&(l+=p[h]),this.codeMap[r]=65535&l}e.pos=_}return n.encode=function(e,t){var r,s,o,l,u,h,p,y,_,S,w,R,O,U,j,H,X,he,be,Ne,B,C,F,G,L,D,T,se,Pe,Ie,we,ie,_e,fe,Z,A,z,J,te,ae,oe,ue,Ae,We,$e,Ye;switch(se=new yu,l=Object.keys(e).sort(function(it,kt){return it-kt}),t){case"macroman":for(O=0,U=function(){var it=[];for(R=0;R<256;++R)it.push(0);return it}(),H={0:0},o={},Pe=0,_e=l.length;Pe<_e;Pe++)H[Ae=e[s=l[Pe]]]==null&&(H[Ae]=++O),o[s]={old:e[s],new:H[e[s]]},U[s]=H[e[s]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(U),{charMap:o,subtable:se.data,maxGlyphID:O+1};case"unicode":for(D=[],_=[],X=0,H={},r={},j=p=null,Ie=0,fe=l.length;Ie<fe;Ie++)H[be=e[s=l[Ie]]]==null&&(H[be]=++X),r[s]={old:be,new:H[be]},u=H[be]-s,j!=null&&u===p||(j&&_.push(j),D.push(s),p=u),j=s;for(j&&_.push(j),_.push(65535),D.push(65535),G=2*(F=D.length),C=2*Math.pow(Math.log(F)/Math.LN2,2),S=Math.log(C/2)/Math.LN2,B=2*F-C,h=[],Ne=[],w=[],R=we=0,Z=D.length;we<Z;R=++we){if(L=D[R],y=_[R],L===65535){h.push(0),Ne.push(0);break}if(L-(T=r[L].new)>=32768)for(h.push(0),Ne.push(2*(w.length+F-R)),s=ie=L;L<=y?ie<=y:ie>=y;s=L<=y?++ie:--ie)w.push(r[s].new);else h.push(T-L),Ne.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*F+2*w.length),se.writeUInt16(0),se.writeUInt16(G),se.writeUInt16(C),se.writeUInt16(S),se.writeUInt16(B),oe=0,A=_.length;oe<A;oe++)s=_[oe],se.writeUInt16(s);for(se.writeUInt16(0),ue=0,z=D.length;ue<z;ue++)s=D[ue],se.writeUInt16(s);for(We=0,J=h.length;We<J;We++)u=h[We],se.writeUInt16(u);for($e=0,te=Ne.length;$e<te;$e++)he=Ne[$e],se.writeUInt16(he);for(Ye=0,ae=w.length;Ye<ae;Ye++)O=w[Ye],se.writeUInt16(O);return{charMap:r,subtable:se.data,maxGlyphID:X+1}}},n}(),L5=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new J2(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,o;return r==null&&(r="macroman"),s=J2.encode(t,r),(o=new yu).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e}(),hS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),dS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),fS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(s=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)p.push(t.readUInt32());return p}).call(this)}},e}(),pS=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,o,l,u,h,p,y,_,S,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),h=t.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(p={},l=_=0,S=s.length;_<S;l=++_)o=s[l],t.pos=o.offset,y=t.readString(o.length),u=new pS(y,o),p[w=o.nameID]==null&&(p[w]=[]),p[o.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e}(),gS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),yS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,o,l,u,h,p;for(t.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,_;for(_=[],r=y=0;0<=o?y<o:y>o;r=0<=o?++y:--y)_.push(t.readInt16());return _}(),this.widths=(function(){var y,_,S,w;for(w=[],y=0,_=(S=this.metrics).length;y<_;y++)l=S[y],w.push(l.advance);return w}).call(this),s=this.widths[this.widths.length-1],p=[],r=u=0;0<=o?u<o:u>o;r=0<=o?++u:--u)p.push(this.widths.push(s));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),R5=[].slice,vS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,o,l,u,h,p,y,_,S;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,u=(h=new yu(r.read(o))).readShort(),y=h.readShort(),S=h.readShort(),p=h.readShort(),_=h.readShort(),this.cache[t]=u===-1?new _S(h,y,S,p,_):new wS(h,u,y,S,p,_),this.cache[t]))},e.prototype.encode=function(t,r,s){var o,l,u,h,p;for(u=[],l=[],h=0,p=r.length;h<p;h++)o=t[r[h]],l.push(u.length),o&&(u=u.concat(o.encode(s)));return l.push(u.length),{table:u,offsets:l}},e}(),wS=function(){function n(e,t,r,s,o,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),_S=function(){function n(e,t,r,s,o){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new yu(R5.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),bS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Oa(e,na),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<s.length;++u)if(s[u]=o,l<r.length&&r[l]==u){++l,s[u]=o;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(o+=p)}for(var y=new Array(4*s.length),_=0;_<s.length;++_)y[4*_+3]=255&s[_],y[4*_+2]=(65280&s[_])>>8,y[4*_+1]=(16711680&s[_])>>16,y[4*_]=(4278190080&s[_])>>24;return y},e}(),xS=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,l,u,h;for(s={},l=0,u=e.length;l<u;l++)s[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))r=h[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,l,u,h,p,y,_,S,w,R,O,U,j;for(s in r=L5.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),w={0:0},j=r.charMap)w[(h=j[s]).old]=h.new;for(R in S=r.maxGlyphID,l)R in w||(w[R]=S++);return y=function(H){var X,he;for(X in he={},H)he[H[X]]=X;return he}(w),_=Object.keys(y).sort(function(H,X){return H-X}),O=function(){var H,X,he;for(he=[],H=0,X=_.length;H<X;H++)u=_[H],he.push(y[u]);return he}(),o=this.font.glyf.encode(l,O,w),p=this.font.loca.encode(o.offsets,O),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n}();Vt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,l;if(Array.isArray(t))return"["+function(){var u,h,p;for(p=[],u=0,h=t.length;u<h;u++)r=t[u],p.push(e.convert(r));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)l=t[s],o.push("/"+s+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e}();const Sg=async n=>{try{const e=new Vt,t=e.internal.pageSize.width,r=20,s=7;let o=r;e.setFont("helvetica","normal"),e.setFontSize(16),e.setFont("helvetica","bold");const l=n.title||"Untitled Note";e.text(l,r,o),o+=s*2,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100);const u=n.createdAt.toLocaleDateString(),h=n.updatedAt.toLocaleDateString();e.text(`Created: ${u}`,r,o),o+=s,e.text(`Updated: ${h}`,r,o),o+=s*2,n.category&&(e.text(`Category: ${n.category}`,r,o),o+=s*2),e.setTextColor(0,0,0),e.setFontSize(12);const p=n.content||"No content",y=e.splitTextToSize(p,t-2*r);for(let S=0;S<y.length;S++)o+s>e.internal.pageSize.height-r&&(e.addPage(),o=r),e.text(y[S],r,o),o+=s;const _=`${l.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`;return e.save(_),!0}catch(e){return console.error("Error exporting to PDF:",e),!1}},D5=n=>{try{const e=n.title||"Untitled Note",t=n.content||"No content",r=n.createdAt.toLocaleDateString(),s=n.updatedAt.toLocaleDateString();let o=`${e}
`;o+=`${"=".repeat(e.length)}

`,o+=`Created: ${r}
`,o+=`Updated: ${s}
`,n.category&&(o+=`Category: ${n.category}
`),o+=`
${t}`;const l=new Blob([o],{type:"text/plain"}),u=URL.createObjectURL(l),h=document.createElement("a");return h.href=u,h.download=`${e.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(u),!0}catch(e){return console.error("Error exporting to TXT:",e),!1}},O5=n=>{try{let e=`All Notes Export
`;e+=`================

`,n.forEach((o,l)=>{const u=o.title||"Untitled Note",h=o.content||"No content",p=o.createdAt.toLocaleDateString();e+=`${l+1}. ${u}
`,e+=`Created: ${p}
`,o.category&&(e+=`Category: ${o.category}
`),e+=`${"-".repeat(50)}
`,e+=`${h}

`,e+=`${"=".repeat(50)}

`});const t=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(t),s=document.createElement("a");return s.href=r,s.download=`all_notes_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),!0}catch(e){return console.error("Error exporting all notes to TXT:",e),!1}},X2=Object.freeze(Object.defineProperty({__proto__:null,exportAllNotesToTXT:O5,exportToPDF:Sg,exportToTXT:D5},Symbol.toStringTag,{value:"Module"})),SS=({folders:n,notes:e,selectedFolderId:t,selectedNote:r,searchQuery:s,selectedCategory:o,onSelectFolder:l,onSelectNote:u,onCreateFolder:h,onUpdateFolder:p,onDeleteFolder:y,onCreateNote:_,onToggleFolder:S,onDeleteNote:w})=>{const[R,O]=ce.useState(null),[U,j]=ce.useState(""),[H,X]=ce.useState(null),he=()=>n.filter(A=>A.parentId===null),be=A=>n.filter(z=>z.parentId===A),Ne=A=>e.filter(z=>{const J=z.folderId===A,te=s===""||z.title.toLowerCase().includes(s.toLowerCase())||z.content.toLowerCase().includes(s.toLowerCase()),ae=o==="All"||z.category===o;return J&&te&&ae}),B=async A=>{const z=Ne(A.id);if(z.length===0){alert("This folder contains no notes to export.");return}for(const J of z)await Sg(J)},C=A=>{const z=Ne(A.id);if(z.length===0){alert("This folder contains no notes to export.");return}const J=z.map(ue=>`# ${ue.title||"Untitled"}

${ue.content.replace(/<[^>]*>/g,"")}

Created: ${ue.createdAt.toLocaleDateString()}
Updated: ${ue.updatedAt.toLocaleDateString()}
Category: ${ue.category||"None"}

---

`).join(""),te=new Blob([J],{type:"text/plain"}),ae=URL.createObjectURL(te),oe=document.createElement("a");oe.href=ae,oe.download=`${A.name}-notes.txt`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ae)},F=(A,z)=>{A.preventDefault(),A.stopPropagation(),X({x:A.clientX,y:A.clientY,folderId:z,noteId:null,type:"folder"})},G=(A,z)=>{A.preventDefault(),A.stopPropagation(),X({x:A.clientX,y:A.clientY,folderId:null,noteId:z,type:"note"})},L=A=>{O(A.id),j(A.name),X(null)},D=()=>{if(R&&U.trim()){const A=n.find(z=>z.id===R);A&&p({...A,name:U.trim(),updatedAt:new Date})}O(null),j("")},T=A=>{A.key==="Enter"?D():A.key==="Escape"&&(O(null),j(""))},se=A=>{const z=`# ${A.title||"Untitled"}

${A.content.replace(/<[^>]*>/g,"")}

Created: ${A.createdAt.toLocaleDateString()}
Updated: ${A.updatedAt.toLocaleDateString()}
Category: ${A.category||"None"}`,J=new Blob([z],{type:"text/markdown"}),te=URL.createObjectURL(J),ae=document.createElement("a");ae.href=te,ae.download=`${A.title||"untitled"}.md`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(te),X(null)},Pe=A=>{const z=Ne(A),J=A?n.find(Ae=>Ae.id===A)?.name||"folder":"root";if(z.length===0){alert("This folder contains no notes to export."),X(null);return}const te=z.map(Ae=>`# ${Ae.title||"Untitled"}

${Ae.content.replace(/<[^>]*>/g,"")}

Created: ${Ae.createdAt.toLocaleDateString()}
Updated: ${Ae.updatedAt.toLocaleDateString()}
Category: ${Ae.category||"None"}

---

`).join(""),ae=new Blob([te],{type:"text/markdown"}),oe=URL.createObjectURL(ae),ue=document.createElement("a");ue.href=oe,ue.download=`${J}-notes.md`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(oe),X(null)},Ie=async A=>{const z={title:A.title||"Untitled Note",text:A.content.replace(/<[^>]*>/g,"")};if(navigator.share)try{await navigator.share(z)}catch{console.log("Share cancelled")}else{const J=`${A.title||"Untitled"}

${A.content.replace(/<[^>]*>/g,"")}`;navigator.clipboard.writeText(J).then(()=>{alert("Note content copied to clipboard!")}).catch(()=>{alert("Failed to copy to clipboard")})}X(null)},we=async A=>{const z=Ne(A),J=A?n.find(oe=>oe.id===A)?.name||"folder":"root";if(z.length===0){alert("This folder contains no notes to share."),X(null);return}const te=z.map(oe=>`${oe.title||"Untitled"}
${oe.content.replace(/<[^>]*>/g,"")}`).join(`

---

`),ae={title:`Notes from ${J}`,text:te};if(navigator.share)try{await navigator.share(ae)}catch{console.log("Share cancelled")}else navigator.clipboard.writeText(te).then(()=>{alert("Folder content copied to clipboard!")}).catch(()=>{alert("Failed to copy to clipboard")});X(null)},ie=A=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(A),_e=(A,z=60)=>{const J=A.replace(/<[^>]*>/g,"");return J.length>z?J.substring(0,z)+"...":J},fe=(A,z=0)=>{const J=be(A.id),te=Ne(A.id),ae=t===A.id,oe=J.length>0||te.length>0;return N.jsxs("div",{className:"select-none",children:[N.jsxs("div",{className:`flex items-center px-2 py-2 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-[1.01] group shadow-sm hover:shadow-md ${ae?"shadow-lg scale-[1.01]":"hover:bg-selected"}`,style:{paddingLeft:`${8+z*16}px`,backgroundColor:ae?"var(--selected)":"var(--bg-card)",...ae&&{borderLeft:"4px solid var(--accent)"}},onClick:()=>l(A.id),onContextMenu:ue=>F(ue,A.id),children:[N.jsx("button",{onClick:ue=>{ue.stopPropagation(),S(A.id)},className:"p-1 hover:bg-gradient-to-r hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900 dark:hover:to-indigo-900 rounded-lg mr-1 transition-all duration-200",children:oe?A.isExpanded?N.jsx(og,{size:14,className:"text-blue-600 dark:text-blue-400 transition-transform duration-200"}):N.jsx(r3,{size:14,className:"text-blue-600 dark:text-blue-400 transition-transform duration-200"}):N.jsx("div",{className:"w-4 h-4"})}),A.isExpanded?N.jsx(a3,{size:16,className:"mr-2 transition-all duration-200",style:{color:"var(--accent)"}}):N.jsx(l3,{size:16,className:"mr-2 transition-all duration-200",style:{color:"var(--accent)"}}),R===A.id?N.jsx("input",{type:"text",value:U,onChange:ue=>j(ue.target.value),onBlur:D,onKeyDown:T,className:"flex-1 px-2 py-1 text-sm border rounded-lg focus:outline-none focus:ring-2 shadow-inner focus:ring-accent",style:{backgroundColor:"var(--input-bg)",borderColor:"var(--border)",color:"var(--text-primary)"},autoFocus:!0}):N.jsx("span",{className:"flex-1 text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:A.name}),N.jsx("button",{onClick:ue=>{ue.stopPropagation(),_(A.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 bg-gradient-to-r from-gray-100 to-slate-100 hover:from-blue-100 hover:to-indigo-100 dark:from-gray-800 dark:to-slate-800 dark:hover:from-blue-900 dark:hover:to-indigo-900 rounded-lg ml-1 transition-all duration-300 transform hover:scale-110 shadow-sm hover:shadow-md",title:"Add note",children:N.jsx(d5,{size:12,className:"text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"})})]}),A.isExpanded&&N.jsxs("div",{children:[J.map(ue=>fe(ue,z+1)),te.map(ue=>N.jsxs("div",{className:`group flex items-center px-2 py-2 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-[1.01] relative shadow-sm hover:shadow-md ${r?.id===ue.id?"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 shadow-lg scale-[1.01] dark:from-blue-900/30 dark:to-indigo-900/30 dark:border-blue-400":"bg-white/60 hover:bg-white dark:bg-zinc-800/40 dark:hover:bg-zinc-800"}`,style:{paddingLeft:`${24+(z+1)*16}px`},onContextMenu:Ae=>G(Ae,ue.id),children:[N.jsx(k2,{size:14,className:"mr-2 text-blue-600 dark:text-blue-400 flex-shrink-0 transition-colors duration-200"}),N.jsxs("div",{onClick:()=>u(ue),className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:ue.title||"Untitled"}),N.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 flex-shrink-0 font-medium",children:ie(ue.updatedAt)})]}),ue.content&&N.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:_e(ue.content)})]})]},ue.id))]})]},A.id)},Z=Ne(null);return N.jsxs("div",{className:"flex-1 overflow-y-auto pt-2 scrollbar-hide",style:{backgroundColor:"var(--bg-card)"},children:[Z.map(A=>N.jsxs("div",{className:`group flex items-center px-2 py-2 mx-2 mb-1 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-[1.02] relative shadow-sm hover:shadow-md ${r?.id===A.id?"border-l-4 shadow-lg scale-[1.02]":"hover:bg-selected"}`,style:r?.id===A.id?{backgroundColor:"var(--selected)",borderColor:"var(--accent)"}:{backgroundColor:"var(--bg-card)"},onContextMenu:z=>G(z,A.id),children:[N.jsx(k2,{size:14,className:"mr-2 flex-shrink-0 transition-colors duration-200",style:{color:"var(--accent)"}}),N.jsxs("div",{onClick:()=>u(A),className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsx("span",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:A.title||"Untitled"}),N.jsx("span",{className:"text-xs ml-2 flex-shrink-0 font-medium",style:{color:"var(--text-secondary)"},children:ie(A.updatedAt)})]}),A.content&&N.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-secondary)"},children:_e(A.content)})]})]},A.id)),he().map(A=>fe(A)),H&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>X(null)}),N.jsxs("div",{className:"fixed z-50 bg-white/95 backdrop-blur-md dark:bg-zinc-900/95 border border-gray-200/50 dark:border-zinc-700/50 rounded-xl shadow-2xl py-2 min-w-48 animate-in fade-in zoom-in-95 duration-200",style:{left:H.x,top:H.y},children:[H.type==="folder"&&N.jsxs(N.Fragment,{children:[N.jsxs("button",{onClick:()=>{h("New Folder",H.folderId||null),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/20 dark:hover:to-indigo-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(lg,{size:16,className:"mr-3 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-200"}),"New Folder"]}),N.jsxs("button",{onClick:()=>{_(H.folderId||null),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 dark:hover:from-green-900/20 dark:hover:to-emerald-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(u5,{size:16,className:"mr-3 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform duration-200"}),"New Note"]}),N.jsx("div",{className:"border-t border-gray-100 dark:border-zinc-600 my-2"}),H.folderId&&N.jsxs("button",{onClick:()=>{const A=n.find(z=>z.id===H.folderId);A&&L(A)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 dark:hover:from-yellow-900/20 dark:hover:to-orange-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(_3,{size:16,className:"mr-3 text-yellow-600 dark:text-yellow-400 group-hover:scale-110 transition-transform duration-200"}),"Rename"]}),N.jsxs("button",{onClick:()=>Pe(H.folderId||null),className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 dark:hover:from-purple-900/20 dark:hover:to-pink-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(zf,{size:16,className:"mr-3 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform duration-200"}),"Export as MD"]}),N.jsxs("button",{onClick:()=>{const A=n.find(z=>z.id===H.folderId);A&&B(A),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(A2,{size:16,className:"mr-3 text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform duration-200"}),"Export as PDF"]}),N.jsxs("button",{onClick:()=>{const A=n.find(z=>z.id===H.folderId);A&&C(A),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 dark:hover:from-green-900/20 dark:hover:to-emerald-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(ag,{size:16,className:"mr-3 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform duration-200"}),"Export as TXT"]}),N.jsxs("button",{onClick:()=>we(H.folderId||null),className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-indigo-50 hover:to-blue-50 dark:hover:from-indigo-900/20 dark:hover:to-blue-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(C2,{size:16,className:"mr-3 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform duration-200"}),"Share Folder"]}),H.folderId&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"border-t border-gray-100 dark:border-zinc-600 my-2"}),N.jsxs("button",{onClick:()=>{confirm("Delete this folder? Notes will be moved to root.")&&y(H.folderId),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 text-red-600 dark:text-red-400 flex items-center transition-all duration-200 group",children:[N.jsx(P2,{size:16,className:"mr-3 group-hover:scale-110 transition-transform duration-200"}),"Delete Folder"]})]})]}),H.type==="note"&&H.noteId&&N.jsxs(N.Fragment,{children:[N.jsxs("button",{onClick:()=>{const A=e.find(z=>z.id===H.noteId);A&&(Sg(A),X(null))},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(A2,{size:16,className:"mr-3 text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform duration-200"}),"Export as PDF"]}),N.jsxs("button",{onClick:()=>{const A=e.find(z=>z.id===H.noteId);A&&(D5(A),X(null))},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 dark:hover:from-green-900/20 dark:hover:to-emerald-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(ag,{size:16,className:"mr-3 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform duration-200"}),"Export as TXT"]}),N.jsxs("button",{onClick:()=>{const A=e.find(z=>z.id===H.noteId);A&&se(A)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(zf,{size:16,className:"mr-3 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform duration-200"}),"Export as Markdown"]}),N.jsxs("button",{onClick:()=>{const A=e.find(z=>z.id===H.noteId);A&&Ie(A)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 dark:hover:from-blue-900/20 dark:hover:to-cyan-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(C2,{size:16,className:"mr-3 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-200"}),"Share Note"]}),N.jsxs("button",{onClick:()=>{const A=e.find(z=>z.id===H.noteId);if(A){const z=`${A.title||"Untitled"}

${A.content.replace(/<[^>]*>/g,"")}`;navigator.clipboard.writeText(z).then(()=>{alert("Note copied to clipboard!")}).catch(()=>{alert("Failed to copy to clipboard")})}X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 dark:hover:from-yellow-900/20 dark:hover:to-orange-900/20 flex items-center text-gray-900 dark:text-white transition-all duration-200 group",children:[N.jsx(s3,{size:16,className:"mr-3 text-yellow-600 dark:text-yellow-400 group-hover:scale-110 transition-transform duration-200"}),"Copy Note"]}),N.jsx("div",{className:"border-t border-gray-100 dark:border-zinc-600 my-2"}),N.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this note?")&&w(H.noteId),X(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 text-red-600 dark:text-red-400 flex items-center transition-all duration-200 group",children:[N.jsx(P2,{size:16,className:"mr-3 group-hover:scale-110 transition-transform duration-200"}),"Delete"]})]})]})]})]})},ES=({isOpen:n,onClose:e,onImportNotes:t,onImportFolders:r})=>{const[s,o]=ce.useState(!1);if(!n)return null;const l=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?o(!0):y.type==="dragleave"&&o(!1)},u=y=>{y.preventDefault(),y.stopPropagation(),o(!1);const _=Array.from(y.dataTransfer.files);p(_)},h=y=>{const _=Array.from(y.target.files||[]);p(_)},p=async y=>{const _=[],S=[];for(const w of y)try{const R=await w.text();if(w.name.endsWith(".json")){const O=JSON.parse(R);O.notes&&_.push(...O.notes),O.folders&&S.push(...O.folders)}else if(w.name.endsWith(".md")||w.name.endsWith(".txt")){const O={id:Date.now().toString()+Math.random(),title:w.name.replace(/\.(md|txt)$/,""),content:R,category:"",folderId:null,createdAt:new Date,updatedAt:new Date};_.push(O)}}catch(R){console.error("Error importing file:",w.name,R),alert(`Error importing ${w.name}: ${R}`)}_.length>0&&t(_),S.length>0&&r(S),e()};return N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 w-96 max-w-90vw",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Import Files"}),N.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded",children:N.jsx(i0,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),N.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${s?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-zinc-600"}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:u,children:[N.jsx(zf,{size:48,className:"mx-auto mb-4 text-gray-400"}),N.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Drag and drop files here, or click to select"}),N.jsx("input",{type:"file",multiple:!0,accept:".json,.md,.txt",onChange:h,className:"hidden",id:"file-input"}),N.jsxs("label",{htmlFor:"file-input",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[N.jsx(c5,{size:16,className:"mr-2"}),"Select Files"]})]}),N.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[N.jsx("p",{className:"mb-2",children:"Supported formats:"}),N.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[N.jsx("li",{children:"JSON files (exported from this app)"}),N.jsx("li",{children:"Markdown files (.md)"}),N.jsx("li",{children:"Text files (.txt)"})]})]})]})})},AS=({notes:n,isOpen:e,onClose:t,onSelectNote:r,onNavigateToText:s})=>{const[o,l]=ce.useState(""),[u,h]=ce.useState(!1),p=ce.useMemo(()=>{if(!o.trim())return[];const _=[],S=u?o:o.toLowerCase();return n.forEach(w=>{const R=u?w.title:w.title.toLowerCase(),O=u?w.content:w.content.toLowerCase(),U=`${R} ${O}`,j=[];let H=0;for(;H<U.length;){const X=U.indexOf(S,H);if(X===-1)break;const he=Math.max(0,X-50),be=Math.min(U.length,X+S.length+50),Ne=U.substring(he,be),B=Ne.substring(0,X-he),C=Ne.substring(X-he,X-he+S.length),F=Ne.substring(X-he+S.length),G=`${B}<mark class="bg-yellow-200 dark:bg-yellow-600 px-1 rounded">${C}</mark>${F}`;j.push({context:Ne,highlightedContext:G,position:X}),H=X+1}j.length>0&&_.push({note:w,matches:j.slice(0,5),totalMatches:j.length})}),_.sort((w,R)=>R.totalMatches-w.totalMatches)},[n,o,u]),y=_=>{r(_.note),s(_.note,o),t()};return e?N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg w-11/12 max-w-4xl h-5/6 flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-zinc-700",children:[N.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Search References"}),N.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors duration-200",children:N.jsx(i0,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),N.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-zinc-700",children:[N.jsxs("div",{className:"relative mb-3",children:[N.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:16}),N.jsx("input",{type:"text",placeholder:"Search for text references across all notes...",value:o,onChange:_=>l(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-zinc-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",autoFocus:!0})]}),N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[N.jsx("input",{type:"checkbox",checked:u,onChange:_=>h(_.target.checked),className:"rounded border-gray-300 dark:border-zinc-600 text-blue-600 focus:ring-blue-500"}),N.jsx("span",{children:"Case sensitive"})]}),o&&N.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Found ",p.reduce((_,S)=>_+S.totalMatches,0)," matches in ",p.length," notes"]})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?p.length===0?N.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:[N.jsx(Gh,{size:48,className:"mx-auto mb-4 opacity-50"}),N.jsxs("p",{children:['No matches found for "',o,'"']})]}):N.jsx("div",{className:"space-y-4",children:p.map(_=>N.jsxs("div",{className:"border border-gray-200 dark:border-zinc-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-zinc-800 cursor-pointer transition-colors duration-200",onClick:()=>y(_),children:[N.jsxs("div",{className:"flex items-start justify-between mb-3",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:_.note.title||"Untitled Note"}),N.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[N.jsxs("div",{className:"flex items-center space-x-1",children:[N.jsx(a5,{size:12}),N.jsx("span",{children:new Date(_.note.updatedAt).toLocaleDateString()})]}),_.note.category&&N.jsxs("div",{className:"flex items-center space-x-1",children:[N.jsx(y3,{size:12}),N.jsx("span",{children:_.note.category})]})]})]}),N.jsxs("div",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:[_.totalMatches," match",_.totalMatches!==1?"es":""]})]}),N.jsxs("div",{className:"space-y-2",children:[_.matches.map((S,w)=>N.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-zinc-900 p-2 rounded border-l-2 border-blue-500",children:N.jsx("div",{dangerouslySetInnerHTML:{__html:`...${S.highlightedContext}...`}})},w)),_.totalMatches>_.matches.length&&N.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["And ",_.totalMatches-_.matches.length," more matches..."]})]})]},_.note.id))}):N.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:[N.jsx(Gh,{size:48,className:"mx-auto mb-4 opacity-50"}),N.jsx("p",{children:"Enter a search term to find references across all notes"})]})})]})}):null},kS=({notes:n,folders:e,selectedNote:t,selectedFolderId:r,onSelectNote:s,onSelectFolder:o,onCreateNote:l,onCreateFolder:u,onUpdateFolder:h,onDeleteFolder:p,onDeleteNote:y,onToggleFolder:_,searchQuery:S,onSearchChange:w,selectedCategory:R,onCategoryChange:O,onNavigateToText:U})=>{const j=fp(),[H,X]=ce.useState(!1),[he,be]=ce.useState(!1),[Ne,B]=ce.useState(!1),[C,F]=ce.useState(""),[G,L]=ce.useState(!1);ce.useEffect(()=>{const Z=A=>{if((A.metaKey||A.ctrlKey)&&A.key==="f"){const z=document.activeElement,J=z&&(z.closest(".notes-list-container")!==null||z.id==="notes-search-input"||z.tagName==="BODY"),te=z&&(z.getAttribute("contenteditable")==="true"||z.closest('[contenteditable="true"]')!==null);if(J&&!te){A.preventDefault();const ae=document.getElementById("notes-search-input");ae&&(ae.focus(),ae.select())}}};return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[]);const D=["All",...new Set(n.map(Z=>Z.category).filter(Boolean))],T=n.filter(Z=>{const A=Z.title.toLowerCase().includes(S.toLowerCase())||Z.content.toLowerCase().includes(S.toLowerCase()),z=R==="All"||Z.category===R,J=r===null||Z.folderId===r;return A&&z&&J}),se=(Z,A)=>{if(!A.trim())return Z;const z=new RegExp(`(${A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return Z.split(z).map((te,ae)=>z.test(te)?N.jsx("mark",{style:{backgroundColor:"var(--accent)",color:"white",padding:"1px 2px",borderRadius:"2px"},children:te},ae):te)},Pe=()=>{B(!0),X(!1)},Ie=()=>{C.trim()&&u(C.trim(),r),B(!1),F("")},we=()=>{B(!1),F("")},ie=Z=>{Z.forEach(A=>{const z={...A,id:Date.now().toString()+Math.random(),createdAt:new Date(A.createdAt),updatedAt:new Date(A.updatedAt)};console.log("Imported note:",z)})},_e=Z=>{Z.forEach(A=>{const z={...A,id:Date.now().toString()+Math.random(),createdAt:new Date(A.createdAt),updatedAt:new Date(A.updatedAt)};console.log("Imported folder:",z)})},fe=()=>{const Z={notes:n,folders:e,exportDate:new Date().toISOString(),version:"1.0"},A=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),z=URL.createObjectURL(A),J=document.createElement("a");J.href=z,J.download=`notes-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(z),X(!1)};return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"w-full h-full flex flex-col notes-list-container",style:{backgroundColor:"var(--bg-card)"},children:[N.jsxs("div",{className:"p-2 border-b shadow-sm",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Notes"}),N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("button",{onClick:()=>l(r),className:"group p-2 text-white rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",style:{backgroundColor:"var(--accent)"},title:"New Note",children:N.jsx(u5,{size:18,className:"group-hover:scale-110 transition-transform duration-200"})}),N.jsx("button",{onClick:Pe,className:"group p-2 text-white rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",style:{backgroundColor:"var(--accent)",filter:"hue-rotate(45deg)"},title:"New Folder",children:N.jsx(lg,{size:18,className:"group-hover:scale-110 transition-transform duration-200"})}),N.jsxs("div",{className:"relative",children:[N.jsx("button",{onClick:()=>X(!H),className:"group p-2 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",style:{backgroundColor:"var(--input-bg)",color:"var(--text-secondary)"},title:"More Options",children:N.jsx(w3,{size:18,className:"group-hover:scale-110 transition-transform duration-200"})}),H&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>X(!1)}),N.jsxs("div",{className:"absolute left-2 right-0 top-full mt-2 z-50 border rounded-2xl shadow-2xl py-2 min-w-48 backdrop-blur-sm",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("button",{onClick:()=>{be(!0),X(!1)},className:"w-full px-4 py-3 text-left text-sm hover:bg-selected flex items-center transition-all duration-200 group",style:{color:"var(--text-primary)"},children:[N.jsx(ag,{size:16,className:"mr-3 transition-colors",style:{color:"var(--text-secondary)"}}),N.jsx("span",{className:"font-medium",children:"Import Files"})]}),N.jsxs("button",{onClick:fe,className:"w-full px-4 py-3 text-left text-sm hover:bg-selected flex items-center transition-all duration-200 group",style:{color:"var(--text-primary)"},children:[N.jsx(zf,{size:16,className:"mr-3 transition-colors",style:{color:"var(--text-secondary)"}}),N.jsx("span",{className:"font-medium",children:"Export All (JSON)"})]}),N.jsxs("button",{onClick:()=>{O5(n),X(!1)},className:"w-full px-4 py-3 text-left text-sm hover:bg-selected flex items-center transition-all duration-200 group",style:{color:"var(--text-primary)"},children:[N.jsx(c5,{size:16,className:"mr-3 transition-colors",style:{color:"var(--text-secondary)"}}),N.jsx("span",{className:"font-medium",children:"Export All (TXT)"})]})]})]})]})]})]}),N.jsxs("div",{className:"relative w-full mb-2",children:[N.jsx(Gh,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-colors duration-200",style:{color:"var(--text-secondary)"},size:18}),N.jsx("input",{id:"notes-search-input",type:"text",placeholder:"Search notes...",value:S,onChange:Z=>w(Z.target.value),className:"w-full pl-12 py-2 border rounded-2xl focus:ring-2 focus:border-transparent transition-all duration-300 shadow-sm focus:shadow-lg focus:ring-accent",style:{backgroundColor:"var(--input-bg)",borderColor:"var(--border)",color:"var(--text-primary)"}})]}),N.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:D.map(Z=>N.jsx("button",{onClick:()=>O(Z),className:`px-4 py-1 rounded-full text-sm font-medium transition-all duration-300 whitespace-nowrap shadow-sm hover:shadow-md  ${R===Z?"text-white shadow-lg":"hover:bg-selected border"}`,style:R===Z?{backgroundColor:"var(--accent)"}:{backgroundColor:"var(--bg-card)",color:"var(--text-primary)",borderColor:"var(--border)"},children:Z},Z))}),r&&N.jsxs("div",{className:"flex items-center space-x-2 text-sm mb-4 p-3 rounded-xl",style:{backgroundColor:"var(--bg-card)",color:"var(--text-secondary)"},children:[N.jsx(lg,{size:16,style:{color:"var(--accent)"}}),N.jsx("span",{className:"font-medium",children:e.find(Z=>Z.id===r)?.name||"Unknown Folder"})]})]}),N.jsx(SS,{folders:e,notes:n,selectedFolderId:r,selectedNote:t,searchQuery:S,selectedCategory:R,onSelectFolder:o,onSelectNote:s,onCreateFolder:u,onUpdateFolder:h,onDeleteFolder:p,onCreateNote:l,onToggleFolder:_,onDeleteNote:y}),S&&N.jsxs("div",{className:" p-4",children:[N.jsxs("h3",{className:"text-sm font-semibold mb-2",style:{color:"var(--text-primary)"},children:["Search Results (",T.length,")"]}),N.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:T.map(Z=>N.jsx("div",{className:`group p-2 rounded-lg cursor-pointer transition-all duration-200 relative ${t?.id===Z.id?"border":"hover:bg-selected"}`,style:t?.id===Z.id?{backgroundColor:"var(--selected)",borderColor:"var(--accent)"}:{backgroundColor:"var(--bg-card)"},children:N.jsxs("div",{onClick:()=>s(Z),className:"flex-1",children:[N.jsx("div",{className:"text-sm font-medium truncate pr-16",style:{color:"var(--text-primary)"},children:S?se(Z.title||"Untitled",S):Z.title||"Untitled"}),N.jsx("div",{className:"text-xs truncate pr-16",style:{color:"var(--text-secondary)"},children:S?se(Z.content.replace(/<[^>]*>/g,"").substring(0,50)+"...",S):Z.content.replace(/<[^>]*>/g,"").substring(0,50)+"..."})]})},Z.id))})]}),N.jsx("div",{className:"mt-auto p-6",style:{backgroundColor:"var(--bg-card)"},children:N.jsxs("button",{onClick:()=>j("/settings"),className:"w-full flex items-center justify-center space-x-3 p-4 text-white rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group",style:{backgroundColor:"var(--accent)"},title:"Settings",children:[N.jsx(cg,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),N.jsx("span",{className:"font-medium",children:"Settings"})]})})]}),N.jsx(ES,{isOpen:he,onClose:()=>be(!1),onImportNotes:ie,onImportFolders:_e}),Ne&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"rounded-lg p-6 w-96 max-w-md mx-4 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Create New Folder"}),N.jsx("input",{type:"text",value:C,onChange:Z=>F(Z.target.value),placeholder:"Folder name",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent",style:{backgroundColor:"var(--input-bg)",borderColor:"var(--border)",color:"var(--text-primary)"},autoFocus:!0,onKeyDown:Z=>{Z.key==="Enter"?Ie():Z.key==="Escape"&&we()}}),N.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[N.jsx("button",{onClick:we,className:"px-4 py-2 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Cancel"}),N.jsx("button",{onClick:Ie,disabled:!C.trim(),className:"px-4 py-2 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",style:{backgroundColor:"var(--accent)"},children:"Create"})]})]})}),N.jsx(AS,{notes:n,isOpen:G,onClose:()=>L(!1),onSelectNote:s,onNavigateToText:(Z,A)=>{U&&U(Z,A)}})]})},NS=({note:n,onSave:e,searchTerm:t})=>{const[r,s]=ce.useState(""),[o,l]=ce.useState(""),[u,h]=ce.useState(!0),[p,y]=ce.useState(!1),[_,S]=ce.useState(!1),[w,R]=ce.useState(!1),[O,U]=ce.useState(null),[j,H]=ce.useState(!1),[X,he]=ce.useState(""),[be,Ne]=ce.useState(0),[B,C]=ce.useState(0),[F,G]=ce.useState([]),[L,D]=ce.useState(1),T=ce.useRef(null),se=ce.useRef(null),Pe=ce.useRef(null),Ie=ce.useRef(null),we=ce.useRef(null),{autoSave:ie,autoSaveInterval:_e,fontSize:fe,setFontSize:Z,fontFamily:A,setFontFamily:z,lineHeight:J,wordWrap:te,showLineNumbers:ae,tabSize:oe,autoIndent:ue,minimap:Ae,bracketMatching:We,shortcuts:$e}=s5(),Ye=(ve,Oe)=>{const ze=[];ve.metaKey&&ze.push("Cmd"),ve.ctrlKey&&!ve.metaKey&&ze.push("Ctrl"),ve.altKey&&ze.push("Alt"),ve.shiftKey&&ze.push("Shift");const tt=ve.key===" "?"Space":ve.key;return tt!=="Meta"&&tt!=="Control"&&tt!=="Alt"&&tt!=="Shift"&&ze.push(tt),ze.join("+")===Oe||ze.join("+")===Oe.replace("Cmd","Ctrl")};ce.useEffect(()=>{if(We){const ve=document.createElement("style");return ve.textContent=`
        .bracket-highlight {
          background-color: rgba(255, 255, 0, 0.3);
          border-radius: 2px;
        }
      `,document.head.appendChild(ve),()=>{document.head.removeChild(ve)}}},[We]);const it=["#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF","#FF0000","#FF6B6B","#FFE066","#4ECDC4","#45B7D1","#96CEB4","#8B4513","#D63031","#FF7675","#FDCB6E","#6C5CE7","#A29BFE","#00B894","#00CED1","#74B9FF","#0984E3","#6C5CE7","#FD79A8","#E17055","#F39C12","#E67E22","#27AE60","#16A085","#8E44AD"],kt=["#FFFF00","#00FF00","#00FFFF","#FF00FF","#FFA500","#FFE066","#A4E8F0","#DDA0DD","#98FB98","#F0E68C"],Me=[{label:"Normal Text",tag:"div",className:"text-base font-normal"},{label:"Title",tag:"h1",className:"text-4xl font-bold mb-4"},{label:"Subtitle",tag:"h2",className:"text-3xl font-semibold mb-3"},{label:"Heading",tag:"h3",className:"text-2xl font-semibold mb-3"},{label:"Subheading",tag:"h4",className:"text-xl font-medium mb-2"},{label:"Section",tag:"h5",className:"text-lg font-medium mb-2"},{label:"Subsection",tag:"h6",className:"text-base font-medium mb-2"},{label:"Body",tag:"p",className:"text-base font-normal mb-2"}],ne=[{label:"Default",value:"inherit"},{label:"Serif",value:"serif"},{label:"Sans Serif",value:"sans-serif"},{label:"Monospace",value:"monospace"},{label:"Georgia",value:"Georgia, serif"},{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Helvetica",value:"Helvetica, Arial, sans-serif"},{label:"Courier New",value:"Courier New, Courier, monospace"},{label:"Comic Sans",value:"Comic Sans MS, Comic Sans, cursive, sans-serif"},{label:"Trebuchet MS",value:"Trebuchet MS, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{label:"Times New Roman",value:"Times New Roman, Times, serif"},{label:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{label:"Garamond",value:"Garamond, serif"},{label:"Impact",value:"Impact, Charcoal, sans-serif"},{label:"Lucida Console",value:"Lucida Console, Monaco, monospace"},{label:"Fira Code",value:"Fira Code, monospace"},{label:"Roboto",value:"Roboto, Arial, sans-serif"},{label:"Open Sans",value:"Open Sans, Arial, sans-serif"},{label:"Lato",value:"Lato, Arial, sans-serif"},{label:"Montserrat",value:"Montserrat, Arial, sans-serif"},{label:"Source Sans Pro",value:"Source Sans Pro, Arial, sans-serif"},{label:"Quicksand",value:"Quicksand, Arial, sans-serif"},{label:"Raleway",value:"Raleway, Arial, sans-serif"},{label:"Merriweather",value:"Merriweather, serif"},{label:"Nunito",value:"Nunito, Arial, sans-serif"},{label:"Poppins",value:"Poppins, Arial, sans-serif"},{label:"Oswald",value:"Oswald, Arial, sans-serif"},{label:"Ubuntu",value:"Ubuntu, Arial, sans-serif"},{label:"PT Sans",value:"PT Sans, Arial, sans-serif"},{label:"Work Sans",value:"Work Sans, Arial, sans-serif"},{label:"Cabin",value:"Cabin, Arial, sans-serif"},{label:"Muli",value:"Muli, Arial, sans-serif"}],_t=ce.useCallback(()=>{if(!ie)return;O&&clearTimeout(O);const ve=setTimeout(()=>{n&&!u&&nt(!0)},_e);U(ve)},[n,u,O,ie,_e]);ce.useEffect(()=>{if(n&&(s(n.title),l(n.category),h(!0),T.current&&(T.current.innerHTML=n.content,T.current.style.fontSize=`${fe}px`,T.current.style.fontFamily=A,T.current.style.lineHeight=J.toString(),T.current.style.wordWrap=te?"break-word":"normal",T.current.style.whiteSpace=te?"pre-wrap":"pre",T.current.style.tabSize=oe.toString(),ae))){const Oe=(T.current.textContent||"").split(`
`).length;D(Math.max(Oe,1))}},[n,fe,A,J,te,oe,ae]),ce.useEffect(()=>()=>{O&&clearTimeout(O)},[O]),ce.useEffect(()=>{const ve=ze=>{const tt=document.activeElement;if(!(tt&&(tt.tagName==="SELECT"||tt.tagName==="OPTION"||tt.tagName==="INPUT"||tt.tagName==="TEXTAREA"))&&(ze.ctrlKey||ze.metaKey))switch(ze.key){case"s":ze.preventDefault(),n&&!u&&nt();break}},Oe=async ze=>{};return document.addEventListener("keydown",ve),document.addEventListener("paste",Oe),()=>{document.removeEventListener("keydown",ve),document.removeEventListener("paste",Oe)}},[n,u]),ce.useEffect(()=>{T.current&&T.current.querySelectorAll("img").forEach(Oe=>{Oe.style.maxWidth="100%",Oe.style.height="auto",Oe.style.display="block",Oe.style.objectFit="contain",Oe.style.margin||(Oe.style.margin="10px 0"),Oe.style.borderRadius||(Oe.style.borderRadius="8px"),Oe.style.boxShadow||(Oe.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")})},[n?.content]);function ft(ve){let Oe=0;const ze=window.getSelection();if(ze&&ze.rangeCount>0){const tt=ze.getRangeAt(0),mt=tt.cloneRange();mt.selectNodeContents(ve),mt.setEnd(tt.endContainer,tt.endOffset),Oe=mt.toString().length}return Oe}function Ze(ve,Oe){let ze=0,tt=[ve],mt,Nt=!1;for(;tt.length&&!Nt&&(mt=tt.pop(),!!mt);)if(mt.nodeType===Node.TEXT_NODE){const Ft=(mt.textContent||"").length;if(ze+Ft>=Oe){const an=window.getSelection(),at=document.createRange();at.setStart(mt,Oe-ze),at.collapse(!0),an?.removeAllRanges(),an?.addRange(at),Nt=!0;break}else ze+=Ft}else if(mt.nodeType===Node.ELEMENT_NODE){let Ft=Array.from(mt.childNodes);for(let an=Ft.length-1;an>=0;an--)(Ft[an].nodeType===Node.ELEMENT_NODE||Ft[an].nodeType===Node.TEXT_NODE)&&tt.push(Ft[an])}!Nt&&ve&&ve.focus()}const nt=(ve=!1)=>{if(!n)return;let Oe=0;T.current&&(Oe=ft(T.current));const ze=T.current?.innerHTML||"",tt=se.current?se.current.value:r,mt=Pe.current?Pe.current.value:o,Nt={...n,title:tt,content:ze,category:mt,updatedAt:new Date};e(Nt),h(!0),setTimeout(()=>{T.current&&(T.current.focus(),Ze(T.current,Oe))},0)},st=()=>{if(h(!1),_t(),T.current&&ae){const Oe=(T.current.textContent||"").split(`
`).length;D(Math.max(Oe,1))}Ae&&D(ve=>ve)},lt=ve=>{s(ve),h(!1),_t()},xt=ve=>{l(ve),h(!1),_t()},Rt=ve=>{const Oe=ve.target;if(!(Oe.tagName==="INPUT"||Oe.tagName==="TEXTAREA")&&ve.ctrlKey&&ve.key==="s"){ve.preventDefault();const ze=window.getSelection();let tt=0,mt=null;if(ze&&ze.rangeCount>0&&T.current){const Nt=ze.getRangeAt(0);mt=Nt.startContainer,tt=Nt.startOffset}nt(),setTimeout(()=>{if(mt&&T.current&&T.current.contains(mt)){const Nt=window.getSelection();if(Nt){const Ft=document.createRange();try{Ft.setStart(mt,Math.min(tt,mt.textContent?.length||0)),Ft.collapse(!0),Nt.removeAllRanges(),Nt.addRange(Ft)}catch{T.current?.focus()}}}},10)}},Ut=ve=>{if(ve.key==="Enter"&&!ve.shiftKey){const Oe=window.getSelection();if(!Oe||!Oe.rangeCount)return;const ze=Oe.getRangeAt(0),tt=ze.commonAncestorContainer;let mt=tt.nodeType===Node.ELEMENT_NODE?tt:tt.parentElement;for(;mt&&mt.tagName!=="LI"&&mt!==T.current;)mt=mt.parentElement;if(mt&&mt.tagName==="LI"){const Nt=mt,Ft=Nt.parentElement;if(Nt.textContent?.trim()===""){ve.preventDefault(),Nt.remove();const at=document.createElement("div");if(at.innerHTML="<br>",Ft&&Ft.parentNode){Ft.parentNode.insertBefore(at,Ft.nextSibling);const Zn=document.createRange();Zn.setStart(at,0),Zn.collapse(!0),Oe.removeAllRanges(),Oe.addRange(Zn)}}else return}else{ve.preventDefault(),ve.stopPropagation(),ze.deleteContents();const Nt=document.createElement("br");ze.insertNode(Nt);const Ft=document.createRange();Ft.setStartAfter(Nt),Ft.collapse(!0),Oe.removeAllRanges(),Oe.addRange(Ft)}return st(),!1}},pt=(ve,Oe)=>{!n||!T.current||(T.current.focus(),setTimeout(()=>{(document.activeElement===T.current||T.current?.contains(document.activeElement))&&(document.execCommand(ve,!1,Oe),st())},10))},Tt=ve=>{pt(ve?"insertOrderedList":"insertUnorderedList")},Zt=ve=>{pt("justifyLeft"),ve!=="left"&&pt(`justify${ve.charAt(0).toUpperCase()+ve.slice(1)}`)},Ct=ve=>{const Oe=Math.max(12,Math.min(32,fe+ve));Z(Oe),T.current&&(T.current.style.fontSize=`${Oe}px`),st()},$t=ve=>{pt("foreColor",ve),y(!1)},ut=ve=>{if(pt("hiliteColor",ve),S(!1),T.current){const Oe=T.current;Oe.querySelectorAll('[style*="background-color"]').forEach(ze=>{ze.style.color="#1a1a1a"}),Oe.querySelectorAll("mark:not(.search-highlight)").forEach(ze=>{ze.style.color="#1a1a1a"})}},qn=()=>{pt("insertHorizontalRule")},tn=ve=>{const Oe=window.getSelection();if(!Oe||Oe.rangeCount===0)return;const ze=Oe.getRangeAt(0),tt=ze.toString();if(tt){const mt=document.createElement(ve.tag);mt.className=ve.className,mt.textContent=tt,ze.deleteContents(),ze.insertNode(mt),ze.setStartAfter(mt),ze.setEndAfter(mt),Oe.removeAllRanges(),Oe.addRange(ze)}else{const mt=document.createElement(ve.tag);mt.className=ve.className,mt.textContent=ve.label,mt.contentEditable="true",ze.insertNode(mt);const Nt=document.createRange();Nt.selectNodeContents(mt),Oe.removeAllRanges(),Oe.addRange(Nt)}R(!1),st(),T.current?.focus()},Pr=()=>{pt("insertHTML",'<a href="https://example.com" target="_blank" rel="noopener noreferrer" style="color: #3b82f6; text-decoration: underline;">Link Text</a>')},hn=()=>{pt("formatBlock","blockquote");const ve=window.getSelection();if(ve&&ve.anchorNode){const Oe=ve.anchorNode.parentElement?.closest("blockquote");Oe&&(Oe.style.borderLeft="4px solid #e5e7eb",Oe.style.paddingLeft="16px",Oe.style.margin="16px 0",Oe.style.fontStyle="italic",Oe.style.color="#6b7280")}},yn=ce.useCallback(ve=>{if(!ve||!ve.trim()||!T.current)return;const Oe=T.current,tt=Oe.innerHTML.replace(/<mark class="search-highlight"[^>]*>([^<]*)<\/mark>/gi,"$1"),mt=ve.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(!mt)return;const Nt=new RegExp(`(${mt})`,"gi");if(!Nt.test(tt))return;Nt.lastIndex=0;const Ft=tt.replace(Nt,'<mark class="search-highlight" style="background-color: #fef08a; color: #1a1a1a; padding: 1px 2px; border-radius: 2px;">$1</mark>');if(Ft!==tt){Oe.innerHTML=Ft;const an=Oe.querySelector(".search-highlight");an&&an.scrollIntoView({behavior:"smooth",block:"center"})}},[]),or=ce.useCallback(()=>{if(!T.current)return;const ve=T.current,Oe=ve.innerHTML,ze=Oe.replace(/<mark class="search-highlight"[^>]*>([^<]*)<\/mark>/gi,"$1");ze!==Oe&&(ve.innerHTML=ze)},[]);ce.useEffect(()=>{if(t&&t.trim()&&n){H(!1),he(""),G([]),C(0),Ne(0);const ve=t.trim();ve.length>0&&setTimeout(()=>{yn(ve)},100)}else or()},[t,n,yn,or]);const en=ce.useCallback(ve=>{if(!ve.trim()||!T.current){G([]),C(0),Ne(0),or();return}const Oe=T.current,tt=Oe.innerHTML.replace(/<mark class="search-highlight"[^>]*>([^<]*)<\/mark>/gi,"$1"),mt=ve.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Nt=new RegExp(`(${mt})`,"gi");if(!Nt.test(tt)){G([]),C(0),Ne(0),Oe.innerHTML=tt;return}Nt.lastIndex=0;let Ft=0;const an=tt.replace(Nt,Zn=>(Ft++,`<mark class="search-highlight" data-match-id="${Ft-1}" style="background-color: #fef08a; color: #1a1a1a; padding: 1px 2px; border-radius: 2px;">${Zn}</mark>`));Oe.innerHTML=an;const at=Array.from(Oe.querySelectorAll(".search-highlight"));G(at),C(Ft),Ne(0),at.length>0&&$r(0,at)},[or]),$r=ce.useCallback((ve,Oe)=>{if(Oe.forEach(ze=>{ze.style.backgroundColor="#fef08a"}),Oe[ve]){const ze=Oe[ve];ze.style.backgroundColor="#ff6b35",ze.scrollIntoView({behavior:"smooth",block:"center"})}},[]),dn=ce.useCallback(ve=>{if(F.length===0)return;let Oe;ve==="next"?Oe=be>=F.length-1?0:be+1:Oe=be<=0?F.length-1:be-1,Ne(Oe),$r(Oe,F)},[F,be,$r]),Dn=ce.useCallback(()=>{H(!1),he(""),or(),G([]),C(0),Ne(0)},[or]);return ce.useEffect(()=>{const ve=Oe=>{const ze=we.current;if(!ze)return;const tt=document.activeElement,mt=ze.contains(tt)||tt===T.current||tt===se.current||tt===Pe.current||tt===Ie.current||tt&&tt.getAttribute("contenteditable")==="true"&&ze.contains(tt);if(!(tt&&(tt.tagName==="SELECT"||tt.tagName==="OPTION"||tt.tagName==="INPUT"||tt.tagName==="TEXTAREA"))&&mt){for(const Nt of $e)if(Ye(Oe,Nt.keys)){switch(Oe.preventDefault(),Nt.id){case"save":nt();break;case"search":H(!0),setTimeout(()=>{Ie.current?.focus()},100);break;case"newNote":break;case"bold":pt("bold");break;case"italic":pt("italic");break;case"underline":pt("underline");break;case"strikethrough":pt("strikethrough");break;case"indent":pt("indent");break;case"outdent":pt("outdent");break;case"undo":document.execCommand("undo");break;case"redo":document.execCommand("redo");break;case"selectAll":document.execCommand("selectAll");break;case"copy":document.execCommand("copy");break}return}Oe.key==="Escape"&&j&&Dn(),Oe.key==="Enter"&&j&&(Oe.preventDefault(),Oe.shiftKey?dn("prev"):dn("next"))}};return document.addEventListener("keydown",ve),()=>document.removeEventListener("keydown",ve)},[j,Dn,dn,$e,Ye,nt,pt]),ce.useEffect(()=>{j&&en(X)},[X,j,en]),ce.useEffect(()=>{j&&Dn()},[n?.id]),n?N.jsxs("div",{ref:we,className:"flex-1 flex flex-col h-full",style:{background:"var(--bg-primary)"},tabIndex:-1,onClick:ve=>{const Oe=ve.target;Oe.tagName==="INPUT"||Oe.tagName==="TEXTAREA"||Oe.tagName==="BUTTON"||Oe.tagName==="SELECT"||Oe.tagName==="OPTION"||Oe.getAttribute("contenteditable")==="true"||Oe.closest('[contenteditable="true"]')||Oe.closest("input")||Oe.closest("textarea")||Oe.closest("button")||Oe.closest("select")||we.current?.focus()},children:[j&&N.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center space-x-1 px-1 py-1 rounded-xl shadow-xl border-2",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[N.jsx(Gh,{size:16,style:{color:"var(--text-secondary)"}}),N.jsx("input",{ref:Ie,type:"text",value:X,onChange:ve=>he(ve.target.value),placeholder:"Find in note...",className:"bg-transparent border-none outline-none text-sm min-w-[200px]",style:{color:"var(--text-primary)"}}),B>0&&N.jsxs("div",{className:"flex items-center space-x-1 text-xs px-2 py-1 rounded-xl",style:{color:"var(--text-secondary)",backgroundColor:"var(--bg-primary)"},children:[N.jsxs("span",{children:[be+1," of ",B]}),N.jsx("button",{onClick:()=>dn("prev"),className:"p-1 rounded transition-colors duration-200",style:{color:"var(--text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--bg-hover)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="transparent"},title:"Previous match (Shift+Enter)",children:N.jsx(i3,{size:12})}),N.jsx("button",{onClick:()=>dn("next"),className:"p-1 rounded transition-colors duration-200",style:{color:"var(--text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--bg-hover)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="transparent"},title:"Next match (Enter)",children:N.jsx(og,{size:12})})]}),N.jsx("button",{onClick:Dn,className:"p-1 rounded transition-colors duration-200",style:{color:"var(--text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--bg-hover)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="transparent"},title:"Close (Esc)",children:N.jsx(i0,{size:14})})]}),N.jsx("div",{className:"p-2 sticky top-0 z-20 shadow-sm backdrop-blur-md",style:{backgroundColor:"var(--bg-card)"},children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center space-x-1 flex-wrap",children:[N.jsx("select",{value:A,onChange:ve=>{z(ve.target.value),T.current&&(T.current.style.fontFamily=ve.target.value)},className:"px-2 py-2 rounded-xl mr-2 shadow-sm hover:shadow-md transition-all duration-200",style:{backgroundColor:"var(--bg-card)",color:"var(--color-text)"},title:"Font Family",children:ne.map(ve=>N.jsx("option",{value:ve.value,children:ve.label},ve.value))}),N.jsxs("div",{className:"relative",children:[N.jsxs("button",{onClick:()=>R(!w),className:"flex items-center space-x-2 px-2 py-2 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-accent)",color:"var(--color-accent)"},title:"Text Style",children:[N.jsx(hg,{size:16,style:{color:"var(--color-accent)"}}),N.jsx(og,{size:14,style:{color:"var(--color-accent)"},className:"transition-transform duration-200"})]}),w&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>R(!1)}),N.jsx("div",{className:"absolute top-full left-0 mt-2 z-50 backdrop-blur-md border rounded-xl shadow-2xl py-2 min-w-44 animate-in fade-in zoom-in-95 duration-200",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--bg-card)"},children:Me.map((ve,Oe)=>N.jsx("button",{onClick:()=>tn(ve),className:"w-full px-2 py-2 text-left flex items-center transition-all duration-200 group",style:{color:"var(--color-text)",backgroundColor:"var(--bg-card)"},onMouseEnter:ze=>{ze.currentTarget.style.backgroundColor="var(--bg-card)"},onMouseLeave:ze=>{ze.currentTarget.style.backgroundColor="var(--bg-card)"},children:N.jsx("span",{className:`${ve.className.split(" ")[0]} transition-colors duration-200`,style:{color:"var(--color-text)"},children:ve.label})},Oe))})]})]}),N.jsx("div",{className:"w-px h-6 mx-2",style:{backgroundColor:"var(--color-border)"}}),N.jsx("button",{onClick:()=>pt("bold"),disabled:!n,className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:n?"var(--color-surface)":"var(--color-background)",color:n?"var(--color-text-secondary)":"var(--color-text-disabled)"},onMouseEnter:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-background)")},onMouseLeave:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-surface)")},title:"Bold (Ctrl+B)",children:N.jsx(n3,{size:16,style:{color:"var(--color-text-secondary)"},className:"transition-colors duration-200"})}),N.jsx("button",{onClick:()=>pt("italic"),disabled:!n,className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:n?"var(--color-surface)":"var(--color-background)",color:n?"var(--color-text-secondary)":"var(--color-text-disabled)"},onMouseEnter:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-background)")},onMouseLeave:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-surface)")},title:"Italic (Ctrl+I)",children:N.jsx(c3,{size:16,style:{color:"var(--color-text-secondary)"},className:"transition-colors duration-200"})}),N.jsx("button",{onClick:()=>pt("underline"),disabled:!n,className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:n?"var(--color-surface)":"var(--color-background)",color:n?"var(--color-text-secondary)":"var(--color-text-disabled)"},onMouseEnter:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-background)")},onMouseLeave:ve=>{n&&(ve.currentTarget.style.backgroundColor="var(--color-surface)")},title:"Underline (Ctrl+U)",children:N.jsx(A3,{size:16,style:{color:"var(--color-text-secondary)"},className:"transition-colors duration-200"})}),N.jsx("div",{className:"w-px h-6 mx-2",style:{backgroundColor:"var(--color-border)"}}),N.jsx("button",{onClick:()=>Tt(!1),className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--color-background)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--color-surface)"},title:"Bullet List",children:N.jsx(p3,{size:16,style:{color:"var(--color-text-secondary)"},className:"transition-colors duration-200"})}),N.jsx("button",{onClick:()=>Tt(!0),className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--color-background)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--color-surface)"},title:"Numbered List",children:N.jsx(f3,{size:16,style:{color:"var(--color-text-secondary)"},className:"transition-colors duration-200"})}),N.jsx("div",{className:"w-px h-6 mx-2",style:{backgroundColor:"var(--color-border)"}}),N.jsx("button",{onClick:()=>Zt("left"),className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--color-background)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--color-surface)"},title:"Align Left",children:N.jsx(Z4,{size:16,style:{color:"var(--color-text-secondary)"}})}),N.jsx("button",{onClick:()=>Zt("center"),className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--color-background)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--color-surface)"},title:"Align Center",children:N.jsx(X4,{size:16,style:{color:"var(--color-text-secondary)"}})}),N.jsx("button",{onClick:()=>Zt("right"),className:"p-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor="var(--color-background)"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--color-surface)"},title:"Align Right",children:N.jsx(e3,{size:16,style:{color:"var(--color-text-secondary)"}})}),N.jsx("div",{className:"w-px h-6 mx-2",style:{backgroundColor:"var(--color-border)"}}),N.jsxs("div",{className:"flex items-center space-x-1 rounded-xl p-1 shadow-sm",style:{backgroundColor:"var(--color-surface)"},children:[N.jsx("button",{onClick:()=>Ct(-1),className:"p-2 rounded-lg transition-all duration-200 transform hover:scale-105",style:{backgroundColor:"var(--color-background)",color:"var(--color-accent)"},title:"Decrease Font Size",children:N.jsx(I2,{size:14,style:{color:"var(--color-accent)"}})}),N.jsx("span",{className:"text-sm min-w-8 text-center font-semibold",style:{color:"var(--color-text-secondary)"},children:fe}),N.jsx("button",{onClick:()=>Ct(1),className:"p-2 rounded-lg transition-all duration-200 transform hover:scale-105",style:{backgroundColor:"var(--color-background)",color:"var(--color-accent)"},title:"Increase Font Size",children:N.jsx(d5,{size:14,style:{color:"var(--color-accent)"}})})]}),N.jsx("div",{className:"w-px h-6 bg-gradient-to-b from-gray-300 to-gray-400 dark:from-zinc-600 dark:to-zinc-700 mx-2"}),N.jsxs("div",{className:"relative",children:[N.jsx("button",{onClick:()=>y(!p),className:"p-2.5 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20 dark:hover:from-purple-800/30 dark:hover:to-pink-800/30 transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Text Color",children:N.jsx(h5,{size:16,className:"text-purple-600 dark:text-purple-400"})}),p&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),N.jsx("div",{className:"absolute top-full right-0 mt-2 z-50 bg-white/95 backdrop-blur-md dark:bg-zinc-900/95 border border-gray-200/50 dark:border-zinc-700/50 rounded-xl shadow-2xl p-4 min-w-64 animate-in fade-in zoom-in-95 duration-200",children:N.jsxs("div",{className:"mb-2",children:[N.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Text Color"}),N.jsx("div",{className:"grid grid-cols-6 gap-2",children:it.map(ve=>N.jsx("button",{onClick:()=>$t(ve),className:"w-8 h-8 rounded-lg border-2 border-gray-300/50 dark:border-zinc-600/50 hover:scale-125 transition-all duration-200 shadow-sm hover:shadow-lg transform",style:{backgroundColor:ve},title:ve},ve))})]})})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("button",{onClick:()=>S(!_),className:"p-2.5 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 hover:from-yellow-100 hover:to-orange-100 dark:from-yellow-900/20 dark:to-orange-900/20 dark:hover:from-yellow-800/30 dark:hover:to-orange-800/30 transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Highlight Text",children:N.jsx(u3,{size:16,className:"text-yellow-600 dark:text-yellow-400"})}),_&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>S(!1)}),N.jsx("div",{className:"absolute top-full right-0 mt-2 z-50 bg-white/95 backdrop-blur-md dark:bg-zinc-900/95 border border-gray-200/50 dark:border-zinc-700/50 rounded-xl shadow-2xl p-4 min-w-48 animate-in fade-in zoom-in-95 duration-200",children:N.jsxs("div",{className:"mb-2",children:[N.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Highlight Color"}),N.jsx("div",{className:"grid grid-cols-5 gap-2",children:kt.map(ve=>N.jsx("button",{onClick:()=>ut(ve),className:"w-8 h-8 rounded-lg border-2 border-gray-300/50 dark:border-zinc-600/50 hover:scale-125 transition-all duration-200 shadow-sm hover:shadow-lg transform",style:{backgroundColor:ve},title:ve},ve))})]})})]})]}),N.jsx("div",{className:"w-px h-6 bg-gradient-to-b from-gray-300 to-gray-400 dark:from-zinc-600 dark:to-zinc-700 mx-2"}),N.jsx("button",{onClick:Pr,className:"p-2.5 rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 dark:from-blue-900/20 dark:to-cyan-900/20 dark:hover:from-blue-800/30 dark:hover:to-cyan-800/30 transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Insert Link",children:N.jsx(d3,{size:16,className:"text-blue-600 dark:text-blue-400"})}),N.jsx("button",{onClick:hn,className:"p-2.5 rounded-xl bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 dark:from-indigo-900/20 dark:to-purple-900/20 dark:hover:from-indigo-800/30 dark:hover:to-purple-800/30 transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Insert Quote",children:N.jsx(b3,{size:16,className:"text-indigo-600 dark:text-indigo-400"})}),N.jsx("button",{onClick:qn,className:"p-2.5 rounded-xl bg-gradient-to-r from-gray-50 to-slate-50 hover:from-gray-100 hover:to-slate-100 dark:from-zinc-800/50 dark:to-slate-800/50 dark:hover:from-zinc-700/50 dark:hover:to-slate-700/50 transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Insert Horizontal Line",children:N.jsx(I2,{size:16,className:"text-gray-700 dark:text-zinc-300"})})]}),N.jsx("div",{className:"flex items-center space-x-2"})]})}),N.jsxs("div",{className:"flex items-center space-x-4 px-6 pb-3 pt-3",style:{backgroundColor:"var(--bg-card)"},children:[N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx(E3,{size:16,style:{color:"var(--color-accent)"}}),N.jsx("input",{ref:Pe,type:"text",placeholder:"Category",value:o,onChange:ve=>xt(ve.target.value),onKeyDown:ve=>{ve.ctrlKey&&ve.key==="s"&&(ve.preventDefault(),ve.stopPropagation(),nt())},className:"px-3 py-2 border rounded-xl shadow-sm hover:shadow-md transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]}),N.jsxs("div",{className:"flex items-center space-x-3 text-sm",style:{color:"var(--color-text-secondary)"},children:[N.jsx(a5,{size:16,style:{color:"var(--color-text-secondary)"}}),N.jsxs("span",{className:"font-medium",children:["Created: ",new Date(n.createdAt).toLocaleDateString()]}),N.jsx("span",{style:{color:"var(--color-border)"},children:""}),N.jsxs("span",{className:"font-medium",children:["Updated: ",new Date(n.updatedAt).toLocaleDateString()]})]}),!ie&&!u&&N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-gradient-to-r from-red-500 to-pink-500 animate-pulse shadow-sm",title:"Unsaved changes"}),N.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Unsaved"})]})]}),N.jsxs("div",{className:"flex-1 p-6 overflow-auto",style:{backgroundColor:"var(--bg-primary)"},onKeyDown:Rt,children:[N.jsx("input",{ref:se,type:"text",placeholder:"Note title...",value:r,onChange:ve=>lt(ve.target.value),onKeyDown:ve=>{if(ve.key==="Enter"&&(ve.preventDefault(),T.current)){T.current.focus();const Oe=window.getSelection();if(Oe){const ze=document.createRange();ze.selectNodeContents(T.current),ze.collapse(!0),Oe.removeAllRanges(),Oe.addRange(ze)}}},className:"w-full text-3xl font-bold border-none outline-none bg-transparent mb-6 transition-colors duration-200 placeholder-gray-400",style:{color:"var(--color-text)"}}),N.jsxs("div",{className:"flex flex-1 relative",children:[ae&&N.jsx("div",{className:"flex flex-col text-right pr-4 py-6 select-none text-gray-400 text-sm leading-relaxed",style:{fontSize:`${fe}px`,lineHeight:J,fontFamily:"monospace",backgroundColor:"var(--color-surface)",borderRight:"1px solid var(--color-border)"},children:Array.from({length:Math.max(20,L)},(ve,Oe)=>N.jsx("div",{className:"min-h-[1.5em]",children:Oe+1},Oe+1))}),N.jsx("div",{ref:T,contentEditable:!0,onInput:st,onKeyDown:ve=>{if(ve.key==="Tab"&&!ve.shiftKey){ve.preventDefault(),ue&&document.execCommand("insertText",!1," ".repeat(oe));return}if(ve.key==="Tab"&&ve.shiftKey){ve.preventDefault();const Oe=window.getSelection();if(Oe&&Oe.rangeCount){const ze=Oe.getRangeAt(0),tt=ze.startContainer;if(tt.nodeType===Node.TEXT_NODE){const mt=tt.textContent||"",Nt=mt.lastIndexOf(`
`,ze.startOffset-1)+1,Ft=Math.min(oe,mt.slice(Nt).search(/[^ ]/));if(Ft>0){const an=document.createRange();an.setStart(tt,Nt),an.setEnd(tt,Nt+Ft),an.deleteContents()}}}return}if(ve.key==="Enter"&&!ve.shiftKey){const Oe=window.getSelection();if(Oe&&Oe.rangeCount){const tt=Oe.getRangeAt(0).commonAncestorContainer;let mt=tt.nodeType===Node.ELEMENT_NODE?tt:tt.parentElement;for(;mt&&mt.tagName!=="LI"&&mt!==T.current;)mt=mt.parentElement;if(mt&&mt.tagName==="LI"&&mt.textContent?.trim()!==""){st();return}}Ut(ve);return}Rt(ve)},className:`flex-1 min-h-96 outline-none rounded-xl p-6 shadow-sm ${ae?"pl-6":""}`,style:{minHeight:"400px",fontSize:`${fe}px`,fontFamily:A,lineHeight:J,wordWrap:te?"break-word":"normal",overflowWrap:te?"break-word":"normal",whiteSpace:te?"pre-wrap":"pre",maxWidth:"100%",backgroundColor:"var(--color-surface)",color:"var(--color-text)",borderColor:"var(--color-border)",tabSize:oe},"data-placeholder":"Start writing your note..."}),Ae&&N.jsx("div",{className:"w-24 h-full overflow-hidden select-none ml-2 rounded border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:N.jsx("div",{className:"w-full h-full p-2 text-xs leading-tight overflow-hidden",style:{fontSize:"6px",fontFamily:A,color:"var(--color-text)",opacity:.6,transform:"scale(0.3)",transformOrigin:"top left",width:"300%",height:"300%"},children:T.current?.textContent?.slice(0,2e3)||"Start writing your note..."})})]})]})]}):N.jsx("div",{className:"flex-1 flex items-center justify-center min-h-full",style:{backgroundColor:"var(--color-background)"},children:N.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[N.jsx(hg,{size:64,className:"mx-auto mb-4",style:{color:"var(--color-text-secondary)"}}),N.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",style:{color:"var(--color-text)"},children:"Select a note to edit"}),N.jsx("p",{className:"text-center",style:{color:"var(--color-text-secondary)"},children:"Choose a note from the sidebar or create a new one"})]})})},IS=()=>{};var Z2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},TS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},F5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=o>>2,_=(o&3)<<4|u>>4;let S=(u&15)<<2|p>>6,w=p&63;h||(w=64,l||(S=64)),r.push(t[y],t[_],t[S],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||p==null||_==null)throw new CS;const S=o<<2|u>>4;if(r.push(S),p!==64){const w=u<<4&240|p>>2;if(r.push(w),_!==64){const R=p<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(n){const e=j5(n);return F5.encodeByteArray(e,!0)},Hf=function(n){return PS(n).replace(/\./g,"")},M5=function(n){try{return F5.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=()=>LS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof Z2>"u")return;const n=Z2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&M5(n[1]);return e&&JSON.parse(e)},vp=()=>{try{return IS()||RS()||DS()||OS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},V5=n=>{var e,t;return(t=(e=vp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jS=n=>{const e=V5(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},U5=()=>{var n;return(n=vp())===null||n===void 0?void 0:n.config},B5=n=>{var e;return(e=vp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z5(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hf(JSON.stringify(t)),Hf(JSON.stringify(l)),""].join(".")}const Qh={};function VS(){const n={prod:[],emulator:[]};for(const e of Object.keys(Qh))Qh[e]?n.emulator.push(e):n.prod.push(e);return n}function US(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ey=!1;function q5(n,e){if(typeof window>"u"||typeof document>"u"||!ch(window.location.host)||Qh[n]===e||Qh[n]||ey)return;Qh[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=VS().prod.length>0;function l(){const S=document.getElementById(r);S&&S.remove()}function u(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ey=!0,l()},S}function y(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=US(r),w=t("text"),R=document.getElementById(w)||document.createElement("span"),O=t("learnmore"),U=document.getElementById(O)||document.createElement("a"),j=t("preprendIcon"),H=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;u(X),y(U,O);const he=p();h(H,j),X.append(H,R,U,he),document.body.appendChild(X)}o?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bi())}function zS(){var n;const e=(n=vp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const n=Bi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H5(){try{return typeof indexedDB=="object"}catch{return!1}}function W5(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function GS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class ra extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=KS,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?QS(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new ra(s,u,r)}}function QS(n,e){return n.replace(YS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function JS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],l=e[s];if(ty(o)&&ty(l)){if(!vu(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function ty(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function qh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function XS(n,e){const t=new ZS(n,e);return t.subscribe.bind(t)}class ZS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eE(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=zm),s.error===void 0&&(s.error=zm),s.complete===void 0&&(s.complete=zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eE(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=1e3,nE=2,rE=14400*1e3,iE=.5;function ny(n,e=tE,t=nE){const r=e*Math.pow(t,n),s=Math.round(iE*r*(Math.random()-.5)*2);return Math.min(rE,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n){return n&&n._delegate?n._delegate:n}class Jo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aE(e))try{this.getOrInitializeService({instanceIdentifier:Gu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Gu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gu){return this.instances.has(e)}getOptions(e=Gu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gu){return this.component?this.component.multipleInstances?e:Gu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oE(n){return n===Gu?void 0:n}function aE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(un||(un={}));const uE={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},cE=un.INFO,hE={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},dE=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=hE[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=cE,this._logHandler=dE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}}const fE=(n,e)=>e.some(t=>n instanceof t);let ry,iy;function pE(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mE(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G5=new WeakMap,Eg=new WeakMap,K5=new WeakMap,qm=new WeakMap,l0=new WeakMap;function gE(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(hu(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&G5.set(t,n)}).catch(()=>{}),l0.set(e,n),e}function yE(n){if(Eg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Eg.set(n,e)}let Ag={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Eg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K5.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vE(n){Ag=n(Ag)}function wE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($m(this),e,...t);return K5.set(r,e.sort?e.sort():[e]),hu(r)}:mE().includes(n)?function(...e){return n.apply($m(this),e),hu(G5.get(this))}:function(...e){return hu(n.apply($m(this),e))}}function _E(n){return typeof n=="function"?wE(n):(n instanceof IDBTransaction&&yE(n),fE(n,pE())?new Proxy(n,Ag):n)}function hu(n){if(n instanceof IDBRequest)return gE(n);if(qm.has(n))return qm.get(n);const e=_E(n);return e!==n&&(qm.set(n,e),l0.set(e,n)),e}const $m=n=>l0.get(n);function Q5(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),u=hu(l);return r&&l.addEventListener("upgradeneeded",h=>{r(hu(l.result),h.oldVersion,h.newVersion,hu(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const bE=["get","getKey","getAll","getAllKeys","count"],xE=["put","add","delete","clear"],Hm=new Map;function sy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=xE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bE.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return Hm.set(e,o),o}vE(n=>({...n,get:(e,t,r)=>sy(e,t)||n.get(e,t,r),has:(e,t)=>!!sy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EE(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function EE(n){const e=n.getComponent();return e?.type==="VERSION"}const kg="@firebase/app",oy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new wp("@firebase/app"),AE="@firebase/app-compat",kE="@firebase/analytics-compat",NE="@firebase/analytics",IE="@firebase/app-check-compat",TE="@firebase/app-check",CE="@firebase/auth",PE="@firebase/auth-compat",LE="@firebase/database",RE="@firebase/data-connect",DE="@firebase/database-compat",OE="@firebase/functions",jE="@firebase/functions-compat",FE="@firebase/installations",ME="@firebase/installations-compat",VE="@firebase/messaging",UE="@firebase/messaging-compat",BE="@firebase/performance",zE="@firebase/performance-compat",qE="@firebase/remote-config",$E="@firebase/remote-config-compat",HE="@firebase/storage",WE="@firebase/storage-compat",GE="@firebase/firestore",KE="@firebase/ai",QE="@firebase/firestore-compat",YE="firebase",JE="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",XE={[kg]:"fire-core",[AE]:"fire-core-compat",[NE]:"fire-analytics",[kE]:"fire-analytics-compat",[TE]:"fire-app-check",[IE]:"fire-app-check-compat",[CE]:"fire-auth",[PE]:"fire-auth-compat",[LE]:"fire-rtdb",[RE]:"fire-data-connect",[DE]:"fire-rtdb-compat",[OE]:"fire-fn",[jE]:"fire-fn-compat",[FE]:"fire-iid",[ME]:"fire-iid-compat",[VE]:"fire-fcm",[UE]:"fire-fcm-compat",[BE]:"fire-perf",[zE]:"fire-perf-compat",[qE]:"fire-rc",[$E]:"fire-rc-compat",[HE]:"fire-gcs",[WE]:"fire-gcs-compat",[GE]:"fire-fst",[QE]:"fire-fst-compat",[KE]:"fire-vertex","fire-js":"fire-js",[YE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Map,ZE=new Map,Ig=new Map;function ay(n,e){try{n.container.addComponent(e)}catch(t){ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function La(n){const e=n.name;if(Ig.has(e))return ml.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,n);for(const t of Wf.values())ay(t,n);for(const t of ZE.values())ay(t,n);return!0}function oc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function po(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},du=new sc("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw du.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=JE;function Y5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw du.create("bad-app-name",{appName:String(s)});if(t||(t=U5()),!t)throw du.create("no-options");const o=Wf.get(s);if(o){if(vu(t,o.options)&&vu(r,o.config))return o;throw du.create("duplicate-app",{appName:s})}const l=new lE(s);for(const h of Ig.values())l.addComponent(h);const u=new tA(t,r,l);return Wf.set(s,u),u}function u0(n=Ng){const e=Wf.get(n);if(!e&&n===Ng&&U5())return Y5();if(!e)throw du.create("no-app",{appName:n});return e}function yo(n,e,t){var r;let s=(r=XE[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ml.warn(u.join(" "));return}La(new Jo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebase-heartbeat-database",rA=1,sd="firebase-heartbeat-store";let Wm=null;function J5(){return Wm||(Wm=Q5(nA,rA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw du.create("idb-open",{originalErrorMessage:n.message})})),Wm}async function iA(n){try{const t=(await J5()).transaction(sd),r=await t.objectStore(sd).get(X5(n));return await t.done,r}catch(e){if(e instanceof ra)ml.warn(e.message);else{const t=du.create("idb-get",{originalErrorMessage:e?.message});ml.warn(t.message)}}}async function ly(n,e){try{const r=(await J5()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,X5(n)),await r.done}catch(t){if(t instanceof ra)ml.warn(t.message);else{const r=du.create("idb-set",{originalErrorMessage:t?.message});ml.warn(r.message)}}}function X5(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,oA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>oA){const l=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ml.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uy(),{heartbeatsToSend:r,unsentEntries:s}=lA(this._heartbeatsCache.heartbeats),o=Hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ml.warn(t),""}}}function uy(){return new Date().toISOString().substring(0,10)}function lA(n,e=sA){const t=[];let r=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),cy(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),cy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H5()?W5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ly(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ly(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cy(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function cA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){La(new Jo("platform-logger",e=>new SE(e),"PRIVATE")),La(new Jo("heartbeat",e=>new aA(e),"PRIVATE")),yo(kg,oy,n),yo(kg,oy,"esm2017"),yo("fire-js","")}hA("");var dA="firebase",fA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(dA,fA,"app");const Z5="@firebase/installations",c0="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=1e4,tw=`w:${c0}`,nw="FIS_v2",pA="https://firebaseinstallations.googleapis.com/v1",mA=3600*1e3,gA="installations",yA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xu=new sc(gA,yA,vA);function rw(n){return n instanceof ra&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw({projectId:n}){return`${pA}/projects/${n}/installations`}function sw(n){return{token:n.token,requestStatus:2,expiresIn:_A(n.expiresIn),creationTime:Date.now()}}async function ow(n,e){const r=(await e.json()).error;return Xu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wA(n,{refreshToken:e}){const t=aw(n);return t.append("Authorization",bA(e)),t}async function lw(n){const e=await n();return e.status>=500&&e.status<600?n():e}function _A(n){return Number(n.replace("s","000"))}function bA(n){return`${nw} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=iw(n),s=aw(n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:nw,appId:n.appId,sdkVersion:tw},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await lw(()=>fetch(r,u));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:sw(p.authToken)}}else throw await ow("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=/^[cdef][\w-]{21}$/,Tg="";function AA(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=kA(n);return EA.test(t)?t:Tg}catch{return Tg}}function kA(n){return SA(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;function hw(n,e){const t=_p(n);dw(t,e),NA(t,e)}function dw(n,e){const t=cw.get(n);if(t)for(const r of t)r(e)}function NA(n,e){const t=IA();t&&t.postMessage({key:n,fid:e}),TA()}let Qu=null;function IA(){return!Qu&&"BroadcastChannel"in self&&(Qu=new BroadcastChannel("[Firebase] FID Change"),Qu.onmessage=n=>{dw(n.data.key,n.data.fid)}),Qu}function TA(){cw.size===0&&Qu&&(Qu.close(),Qu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-installations-database",PA=1,Zu="firebase-installations-store";let Gm=null;function h0(){return Gm||(Gm=Q5(CA,PA,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Zu)}}})),Gm}async function Gf(n,e){const t=_p(n),s=(await h0()).transaction(Zu,"readwrite"),o=s.objectStore(Zu),l=await o.get(t);return await o.put(e,t),await s.done,(!l||l.fid!==e.fid)&&hw(n,e.fid),e}async function fw(n){const e=_p(n),r=(await h0()).transaction(Zu,"readwrite");await r.objectStore(Zu).delete(e),await r.done}async function bp(n,e){const t=_p(n),s=(await h0()).transaction(Zu,"readwrite"),o=s.objectStore(Zu),l=await o.get(t),u=e(l);return u===void 0?await o.delete(t):await o.put(u,t),await s.done,u&&(!l||l.fid!==u.fid)&&hw(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n){let e;const t=await bp(n.appConfig,r=>{const s=LA(r),o=RA(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===Tg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LA(n){const e=n||{fid:AA(),registrationStatus:0};return pw(e)}function RA(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Xu.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DA(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OA(n)}:{installationEntry:e}}async function DA(n,e){try{const t=await xA(n,e);return Gf(n.appConfig,t)}catch(t){throw rw(t)&&t.customData.serverCode===409?await fw(n.appConfig):await Gf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function OA(n){let e=await hy(n.appConfig);for(;e.registrationStatus===1;)await uw(100),e=await hy(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await d0(n);return r||t}return e}function hy(n){return bp(n,e=>{if(!e)throw Xu.create("installation-not-found");return pw(e)})}function pw(n){return jA(n)?{fid:n.fid,registrationStatus:0}:n}function jA(n){return n.registrationStatus===1&&n.registrationTime+ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA({appConfig:n,heartbeatServiceProvider:e},t){const r=MA(n,t),s=wA(n,t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:tw,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await lw(()=>fetch(r,u));if(h.ok){const p=await h.json();return sw(p)}else throw await ow("Generate Auth Token",h)}function MA(n,{fid:e}){return`${iw(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(n,e=!1){let t;const r=await bp(n.appConfig,o=>{if(!mw(o))throw Xu.create("not-registered");const l=o.authToken;if(!e&&BA(l))return o;if(l.requestStatus===1)return t=VA(n,e),o;{if(!navigator.onLine)throw Xu.create("app-offline");const u=qA(o);return t=UA(n,u),u}});return t?await t:r.authToken}async function VA(n,e){let t=await dy(n.appConfig);for(;t.authToken.requestStatus===1;)await uw(100),t=await dy(n.appConfig);const r=t.authToken;return r.requestStatus===0?f0(n,e):r}function dy(n){return bp(n,e=>{if(!mw(e))throw Xu.create("not-registered");const t=e.authToken;return $A(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UA(n,e){try{const t=await FA(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Gf(n.appConfig,r),t}catch(t){if(rw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await fw(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gf(n.appConfig,r)}throw t}}function mw(n){return n!==void 0&&n.registrationStatus===2}function BA(n){return n.requestStatus===2&&!zA(n)}function zA(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+mA}function qA(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function $A(n){return n.requestStatus===1&&n.requestTime+ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n){const e=n,{installationEntry:t,registrationPromise:r}=await d0(e);return r?r.catch(console.error):f0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e=!1){const t=n;return await GA(t),(await f0(t,e)).token}async function GA(n){const{registrationPromise:e}=await d0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){if(!n||!n.options)throw Km("App Configuration");if(!n.name)throw Km("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Km(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Km(n){return Xu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="installations",QA="installations-internal",YA=n=>{const e=n.getProvider("app").getImmediate(),t=KA(e),r=oc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JA=n=>{const e=n.getProvider("app").getImmediate(),t=oc(e,gw).getImmediate();return{getId:()=>HA(t),getToken:s=>WA(t,s)}};function XA(){La(new Jo(gw,YA,"PUBLIC")),La(new Jo(QA,JA,"PRIVATE"))}XA();yo(Z5,c0);yo(Z5,c0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="analytics",ZA="firebase_id",ek="origin",tk=60*1e3,nk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",p0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new wp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zs=new sc("analytics","Analytics",rk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){if(!n.startsWith(p0)){const e=zs.create("invalid-gtag-resource",{gtagURL:n});return bs.warn(e.message),""}return n}function yw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function sk(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function ok(n,e){const t=sk("firebase-js-sdk-policy",{createScriptURL:ik}),r=document.createElement("script"),s=`${p0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function ak(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function lk(n,e,t,r,s,o){const l=r[s];try{if(l)await e[l];else{const h=(await yw(t)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(u){bs.error(u)}n("config",s,o)}async function uk(n,e,t,r,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await yw(t);for(const h of l){const p=u.find(_=>_.measurementId===h),y=p&&e[p.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,s||{})}catch(o){bs.error(o)}}function ck(n,e,t,r){async function s(o,...l){try{if(o==="event"){const[u,h]=l;await uk(n,e,t,u,h)}else if(o==="config"){const[u,h]=l;await lk(n,e,t,r,u,h)}else if(o==="consent"){const[u,h]=l;n("consent",u,h)}else if(o==="get"){const[u,h,p]=l;n("get",u,h,p)}else if(o==="set"){const[u]=l;n("set",u)}else n(o,...l)}catch(u){bs.error(u)}}return s}function hk(n,e,t,r,s){let o=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=ck(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function dk(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(p0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=30,pk=1e3;class mk{constructor(e={},t=pk){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vw=new mk;function gk(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function yk(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:gk(r)},o=nk.replace("{app-id}",t),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw zs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function vk(n,e=vw,t){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw zs.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw zs.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new bk;return setTimeout(async()=>{u.abort()},tk),ww({appId:r,apiKey:s,measurementId:o},l,u,e)}async function ww(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=vw){var o;const{appId:l,measurementId:u}=n;try{await wk(r,e)}catch(h){if(u)return bs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await yk(n);return s.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!_k(p)){if(s.deleteThrottleMetadata(l),u)return bs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw h}const y=Number((o=p?.customData)===null||o===void 0?void 0:o.httpStatus)===503?ny(t,s.intervalMillis,fk):ny(t,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(l,_),bs.debug(`Calling attemptFetch again in ${y} millis`),ww(n,_,r,s)}}function wk(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),r(zs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _k(n){if(!(n instanceof ra)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class bk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xk(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const o=await e,l=Object.assign(Object.assign({},r),{send_to:o});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(){if(H5())try{await W5()}catch(n){return bs.warn(zs.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return bs.warn(zs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ek(n,e,t,r,s,o,l){var u;const h=vk(n);h.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&bs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>bs.error(w)),e.push(h);const p=Sk().then(w=>{if(w)return r.getId()}),[y,_]=await Promise.all([h,p]);dk(o)||ok(o,y.measurementId),s("js",new Date);const S=(u=l?.config)!==null&&u!==void 0?u:{};return S[ek]="firebase",S.update=!0,_!=null&&(S[ZA]=_),s("config",y.measurementId,S),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.app=e}_delete(){return delete Yh[this.app.options.appId],Promise.resolve()}}let Yh={},fy=[];const py={};let Qm="dataLayer",kk="gtag",my,_w,gy=!1;function Nk(){const n=[];if($5()&&n.push("This is a browser extension environment."),GS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=zs.create("invalid-analytics-context",{errorInfo:e});bs.warn(t.message)}}function Ik(n,e,t){Nk();const r=n.options.appId;if(!r)throw zs.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)bs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zs.create("no-api-key");if(Yh[r]!=null)throw zs.create("already-exists",{id:r});if(!gy){ak(Qm);const{wrappedGtag:o,gtagCore:l}=hk(Yh,fy,py,Qm,kk);_w=o,my=l,gy=!0}return Yh[r]=Ek(n,fy,py,e,my,Qm,t),new Ak(n)}function Tk(n=u0()){n=si(n);const e=oc(n,Kf);return e.isInitialized()?e.getImmediate():Ck(n)}function Ck(n,e={}){const t=oc(n,Kf);if(t.isInitialized()){const s=t.getImmediate();if(vu(e,t.getOptions()))return s;throw zs.create("already-initialized")}return t.initialize({options:e})}function Pk(n,e,t,r){n=si(n),xk(_w,Yh[n.app.options.appId],e,t,r).catch(s=>bs.error(s))}const yy="@firebase/analytics",vy="0.10.17";function Lk(){La(new Jo(Kf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Ik(r,s,t)},"PUBLIC")),La(new Jo("analytics-internal",n,"PRIVATE")),yo(yy,vy),yo(yy,vy,"esm2017");function n(e){try{const t=e.getProvider(Kf).getImmediate();return{logEvent:(r,s,o)=>Pk(t,r,s,o)}}catch(t){throw zs.create("interop-component-reg-failed",{reason:t})}}}Lk();function m0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=bw,xw=new sc("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new wp("@firebase/auth");function Dk(n,...e){Qf.logLevel<=un.WARN&&Qf.warn(`Auth (${hh}): ${n}`,...e)}function Pf(n,...e){Qf.logLevel<=un.ERROR&&Qf.error(`Auth (${hh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(n,...e){throw g0(n,...e)}function ka(n,...e){return g0(n,...e)}function Sw(n,e,t){const r=Object.assign(Object.assign({},Rk()),{[e]:t});return new sc("auth","Firebase",r).create(e,{appName:n.name})}function dl(n){return Sw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xw.create(n,...e)}function zt(n,e,...t){if(!n)throw g0(e,...t)}function ul(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pf(e),new Error(e)}function gl(n,e){n||ul(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ok(){return wy()==="http:"||wy()==="https:"}function wy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ok()||$5()||"connection"in navigator)?navigator.onLine:!0}function Fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.shortDelay=e,this.longDelay=t,gl(t>e,"Short delay should be less than long delay!"),this.isMobile=BS()||$S()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e){gl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uk=new wd(3e4,6e4);function _l(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ja(n,e,t,r,s={}){return Aw(n,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=vd(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return qS()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ch(n.emulatorConfig.host)&&(p.credentials="include"),Ew.fetch()(await kw(n,n.config.apiHost,t,u),p)})}async function Aw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mk),e);try{const s=new zk(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw mf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw mf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw mf(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Sw(n,y,p);Xo(n,y)}}catch(s){if(s instanceof ra)throw s;Xo(n,"network-request-failed",{message:String(s)})}}async function _d(n,e,t,r,s={}){const o=await ja(n,e,t,r,s);return"mfaPendingCredential"in o&&Xo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function kw(n,e,t,r){const s=`${e}${t}?${r}`,o=n,l=o.config.emulator?y0(n.config,s):`${n.config.apiScheme}://${s}`;return Vk.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function Bk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ka(this.auth,"network-request-failed")),Uk.get())})}}function mf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ka(n,e,r);return s.customData._tokenResponse=t,s}function _y(n){return n!==void 0&&n.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Bk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $k(n,e){return ja(n,"GET","/v2/recaptchaConfig",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e){return ja(n,"POST","/v1/accounts:delete",e)}async function Yf(n,e){return ja(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wk(n,e=!1){const t=si(n),r=await t.getIdToken(e),s=v0(r);zt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Jh(Ym(s.auth_time)),issuedAtTime:Jh(Ym(s.iat)),expirationTime:Jh(Ym(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ym(n){return Number(n)*1e3}function v0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const s=M5(t);return s?JSON.parse(s):(Pf("Failed to decode base64 JWT payload"),null)}catch(s){return Pf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function by(n){const e=v0(n);return zt(e,"internal-error"),zt(typeof e.exp<"u","internal-error"),zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ra&&Gk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Gk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(n){var e;const t=n.auth,r=await n.getIdToken(),s=await th(n,Yf(t,{idToken:r}));zt(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Nw(o.providerUserInfo):[],u=Yk(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!u?.length,y=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function Qk(n){const e=si(n);await Jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Nw(n){return n.map(e=>{var{providerId:t}=e,r=m0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(n,e){const t=await Aw(n,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await kw(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&ch(n.emulatorConfig.host)&&(h.credentials="include"),Ew.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xk(n,e){return ja(n,"POST","/v2/accounts:revokeToken",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zt(e.idToken,"internal-error"),zt(typeof e.idToken<"u","internal-error"),zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):by(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){zt(e.length!==0,"internal-error");const t=by(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await Jk(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,l=new Qc;return r&&(zt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(zt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(zt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qc,this.toJSON())}_performRefresh(){return ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n,e){zt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=m0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await th(this,this.stsTokenManager.getToken(this.auth,e));return zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wk(this,e)}reload(){return Qk(this)}_assign(e){this!==e&&(zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(po(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await th(this,Hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,l,u,h,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(u=t.tenantId)!==null&&u!==void 0?u:void 0,U=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,H=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:he,isAnonymous:be,providerData:Ne,stsTokenManager:B}=t;zt(X&&B,e,"internal-error");const C=Qc.fromJSON(this.name,B);zt(typeof X=="string",e,"internal-error"),su(_,e.name),su(S,e.name),zt(typeof he=="boolean",e,"internal-error"),zt(typeof be=="boolean",e,"internal-error"),su(w,e.name),su(R,e.name),su(O,e.name),su(U,e.name),su(j,e.name),su(H,e.name);const F=new Ko({uid:X,auth:e,email:S,emailVerified:he,displayName:_,isAnonymous:be,photoURL:R,phoneNumber:w,tenantId:O,stsTokenManager:C,createdAt:j,lastLoginAt:H});return Ne&&Array.isArray(Ne)&&(F.providerData=Ne.map(G=>Object.assign({},G))),U&&(F._redirectEventId=U),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Qc;s.updateFromServerResponse(t);const o=new Ko({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];zt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Nw(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new Qc;u.updateFromIdToken(r);const h=new Ko({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;function cl(n){gl(n instanceof Function,"Expected a class definition");let e=xy.get(n);return e?(gl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Iw.type="NONE";const Sy=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n,e,t){return`firebase:${n}:${e}:${t}`}class Yc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Lf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Lf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yf(this.auth,{idToken:e}).catch(()=>{});return t?Ko._fromGetAccountInfoResponse(this.auth,t,e):null}return Ko._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yc(cl(Sy),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||cl(Sy);const l=Lf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(l);if(y){let _;if(typeof y=="string"){const S=await Yf(e,{idToken:y}).catch(()=>{});if(!S)break;_=await Ko._fromGetAccountInfoResponse(e,S,y)}else _=Ko._fromJSON(e,y);p!==o&&(u=_),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Yc(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Yc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dw(e))return"Blackberry";if(Ow(e))return"Webos";if(Cw(e))return"Safari";if((e.includes("chrome/")||Pw(e))&&!e.includes("edge/"))return"Chrome";if(Rw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Tw(n=Bi()){return/firefox\//i.test(n)}function Cw(n=Bi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pw(n=Bi()){return/crios\//i.test(n)}function Lw(n=Bi()){return/iemobile/i.test(n)}function Rw(n=Bi()){return/android/i.test(n)}function Dw(n=Bi()){return/blackberry/i.test(n)}function Ow(n=Bi()){return/webos/i.test(n)}function w0(n=Bi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Zk(n=Bi()){var e;return w0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eN(){return HS()&&document.documentMode===10}function jw(n=Bi()){return w0(n)||Rw(n)||Ow(n)||Dw(n)||/windows phone/i.test(n)||Lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e=[]){let t;switch(n){case"Browser":t=Ey(Bi());break;case"Worker":t=`${Ey(Bi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(n,e={}){return ja(n,"GET","/v2/passwordPolicy",_l(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class iN{constructor(e){var t,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:rN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ay(this),this.idTokenSubscription=new Ay(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cl(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Yc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yf(this,{idToken:e}),r=await Ko._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(po(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(po(this.app))return Promise.reject(dl(this));const t=e?si(e):null;return t&&zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return po(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return po(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),t=new iN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cl(e)||this._popupRedirectResolver;zt(t,this,"argument-error"),this.redirectPersistenceManager=await Yc.create(this,[cl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(po(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Dk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ku(n){return si(n)}class Ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(t=>this.observer=t)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(n){xp=n}function Mw(n){return xp.loadJS(n)}function aN(){return xp.recaptchaEnterpriseScript}function lN(){return xp.gapiScript}function uN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dN="recaptcha-enterprise",Vw="NO_RECAPTCHA";class fN{constructor(e){this.type=dN,this.auth=ku(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{$k(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new qk(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;_y(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Vw)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cN().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&_y(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=aN();h.length!==0&&(h+=u),Mw(h).then(()=>{s(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function ky(n,e,t,r=!1,s=!1){const o=new fN(n);let l;if(s)l=Vw;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Xf(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ky(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ky(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e){const t=oc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(vu(o,e??{}))return s;Xo(s,"already-initialized")}return t.initialize({options:e})}function mN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gN(n,e,t){const r=ku(n);zt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=Uw(e),{host:l,port:u}=yN(e),h=u===null?"":`:${u}`,p={url:`${o}//${l}${h}/`},y=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){zt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),zt(vu(p,r.config.emulator)&&vu(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ch(l)?(z5(`${o}//${l}${h}`),q5("Auth",!0)):vN()}function Uw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yN(n){const e=Uw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Ny(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Ny(l)}}}function Ny(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ul("not implemented")}_getIdTokenResponse(e){return ul("not implemented")}_linkToIdToken(e,t){return ul("not implemented")}_getReauthenticationResolver(e){return ul("not implemented")}}async function wN(n,e){return ja(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){return _d(n,"POST","/v1/accounts:signInWithPassword",_l(n,e))}async function bN(n,e){return ja(n,"POST","/v1/accounts:sendOobCode",_l(n,e))}async function xN(n,e){return bN(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e){return _d(n,"POST","/v1/accounts:signInWithEmailLink",_l(n,e))}async function EN(n,e){return _d(n,"POST","/v1/accounts:signInWithEmailLink",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends _0{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new od(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new od(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,t,"signInWithPassword",_N);case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:Xo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,r,"signUpPassword",wN);case"emailLink":return EN(e,{idToken:t,email:this._email,oobCode:this._password});default:Xo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,e){return _d(n,"POST","/v1/accounts:signInWithIdp",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class ec extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=m0(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new ec(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(n){const e=zh(qh(n)).link,t=e?zh(qh(e)).deep_link_id:null,r=zh(qh(n)).deep_link_id;return(r?zh(qh(r)).link:null)||r||t||e||n}class b0{constructor(e){var t,r,s,o,l,u;const h=zh(qh(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=kN((s=h.mode)!==null&&s!==void 0?s:null);zt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=NN(e);try{return new b0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.providerId=dh.PROVIDER_ID}static credential(e,t){return od._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=b0.parseLink(t);return zt(r,"argument-error"),od._fromEmailAndCode(e,r.code,r.tenantId)}}dh.PROVIDER_ID="password";dh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends bd{constructor(){super("facebook.com")}static credential(e){return ec._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ou.credential(e.oauthAccessToken)}catch{return null}}}ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";ou.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ec._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ll.credential(t,r)}catch{return null}}}ll.GOOGLE_SIGN_IN_METHOD="google.com";ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends bd{constructor(){super("github.com")}static credential(e){return ec._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return au.credential(e.oauthAccessToken)}catch{return null}}}au.GITHUB_SIGN_IN_METHOD="github.com";au.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends bd{constructor(){super("twitter.com")}static credential(e,t){return ec._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return lu.credential(t,r)}catch{return null}}}lu.TWITTER_SIGN_IN_METHOD="twitter.com";lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(n,e){return _d(n,"POST","/v1/accounts:signUp",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Ko._fromIdTokenResponse(e,r,s),l=Iy(r);return new tc({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Iy(r);return new tc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Iy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends ra{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Zf(e,t,r,s)}}function zw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(n,o,e,r):o})}async function TN(n,e,t=!1){const r=await th(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e,t=!1){const{auth:r}=n;if(po(r.app))return Promise.reject(dl(r));const s="reauthenticate";try{const o=await th(n,zw(r,s,e,n),t);zt(o.idToken,r,"internal-error");const l=v0(o.idToken);zt(l,r,"internal-error");const{sub:u}=l;return zt(n.uid===u,r,"user-mismatch"),tc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(n,e,t=!1){if(po(n.app))return Promise.reject(dl(n));const r="signIn",s=await zw(n,r,e),o=await tc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function $w(n,e){return qw(ku(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(n){const e=ku(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PN(n,e,t){const r=ku(n);await Xf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xN)}async function LN(n,e,t){if(po(n.app))return Promise.reject(dl(n));const r=ku(n),l=await Xf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&Hw(n),h}),u=await tc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function RN(n,e,t){return po(n.app)?Promise.reject(dl(n)):$w(si(n),dh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){return ja(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=si(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await th(r,DN(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function jN(n,e,t,r){return si(n).onIdTokenChanged(e,t,r)}function FN(n,e,t){return si(n).beforeAuthStateChanged(e,t)}function MN(n,e,t,r){return si(n).onAuthStateChanged(e,t,r)}function VN(n){return si(n).signOut()}const ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e3,BN=10;class Gw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);eN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const zN=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kw.type="SESSION";const Qw=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Sp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,o)),h=await qN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const p=x0("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(S.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return window}function HN(n){Na().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function WN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GN(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function KN(){return Yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebaseLocalStorageDb",QN=1,tp="firebaseLocalStorage",Xw="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ep(n,e){return n.transaction([tp],e?"readwrite":"readonly").objectStore(tp)}function YN(){const n=indexedDB.deleteDatabase(Jw);return new xd(n).toPromise()}function Lg(){const n=indexedDB.open(Jw,QN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(tp,{keyPath:Xw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(tp)?e(r):(r.close(),await YN(),e(await Lg()))})})}async function Ty(n,e,t){const r=Ep(n,!0).put({[Xw]:e,value:t});return new xd(r).toPromise()}async function JN(n,e){const t=Ep(n,!1).get(e),r=await new xd(t).toPromise();return r===void 0?null:r.value}function Cy(n,e){const t=Ep(n,!0).delete(e);return new xd(t).toPromise()}const XN=800,ZN=3;class Zw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ZN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(KN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WN(),!this.activeServiceWorker)return;this.sender=new $N(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await Ty(e,ep,"1"),await Cy(e,ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ty(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ep(s,!1).getAll();return new xd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zw.type="LOCAL";const eI=Zw;new wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n,e){return e?cl(e):(zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nI(n){return qw(n.auth,new S0(n),n.bypassAuthState)}function rI(n){const{auth:e,user:t}=n;return zt(t,e,"internal-error"),CN(t,new S0(n),n.bypassAuthState)}async function iI(n){const{auth:e,user:t}=n;return zt(t,e,"internal-error"),TN(t,new S0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nI;case"linkViaPopup":case"linkViaRedirect":return iI;case"reauthViaPopup":case"reauthViaRedirect":return rI;default:Xo(this.auth,"internal-error")}}resolve(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new wd(2e3,1e4);class $c extends e_{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,$c.currentPopupAction&&$c.currentPopupAction.cancel(),$c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zt(e,this.auth,"internal-error"),e}async onExecution(){gl(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sI.get())};e()}}$c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="pendingRedirect",Rf=new Map;class aI extends e_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const r=await lI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lI(n,e){const t=hI(e),r=cI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function uI(n,e){Rf.set(n._key(),e)}function cI(n){return cl(n._redirectPersistence)}function hI(n){return Lf(oI,n.config.apiKey,n.name)}async function dI(n,e,t=!1){if(po(n.app))return Promise.reject(dl(n));const r=ku(n),s=tI(r,e),l=await new aI(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=600*1e3;class pI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!t_(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ka(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(e))}saveEventToCache(e){this.cachedEventUids.add(Py(e)),this.lastProcessedEventTime=Date.now()}}function Py(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function t_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e={}){return ja(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vI=/^https?/;async function wI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gI(n);for(const t of e)try{if(_I(t))return}catch{}Xo(n,"unauthorized-domain")}function _I(n){const e=Cg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!vI.test(t))return!1;if(yI.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new wd(3e4,6e4);function Ly(){const n=Na().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xI(n){return new Promise((e,t)=>{var r,s,o;function l(){Ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ly(),t(ka(n,"network-request-failed"))},timeout:bI.get()})}if(!((s=(r=Na().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Na().gapi)===null||o===void 0)&&o.load)l();else{const u=uN("iframefcb");return Na()[u]=()=>{gapi.load?l():t(ka(n,"network-request-failed"))},Mw(`${lN()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Df=null,e})}let Df=null;function SI(n){return Df=Df||xI(n),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new wd(5e3,15e3),AI="__/auth/iframe",kI="emulator/auth/iframe",NI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},II=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(n){const e=n.config;zt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?y0(e,kI):`https://${n.config.authDomain}/${AI}`,r={apiKey:e.apiKey,appName:n.name,v:hh},s=II.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vd(r).slice(1)}`}async function CI(n){const e=await SI(n),t=Na().gapi;return zt(t,n,"internal-error"),e.open({where:document.body,url:TI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NI,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=ka(n,"network-request-failed"),u=Na().setTimeout(()=>{o(l)},EI.get());function h(){Na().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,RI=600,DI="_blank",OI="http://localhost";class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(n,e,t,r=LI,s=RI){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},PI),{width:r.toString(),height:s.toString(),top:o,left:l}),p=Bi().toLowerCase();t&&(u=Pw(p)?DI:t),Tw(p)&&(e=e||OI,h.scrollbars="yes");const y=Object.entries(h).reduce((S,[w,R])=>`${S}${w}=${R},`,"");if(Zk(p)&&u!=="_self")return FI(e||"",u),new Ry(null);const _=window.open(e||"",u,y);zt(_,n,"popup-blocked");try{_.focus()}catch{}return new Ry(_)}function FI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="__/auth/handler",VI="emulator/auth/handler",UI=encodeURIComponent("fac");async function Dy(n,e,t,r,s,o){zt(n.config.authDomain,n,"auth-domain-config-required"),zt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hh,eventId:s};if(e instanceof Bw){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",JS(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof bd){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await n._getAppCheckToken(),p=h?`#${UI}=${encodeURIComponent(h)}`:"";return`${BI(n)}?${vd(u).slice(1)}${p}`}function BI({config:n}){return n.emulator?y0(n,VI):`https://${n.authDomain}/${MI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qw,this._completeRedirectFn=dI,this._overrideRedirectResult=uI}async _openPopup(e,t,r,s){var o;gl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Dy(e,t,r,Cg(),s);return jI(e,l,x0())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Dy(e,t,r,Cg(),s);return HN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(gl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await CI(e),r=new pI(e);return t.register("authEvent",s=>(zt(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},s=>{var o;const l=(o=s?.[0])===null||o===void 0?void 0:o[Jm];l!==void 0&&t(!!l),Xo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jw()||Cw()||w0()}}const qI=zI;var Oy="@firebase/auth",jy="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(n){La(new Jo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;zt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(n)},p=new sN(r,s,o,h);return mN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),La(new Jo("auth-internal",e=>{const t=ku(e.getProvider("auth").getImmediate());return(r=>new $I(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Oy,jy,HI(n)),yo(Oy,jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=300,KI=B5("authIdTokenMaxAge")||GI;let Fy=null;const QI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KI)return;const s=t?.token;Fy!==s&&(Fy=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YI(n=u0()){const e=oc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=pN(n,{popupRedirectResolver:qI,persistence:[eI,zN,Qw]}),r=B5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=QI(o.toString());FN(t,l,()=>l(t.currentUser)),jN(t,u=>l(u))}}const s=V5("auth");return s&&gN(t,`http://${s}`),t}function JI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=ka("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",JI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fu,n_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,C){function F(){}F.prototype=C.prototype,B.D=C.prototype,B.prototype=new F,B.prototype.constructor=B,B.C=function(G,L,D){for(var T=Array(arguments.length-2),se=2;se<arguments.length;se++)T[se-2]=arguments[se];return C.prototype[L].apply(G,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(B,C,F){F||(F=0);var G=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)G[L]=C.charCodeAt(F++)|C.charCodeAt(F++)<<8|C.charCodeAt(F++)<<16|C.charCodeAt(F++)<<24;else for(L=0;16>L;++L)G[L]=C[F++]|C[F++]<<8|C[F++]<<16|C[F++]<<24;C=B.g[0],F=B.g[1],L=B.g[2];var D=B.g[3],T=C+(D^F&(L^D))+G[0]+3614090360&4294967295;C=F+(T<<7&4294967295|T>>>25),T=D+(L^C&(F^L))+G[1]+3905402710&4294967295,D=C+(T<<12&4294967295|T>>>20),T=L+(F^D&(C^F))+G[2]+606105819&4294967295,L=D+(T<<17&4294967295|T>>>15),T=F+(C^L&(D^C))+G[3]+3250441966&4294967295,F=L+(T<<22&4294967295|T>>>10),T=C+(D^F&(L^D))+G[4]+4118548399&4294967295,C=F+(T<<7&4294967295|T>>>25),T=D+(L^C&(F^L))+G[5]+1200080426&4294967295,D=C+(T<<12&4294967295|T>>>20),T=L+(F^D&(C^F))+G[6]+2821735955&4294967295,L=D+(T<<17&4294967295|T>>>15),T=F+(C^L&(D^C))+G[7]+4249261313&4294967295,F=L+(T<<22&4294967295|T>>>10),T=C+(D^F&(L^D))+G[8]+1770035416&4294967295,C=F+(T<<7&4294967295|T>>>25),T=D+(L^C&(F^L))+G[9]+2336552879&4294967295,D=C+(T<<12&4294967295|T>>>20),T=L+(F^D&(C^F))+G[10]+4294925233&4294967295,L=D+(T<<17&4294967295|T>>>15),T=F+(C^L&(D^C))+G[11]+2304563134&4294967295,F=L+(T<<22&4294967295|T>>>10),T=C+(D^F&(L^D))+G[12]+1804603682&4294967295,C=F+(T<<7&4294967295|T>>>25),T=D+(L^C&(F^L))+G[13]+4254626195&4294967295,D=C+(T<<12&4294967295|T>>>20),T=L+(F^D&(C^F))+G[14]+2792965006&4294967295,L=D+(T<<17&4294967295|T>>>15),T=F+(C^L&(D^C))+G[15]+1236535329&4294967295,F=L+(T<<22&4294967295|T>>>10),T=C+(L^D&(F^L))+G[1]+4129170786&4294967295,C=F+(T<<5&4294967295|T>>>27),T=D+(F^L&(C^F))+G[6]+3225465664&4294967295,D=C+(T<<9&4294967295|T>>>23),T=L+(C^F&(D^C))+G[11]+643717713&4294967295,L=D+(T<<14&4294967295|T>>>18),T=F+(D^C&(L^D))+G[0]+3921069994&4294967295,F=L+(T<<20&4294967295|T>>>12),T=C+(L^D&(F^L))+G[5]+3593408605&4294967295,C=F+(T<<5&4294967295|T>>>27),T=D+(F^L&(C^F))+G[10]+38016083&4294967295,D=C+(T<<9&4294967295|T>>>23),T=L+(C^F&(D^C))+G[15]+3634488961&4294967295,L=D+(T<<14&4294967295|T>>>18),T=F+(D^C&(L^D))+G[4]+3889429448&4294967295,F=L+(T<<20&4294967295|T>>>12),T=C+(L^D&(F^L))+G[9]+568446438&4294967295,C=F+(T<<5&4294967295|T>>>27),T=D+(F^L&(C^F))+G[14]+3275163606&4294967295,D=C+(T<<9&4294967295|T>>>23),T=L+(C^F&(D^C))+G[3]+4107603335&4294967295,L=D+(T<<14&4294967295|T>>>18),T=F+(D^C&(L^D))+G[8]+1163531501&4294967295,F=L+(T<<20&4294967295|T>>>12),T=C+(L^D&(F^L))+G[13]+2850285829&4294967295,C=F+(T<<5&4294967295|T>>>27),T=D+(F^L&(C^F))+G[2]+4243563512&4294967295,D=C+(T<<9&4294967295|T>>>23),T=L+(C^F&(D^C))+G[7]+1735328473&4294967295,L=D+(T<<14&4294967295|T>>>18),T=F+(D^C&(L^D))+G[12]+2368359562&4294967295,F=L+(T<<20&4294967295|T>>>12),T=C+(F^L^D)+G[5]+4294588738&4294967295,C=F+(T<<4&4294967295|T>>>28),T=D+(C^F^L)+G[8]+2272392833&4294967295,D=C+(T<<11&4294967295|T>>>21),T=L+(D^C^F)+G[11]+1839030562&4294967295,L=D+(T<<16&4294967295|T>>>16),T=F+(L^D^C)+G[14]+4259657740&4294967295,F=L+(T<<23&4294967295|T>>>9),T=C+(F^L^D)+G[1]+2763975236&4294967295,C=F+(T<<4&4294967295|T>>>28),T=D+(C^F^L)+G[4]+1272893353&4294967295,D=C+(T<<11&4294967295|T>>>21),T=L+(D^C^F)+G[7]+4139469664&4294967295,L=D+(T<<16&4294967295|T>>>16),T=F+(L^D^C)+G[10]+3200236656&4294967295,F=L+(T<<23&4294967295|T>>>9),T=C+(F^L^D)+G[13]+681279174&4294967295,C=F+(T<<4&4294967295|T>>>28),T=D+(C^F^L)+G[0]+3936430074&4294967295,D=C+(T<<11&4294967295|T>>>21),T=L+(D^C^F)+G[3]+3572445317&4294967295,L=D+(T<<16&4294967295|T>>>16),T=F+(L^D^C)+G[6]+76029189&4294967295,F=L+(T<<23&4294967295|T>>>9),T=C+(F^L^D)+G[9]+3654602809&4294967295,C=F+(T<<4&4294967295|T>>>28),T=D+(C^F^L)+G[12]+3873151461&4294967295,D=C+(T<<11&4294967295|T>>>21),T=L+(D^C^F)+G[15]+530742520&4294967295,L=D+(T<<16&4294967295|T>>>16),T=F+(L^D^C)+G[2]+3299628645&4294967295,F=L+(T<<23&4294967295|T>>>9),T=C+(L^(F|~D))+G[0]+4096336452&4294967295,C=F+(T<<6&4294967295|T>>>26),T=D+(F^(C|~L))+G[7]+1126891415&4294967295,D=C+(T<<10&4294967295|T>>>22),T=L+(C^(D|~F))+G[14]+2878612391&4294967295,L=D+(T<<15&4294967295|T>>>17),T=F+(D^(L|~C))+G[5]+4237533241&4294967295,F=L+(T<<21&4294967295|T>>>11),T=C+(L^(F|~D))+G[12]+1700485571&4294967295,C=F+(T<<6&4294967295|T>>>26),T=D+(F^(C|~L))+G[3]+2399980690&4294967295,D=C+(T<<10&4294967295|T>>>22),T=L+(C^(D|~F))+G[10]+4293915773&4294967295,L=D+(T<<15&4294967295|T>>>17),T=F+(D^(L|~C))+G[1]+2240044497&4294967295,F=L+(T<<21&4294967295|T>>>11),T=C+(L^(F|~D))+G[8]+1873313359&4294967295,C=F+(T<<6&4294967295|T>>>26),T=D+(F^(C|~L))+G[15]+4264355552&4294967295,D=C+(T<<10&4294967295|T>>>22),T=L+(C^(D|~F))+G[6]+2734768916&4294967295,L=D+(T<<15&4294967295|T>>>17),T=F+(D^(L|~C))+G[13]+1309151649&4294967295,F=L+(T<<21&4294967295|T>>>11),T=C+(L^(F|~D))+G[4]+4149444226&4294967295,C=F+(T<<6&4294967295|T>>>26),T=D+(F^(C|~L))+G[11]+3174756917&4294967295,D=C+(T<<10&4294967295|T>>>22),T=L+(C^(D|~F))+G[2]+718787259&4294967295,L=D+(T<<15&4294967295|T>>>17),T=F+(D^(L|~C))+G[9]+3951481745&4294967295,B.g[0]=B.g[0]+C&4294967295,B.g[1]=B.g[1]+(L+(T<<21&4294967295|T>>>11))&4294967295,B.g[2]=B.g[2]+L&4294967295,B.g[3]=B.g[3]+D&4294967295}r.prototype.u=function(B,C){C===void 0&&(C=B.length);for(var F=C-this.blockSize,G=this.B,L=this.h,D=0;D<C;){if(L==0)for(;D<=F;)s(this,B,D),D+=this.blockSize;if(typeof B=="string"){for(;D<C;)if(G[L++]=B.charCodeAt(D++),L==this.blockSize){s(this,G),L=0;break}}else for(;D<C;)if(G[L++]=B[D++],L==this.blockSize){s(this,G),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var C=1;C<B.length-8;++C)B[C]=0;var F=8*this.o;for(C=B.length-8;C<B.length;++C)B[C]=F&255,F/=256;for(this.u(B),B=Array(16),C=F=0;4>C;++C)for(var G=0;32>G;G+=8)B[F++]=this.g[C]>>>G&255;return B};function o(B,C){var F=u;return Object.prototype.hasOwnProperty.call(F,B)?F[B]:F[B]=C(B)}function l(B,C){this.h=C;for(var F=[],G=!0,L=B.length-1;0<=L;L--){var D=B[L]|0;G&&D==C||(F[L]=D,G=!1)}this.g=F}var u={};function h(B){return-128<=B&&128>B?o(B,function(C){return new l([C|0],0>C?-1:0)}):new l([B|0],0>B?-1:0)}function p(B){if(isNaN(B)||!isFinite(B))return _;if(0>B)return U(p(-B));for(var C=[],F=1,G=0;B>=F;G++)C[G]=B/F|0,F*=4294967296;return new l(C,0)}function y(B,C){if(B.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(B.charAt(0)=="-")return U(y(B.substring(1),C));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=p(Math.pow(C,8)),G=_,L=0;L<B.length;L+=8){var D=Math.min(8,B.length-L),T=parseInt(B.substring(L,L+D),C);8>D?(D=p(Math.pow(C,D)),G=G.j(D).add(p(T))):(G=G.j(F),G=G.add(p(T)))}return G}var _=h(0),S=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(O(this))return-U(this).m();for(var B=0,C=1,F=0;F<this.g.length;F++){var G=this.i(F);B+=(0<=G?G:4294967296+G)*C,C*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(R(this))return"0";if(O(this))return"-"+U(this).toString(B);for(var C=p(Math.pow(B,6)),F=this,G="";;){var L=he(F,C).g;F=j(F,L.j(C));var D=((0<F.g.length?F.g[0]:F.h)>>>0).toString(B);if(F=L,R(F))return D+G;for(;6>D.length;)D="0"+D;G=D+G}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function R(B){if(B.h!=0)return!1;for(var C=0;C<B.g.length;C++)if(B.g[C]!=0)return!1;return!0}function O(B){return B.h==-1}n.l=function(B){return B=j(this,B),O(B)?-1:R(B)?0:1};function U(B){for(var C=B.g.length,F=[],G=0;G<C;G++)F[G]=~B.g[G];return new l(F,~B.h).add(S)}n.abs=function(){return O(this)?U(this):this},n.add=function(B){for(var C=Math.max(this.g.length,B.g.length),F=[],G=0,L=0;L<=C;L++){var D=G+(this.i(L)&65535)+(B.i(L)&65535),T=(D>>>16)+(this.i(L)>>>16)+(B.i(L)>>>16);G=T>>>16,D&=65535,T&=65535,F[L]=T<<16|D}return new l(F,F[F.length-1]&-2147483648?-1:0)};function j(B,C){return B.add(U(C))}n.j=function(B){if(R(this)||R(B))return _;if(O(this))return O(B)?U(this).j(U(B)):U(U(this).j(B));if(O(B))return U(this.j(U(B)));if(0>this.l(w)&&0>B.l(w))return p(this.m()*B.m());for(var C=this.g.length+B.g.length,F=[],G=0;G<2*C;G++)F[G]=0;for(G=0;G<this.g.length;G++)for(var L=0;L<B.g.length;L++){var D=this.i(G)>>>16,T=this.i(G)&65535,se=B.i(L)>>>16,Pe=B.i(L)&65535;F[2*G+2*L]+=T*Pe,H(F,2*G+2*L),F[2*G+2*L+1]+=D*Pe,H(F,2*G+2*L+1),F[2*G+2*L+1]+=T*se,H(F,2*G+2*L+1),F[2*G+2*L+2]+=D*se,H(F,2*G+2*L+2)}for(G=0;G<C;G++)F[G]=F[2*G+1]<<16|F[2*G];for(G=C;G<2*C;G++)F[G]=0;return new l(F,0)};function H(B,C){for(;(B[C]&65535)!=B[C];)B[C+1]+=B[C]>>>16,B[C]&=65535,C++}function X(B,C){this.g=B,this.h=C}function he(B,C){if(R(C))throw Error("division by zero");if(R(B))return new X(_,_);if(O(B))return C=he(U(B),C),new X(U(C.g),U(C.h));if(O(C))return C=he(B,U(C)),new X(U(C.g),C.h);if(30<B.g.length){if(O(B)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var F=S,G=C;0>=G.l(B);)F=be(F),G=be(G);var L=Ne(F,1),D=Ne(G,1);for(G=Ne(G,2),F=Ne(F,2);!R(G);){var T=D.add(G);0>=T.l(B)&&(L=L.add(F),D=T),G=Ne(G,1),F=Ne(F,1)}return C=j(B,L.j(C)),new X(L,C)}for(L=_;0<=B.l(C);){for(F=Math.max(1,Math.floor(B.m()/C.m())),G=Math.ceil(Math.log(F)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),D=p(F),T=D.j(C);O(T)||0<T.l(B);)F-=G,D=p(F),T=D.j(C);R(D)&&(D=S),L=L.add(D),B=j(B,T)}return new X(L,B)}n.A=function(B){return he(this,B).h},n.and=function(B){for(var C=Math.max(this.g.length,B.g.length),F=[],G=0;G<C;G++)F[G]=this.i(G)&B.i(G);return new l(F,this.h&B.h)},n.or=function(B){for(var C=Math.max(this.g.length,B.g.length),F=[],G=0;G<C;G++)F[G]=this.i(G)|B.i(G);return new l(F,this.h|B.h)},n.xor=function(B){for(var C=Math.max(this.g.length,B.g.length),F=[],G=0;G<C;G++)F[G]=this.i(G)^B.i(G);return new l(F,this.h^B.h)};function be(B){for(var C=B.g.length+1,F=[],G=0;G<C;G++)F[G]=B.i(G)<<1|B.i(G-1)>>>31;return new l(F,B.h)}function Ne(B,C){var F=C>>5;C%=32;for(var G=B.g.length-F,L=[],D=0;D<G;D++)L[D]=0<C?B.i(D+F)>>>C|B.i(D+F+1)<<32-C:B.i(D+F);return new l(L,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n_=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,fu=l}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r_,$h,i_,Of,Rg,s_,o_,a_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,P){return f==Array.prototype||f==Object.prototype||(f[E]=P.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var E=0;E<f.length;++E){var P=f[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=t(this);function s(f,E){if(E)e:{var P=r;f=f.split(".");for(var Q=0;Q<f.length-1;Q++){var Se=f[Q];if(!(Se in P))break e;P=P[Se]}f=f[f.length-1],Q=P[f],E=E(Q),E!=Q&&E!=null&&e(P,f,{configurable:!0,writable:!0,value:E})}}function o(f,E){f instanceof String&&(f+="");var P=0,Q=!1,Se={next:function(){if(!Q&&P<f.length){var Re=P++;return{value:E(Re,f[Re]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}s("Array.prototype.values",function(f){return f||function(){return o(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function p(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function y(f,E,P){return f.call.apply(f.bind,arguments)}function _(f,E,P){if(!f)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,Q),f.apply(E,Se)}}return function(){return f.apply(E,arguments)}}function S(f,E,P){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,S.apply(null,arguments)}function w(f,E){var P=Array.prototype.slice.call(arguments,1);return function(){var Q=P.slice();return Q.push.apply(Q,arguments),f.apply(this,Q)}}function R(f,E){function P(){}P.prototype=E.prototype,f.aa=E.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(Q,Se,Re){for(var Je=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Je[Gt-2]=arguments[Gt];return E.prototype[Se].apply(Q,Je)}}function O(f){const E=f.length;if(0<E){const P=Array(E);for(let Q=0;Q<E;Q++)P[Q]=f[Q];return P}return[]}function U(f,E){for(let P=1;P<arguments.length;P++){const Q=arguments[P];if(h(Q)){const Se=f.length||0,Re=Q.length||0;f.length=Se+Re;for(let Je=0;Je<Re;Je++)f[Se+Je]=Q[Je]}else f.push(Q)}}class j{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function H(f){return/^[\s\xa0]*$/.test(f)}function X(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function he(f){return he[" "](f),f}he[" "]=function(){};var be=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ne(f,E,P){for(const Q in f)E.call(P,f[Q],Q,f)}function B(f,E){for(const P in f)E.call(void 0,f[P],P,f)}function C(f){const E={};for(const P in f)E[P]=f[P];return E}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(f,E){let P,Q;for(let Se=1;Se<arguments.length;Se++){Q=arguments[Se];for(P in Q)f[P]=Q[P];for(let Re=0;Re<F.length;Re++)P=F[Re],Object.prototype.hasOwnProperty.call(Q,P)&&(f[P]=Q[P])}}function L(f){var E=1;f=f.split(":");const P=[];for(;0<E&&f.length;)P.push(f.shift()),E--;return f.length&&P.push(f.join(":")),P}function D(f){u.setTimeout(()=>{throw f},0)}function T(){var f=_e;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,P){const Q=Pe.get();Q.set(E,P),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var Pe=new j(()=>new Ie,f=>f.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,_e=new se,fe=()=>{const f=u.Promise.resolve(void 0);we=()=>{f.then(Z)}};var Z=()=>{for(var f;f=T();){try{f.h.call(f.g)}catch(P){D(P)}var E=Pe;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}ie=!1};function A(){this.s=this.s,this.C=this.C}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};u.addEventListener("test",P,E),u.removeEventListener("test",P,E)}catch{}return f}();function te(f,E){if(z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,Q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(be){e:{try{he(E.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(E=null)}}else P=="mouseover"?E=f.fromElement:P=="mouseout"&&(E=f.toElement);this.relatedTarget=E,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&te.aa.h.call(this)}}R(te,z);var ae={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ue=0;function Ae(f,E,P,Q,Se){this.listener=f,this.proxy=null,this.src=E,this.type=P,this.capture=!!Q,this.ha=Se,this.key=++ue,this.da=this.fa=!1}function We(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,E,P,Q,Se){var Re=f.toString();f=this.g[Re],f||(f=this.g[Re]=[],this.h++);var Je=it(f,E,Q,Se);return-1<Je?(E=f[Je],P||(E.fa=!1)):(E=new Ae(E,this.src,Re,!!Q,Se),E.fa=P,f.push(E)),E};function Ye(f,E){var P=E.type;if(P in f.g){var Q=f.g[P],Se=Array.prototype.indexOf.call(Q,E,void 0),Re;(Re=0<=Se)&&Array.prototype.splice.call(Q,Se,1),Re&&(We(E),f.g[P].length==0&&(delete f.g[P],f.h--))}}function it(f,E,P,Q){for(var Se=0;Se<f.length;++Se){var Re=f[Se];if(!Re.da&&Re.listener==E&&Re.capture==!!P&&Re.ha==Q)return Se}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Me={};function ne(f,E,P,Q,Se){if(Array.isArray(E)){for(var Re=0;Re<E.length;Re++)ne(f,E[Re],P,Q,Se);return null}return P=Ut(P),f&&f[oe]?f.K(E,P,p(Q)?!!Q.capture:!1,Se):_t(f,E,P,!1,Q,Se)}function _t(f,E,P,Q,Se,Re){if(!E)throw Error("Invalid event type");var Je=p(Se)?!!Se.capture:!!Se,Gt=xt(f);if(Gt||(f[kt]=Gt=new $e(f)),P=Gt.add(E,P,Q,Je,Re),P.proxy)return P;if(Q=ft(),P.proxy=Q,Q.src=f,Q.listener=P,f.addEventListener)J||(Se=Je),Se===void 0&&(Se=!1),f.addEventListener(E.toString(),Q,Se);else if(f.attachEvent)f.attachEvent(st(E.toString()),Q);else if(f.addListener&&f.removeListener)f.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ft(){function f(P){return E.call(f.src,f.listener,P)}const E=lt;return f}function Ze(f,E,P,Q,Se){if(Array.isArray(E))for(var Re=0;Re<E.length;Re++)Ze(f,E[Re],P,Q,Se);else Q=p(Q)?!!Q.capture:!!Q,P=Ut(P),f&&f[oe]?(f=f.i,E=String(E).toString(),E in f.g&&(Re=f.g[E],P=it(Re,P,Q,Se),-1<P&&(We(Re[P]),Array.prototype.splice.call(Re,P,1),Re.length==0&&(delete f.g[E],f.h--)))):f&&(f=xt(f))&&(E=f.g[E.toString()],f=-1,E&&(f=it(E,P,Q,Se)),(P=-1<f?E[f]:null)&&nt(P))}function nt(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[oe])Ye(E.i,f);else{var P=f.type,Q=f.proxy;E.removeEventListener?E.removeEventListener(P,Q,f.capture):E.detachEvent?E.detachEvent(st(P),Q):E.addListener&&E.removeListener&&E.removeListener(Q),(P=xt(E))?(Ye(P,f),P.h==0&&(P.src=null,E[kt]=null)):We(f)}}}function st(f){return f in Me?Me[f]:Me[f]="on"+f}function lt(f,E){if(f.da)f=!0;else{E=new te(E,this);var P=f.listener,Q=f.ha||f.src;f.fa&&nt(f),f=P.call(Q,E)}return f}function xt(f){return f=f[kt],f instanceof $e?f:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(f){return typeof f=="function"?f:(f[Rt]||(f[Rt]=function(E){return f.handleEvent(E)}),f[Rt])}function pt(){A.call(this),this.i=new $e(this),this.M=this,this.F=null}R(pt,A),pt.prototype[oe]=!0,pt.prototype.removeEventListener=function(f,E,P,Q){Ze(this,f,E,P,Q)};function Tt(f,E){var P,Q=f.F;if(Q)for(P=[];Q;Q=Q.F)P.push(Q);if(f=f.M,Q=E.type||E,typeof E=="string")E=new z(E,f);else if(E instanceof z)E.target=E.target||f;else{var Se=E;E=new z(Q,f),G(E,Se)}if(Se=!0,P)for(var Re=P.length-1;0<=Re;Re--){var Je=E.g=P[Re];Se=Zt(Je,Q,!0,E)&&Se}if(Je=E.g=f,Se=Zt(Je,Q,!0,E)&&Se,Se=Zt(Je,Q,!1,E)&&Se,P)for(Re=0;Re<P.length;Re++)Je=E.g=P[Re],Se=Zt(Je,Q,!1,E)&&Se}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var P=f.g[E],Q=0;Q<P.length;Q++)We(P[Q]);delete f.g[E],f.h--}}this.F=null},pt.prototype.K=function(f,E,P,Q){return this.i.add(String(f),E,!1,P,Q)},pt.prototype.L=function(f,E,P,Q){return this.i.add(String(f),E,!0,P,Q)};function Zt(f,E,P,Q){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Se=!0,Re=0;Re<E.length;++Re){var Je=E[Re];if(Je&&!Je.da&&Je.capture==P){var Gt=Je.listener,sn=Je.ha||Je.src;Je.fa&&Ye(f.i,Je),Se=Gt.call(sn,Q)!==!1&&Se}}return Se&&!Q.defaultPrevented}function Ct(f,E,P){if(typeof f=="function")P&&(f=S(f,P));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(f,E||0)}function $t(f){f.g=Ct(()=>{f.g=null,f.i&&(f.i=!1,$t(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ut extends A{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(f){A.call(this),this.h=f,this.g={}}R(qn,A);var tn=[];function Pr(f){Ne(f.g,function(E,P){this.g.hasOwnProperty(P)&&nt(E)},f),f.g={}}qn.prototype.N=function(){qn.aa.N.call(this),Pr(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=u.JSON.stringify,yn=u.JSON.parse,or=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function en(){}en.prototype.h=null;function $r(f){return f.h||(f.h=f.i())}function dn(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){z.call(this,"d")}R(ve,z);function Oe(){z.call(this,"c")}R(Oe,z);var ze={},tt=null;function mt(){return tt=tt||new pt}ze.La="serverreachability";function Nt(f){z.call(this,ze.La,f)}R(Nt,z);function Ft(f){const E=mt();Tt(E,new Nt(E))}ze.STAT_EVENT="statevent";function an(f,E){z.call(this,ze.STAT_EVENT,f),this.stat=E}R(an,z);function at(f){const E=mt();Tt(E,new an(E,f))}ze.Ma="timingevent";function Zn(f,E){z.call(this,ze.Ma,f),this.size=E}R(Zn,z);function hr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},E)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function Mn(f,E,P,Q,Se,Re){f.info(function(){if(f.g)if(Re)for(var Je="",Gt=Re.split("&"),sn=0;sn<Gt.length;sn++){var Kt=Gt[sn].split("=");if(1<Kt.length){var bn=Kt[0];Kt=Kt[1];var kn=bn.split("_");Je=2<=kn.length&&kn[1]=="type"?Je+(bn+"="+Kt+"&"):Je+(bn+"=redacted&")}}else Je=null;else Je=Re;return"XMLHTTP REQ ("+Q+") [attempt "+Se+"]: "+E+`
`+P+`
`+Je})}function Vn(f,E,P,Q,Se,Re,Je){f.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Se+"]: "+E+`
`+P+`
`+Re+" "+Je})}function Wn(f,E,P,Q){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ss(f,P)+(Q?" "+Q:"")})}function qs(f,E){f.info(function(){return"TIMEOUT: "+E})}dr.prototype.info=function(){};function Ss(f,E){if(!f.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var Q=P[f];if(!(2>Q.length)){var Se=Q[1];if(Array.isArray(Se)&&!(1>Se.length)){var Re=Se[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Je=1;Je<Se.length;Je++)Se[Je]=""}}}}return hn(P)}catch{return E}}var Hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function Wr(){}R(Wr,en),Wr.prototype.g=function(){return new XMLHttpRequest},Wr.prototype.i=function(){return{}},ar=new Wr;function er(f,E,P,Q){this.j=f,this.i=E,this.l=P,this.R=Q||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var Es={},As={};function ks(f,E,P){f.L=1,f.v=Ts(Dr(E)),f.m=P,f.P=!0,$s(f,null)}function $s(f,E){f.F=Date.now(),Cn(f),f.A=Dr(f.v);var P=f.A,Q=f.R;Array.isArray(Q)||(Q=[String(Q)]),Dt(P.i,"t",Q),f.C=0,P=f.j.J,f.h=new zi,f.g=V(f.j,P?E:null,!f.m),0<f.O&&(f.M=new ut(S(f.Y,f,f.g),f.O)),E=f.U,P=f.g,Q=f.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(tn[0]=Se.toString()),Se=tn);for(var Re=0;Re<Se.length;Re++){var Je=ne(P,Se[Re],Q||E.handleEvent,!1,E.h||E);if(!Je)break;E.g[Je.key]=Je}E=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Ft(),Mn(f.i,f.u,f.A,f.l,f.R,f.m)}er.prototype.ca=function(f){f=f.target;const E=this.M;E&&nr(f)==3?E.j():this.Y(f)},er.prototype.Y=function(f){try{if(f==this.g)e:{const kn=nr(this.g);var E=this.g.Ba();const ui=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||kn!=4||E==7||(E==8||0>=ui?Ft(3):Ft(2)),ns(this);var P=this.g.Z();this.X=P;t:if(vo(this)){var Q=Ba(this.g);f="";var Se=Q.length,Re=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),Ns(this);var Je="";break t}this.h.i=new u.TextDecoder}for(E=0;E<Se;E++)this.h.h=!0,f+=this.h.i.decode(Q[E],{stream:!(Re&&E==Se-1)});Q.length=0,this.h.g+=f,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=P==200,Vn(this.i,this.u,this.A,this.l,this.R,kn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,sn=this.g;if((Gt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Gt)){var Kt=Gt;break t}}Kt=null}if(P=Kt)Wn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wo(this,P);else{this.o=!1,this.s=3,at(12),xi(this),Ns(this);break e}}if(this.P){P=!0;let Fr;for(;!this.J&&this.C<Je.length;)if(Fr=bl(this,Je),Fr==As){kn==4&&(this.s=4,at(14),P=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==Es){this.s=4,at(15),Wn(this.i,this.l,Je,"[Invalid Chunk]"),P=!1;break}else Wn(this.i,this.l,Fr,null),wo(this,Fr);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Je.length!=0||this.h.h||(this.s=1,at(16),P=!1),this.o=this.o&&P,!P)Wn(this.i,this.l,Je,"[Invalid Chunked Response]"),xi(this),Ns(this);else if(0<Je.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),ua(bn),bn.M=!0,at(11))}}else Wn(this.i,this.l,Je,null),wo(this,Je);kn==4&&xi(this),this.o&&!this.J&&(kn==4?us(this.j,this):(this.o=!1,Cn(this)))}else Hi(this.g),P==400&&0<Je.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),xi(this),Ns(this)}}}catch{}finally{}};function vo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bl(f,E){var P=f.C,Q=E.indexOf(`
`,P);return Q==-1?As:(P=Number(E.substring(P,Q)),isNaN(P)?Es:(Q+=1,Q+P>E.length?As:(E=E.slice(Q,Q+P),f.C=Q+P,E)))}er.prototype.cancel=function(){this.J=!0,xi(this)};function Cn(f){f.S=Date.now()+f.I,xl(f,f.I)}function xl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=hr(S(f.ba,f),E)}function ns(f){f.B&&(u.clearTimeout(f.B),f.B=null)}er.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(qs(this.i,this.A),this.L!=2&&(Ft(),at(17)),xi(this),this.s=2,Ns(this)):xl(this,this.S-f)};function Ns(f){f.j.G==0||f.J||us(f.j,f)}function xi(f){ns(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Pr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function wo(f,E){try{var P=f.j;if(P.G!=0&&(P.g==f||Lr(P.h,f))){if(!f.K&&Lr(P.h,f)&&P.G==3){try{var Q=P.Da.g.parse(E)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Se=Q;if(Se[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)Rs(P),Wi(P);else break e;to(P),at(18)}}else P.za=Se[1],0<P.za-P.T&&37500>Se[2]&&P.F&&P.v==0&&!P.C&&(P.C=hr(S(P.Za,P),6e3));if(1>=_o(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Qr(P,11)}else if((f.K||P.g==f)&&Rs(P),!H(E))for(Se=P.Da.g.parse(E),E=0;E<Se.length;E++){let Kt=Se[E];if(P.T=Kt[0],Kt=Kt[1],P.G==2)if(Kt[0]=="c"){P.K=Kt[1],P.ia=Kt[2];const bn=Kt[3];bn!=null&&(P.la=bn,P.j.info("VER="+P.la));const kn=Kt[4];kn!=null&&(P.Aa=kn,P.j.info("SVER="+P.Aa));const ui=Kt[5];ui!=null&&typeof ui=="number"&&0<ui&&(Q=1.5*ui,P.L=Q,P.j.info("backChannelRequestTimeoutMs_="+Q)),Q=P;const Fr=f.g;if(Fr){const Ds=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var Re=Q.h;Re.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Un(Re,Re.h),Re.h=null))}if(Q.D){const Os=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Os&&(Q.ya=Os,An(Q.I,Q.D,Os))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),Q=P;var Je=f;if(Q.qa=v(Q,Q.J?Q.ia:null,Q.W),Je.K){Fa(Q.h,Je);var Gt=Je,sn=Q.L;sn&&(Gt.I=sn),Gt.B&&(ns(Gt),Cn(Gt)),Q.g=Je}else Ls(Q);0<P.i.length&&as(P)}else Kt[0]!="stop"&&Kt[0]!="close"||Qr(P,7);else P.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Qr(P,7):Gn(P):Kt[0]!="noop"&&P.l&&P.l.ta(Kt),P.v=0)}}Ft(4)}catch{}}var Sl=class{constructor(f,E){this.g=f,this.map=E}};function Hs(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _o(f){return f.h?1:f.g?f.g.size:0}function Lr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Un(f,E){f.g?f.g.add(E):f.h=E}function Fa(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Hs.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ma(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const P of f.g.values())E=E.concat(P.D);return E}return O(f.i)}function bo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var E=[],P=f.length,Q=0;Q<P;Q++)E.push(f[Q]);return E}E=[],P=0;for(Q in f)E[P++]=f[Q];return E}function Ws(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var E=[];f=f.length;for(var P=0;P<f;P++)E.push(P);return E}E=[],P=0;for(const Q in f)E[P++]=Q;return E}}}function Gs(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var P=Ws(f),Q=bo(f),Se=Q.length,Re=0;Re<Se;Re++)E.call(void 0,Q[Re],P&&P[Re],f)}var Rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(f,E){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var Q=f[P].indexOf("="),Se=null;if(0<=Q){var Re=f[P].substring(0,Q);Se=f[P].substring(Q+1)}else Re=f[P];E(Re,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function tr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof tr){this.h=f.h,Ks(this,f.j),this.o=f.o,this.g=f.g,Qs(this,f.s),this.l=f.l;var E=f.i,P=new qi;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),Is(this,P),this.m=f.m}else f&&(E=String(f).match(Rr))?(this.h=!1,Ks(this,E[1]||"",!0),this.o=nn(E[2]||""),this.g=nn(E[3]||"",!0),Qs(this,E[4]),this.l=nn(E[5]||"",!0),Is(this,E[6]||"",!0),this.m=nn(E[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}tr.prototype.toString=function(){var f=[],E=this.j;E&&f.push(rs(E,sa,!0),":");var P=this.g;return(P||E=="file")&&(f.push("//"),(E=this.o)&&f.push(rs(E,sa,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(rs(P,P.charAt(0)=="/"?is:Al,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",rs(P,Ys)),f.join("")};function Dr(f){return new tr(f)}function Ks(f,E,P){f.j=P?nn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Qs(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Is(f,E,P){E instanceof qi?(f.i=E,ss(f.i,f.h)):(P||(E=rs(E,xo)),f.i=new qi(E,f.h))}function An(f,E,P){f.i.set(E,P)}function Ts(f){return An(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function nn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function rs(f,E,P){return typeof f=="string"?(f=encodeURI(f).replace(E,El),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function El(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sa=/[#\/\?@]/g,Al=/[#\?:]/g,is=/[#\?]/g,xo=/[#\?@]/g,Ys=/#/g;function qi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function fn(f){f.g||(f.g=new Map,f.h=0,f.i&&ia(f.i,function(E,P){f.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}n=qi.prototype,n.add=function(f,E){fn(this),this.i=null,f=Ei(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(E),this.h+=1,this};function $i(f,E){fn(f),E=Ei(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Si(f,E){return fn(f),E=Ei(f,E),f.g.has(E)}n.forEach=function(f,E){fn(this),this.g.forEach(function(P,Q){P.forEach(function(Se){f.call(E,Se,Q,this)},this)},this)},n.na=function(){fn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let Q=0;Q<E.length;Q++){const Se=f[Q];for(let Re=0;Re<Se.length;Re++)P.push(E[Q])}return P},n.V=function(f){fn(this);let E=[];if(typeof f=="string")Si(this,f)&&(E=E.concat(this.g.get(Ei(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)E=E.concat(f[P])}return E},n.set=function(f,E){return fn(this),this.i=null,f=Ei(this,f),Si(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Dt(f,E,P){$i(f,E),0<P.length&&(f.i=null,f.g.set(Ei(f,E),O(P)),f.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var Q=E[P];const Re=encodeURIComponent(String(Q)),Je=this.V(Q);for(Q=0;Q<Je.length;Q++){var Se=Re;Je[Q]!==""&&(Se+="="+encodeURIComponent(String(Je[Q]))),f.push(Se)}}return this.i=f.join("&")};function Ei(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function ss(f,E){E&&!f.j&&(fn(f),f.i=null,f.g.forEach(function(P,Q){var Se=Q.toLowerCase();Q!=Se&&($i(this,Q),Dt(this,Se,P))},f)),f.j=E}function os(f,E){const P=new dr;if(u.Image){const Q=new Image;Q.onload=w(Or,P,"TestLoadImage: loaded",!0,E,Q),Q.onerror=w(Or,P,"TestLoadImage: error",!1,E,Q),Q.onabort=w(Or,P,"TestLoadImage: abort",!1,E,Q),Q.ontimeout=w(Or,P,"TestLoadImage: timeout",!1,E,Q),u.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=f}else E(!1)}function Va(f,E){const P=new dr,Q=new AbortController,Se=setTimeout(()=>{Q.abort(),Or(P,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:Q.signal}).then(Re=>{clearTimeout(Se),Re.ok?Or(P,"TestPingServer: ok",!0,E):Or(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Se),Or(P,"TestPingServer: error",!1,E)})}function Or(f,E,P,Q,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),Q(P)}catch{}}function oa(){this.g=new or}function aa(f,E,P){const Q=P||"";try{Gs(f,function(Se,Re){let Je=Se;p(Se)&&(Je=hn(Se)),E.push(Q+Re+"="+encodeURIComponent(Je))})}catch(Se){throw E.push(Q+"type="+encodeURIComponent("_badmap")),Se}}function Cs(f){this.l=f.Ub||null,this.j=f.eb||!1}R(Cs,en),Cs.prototype.g=function(){return new So(this.l,this.j)},Cs.prototype.i=function(f){return function(){return f}}({});function So(f,E){pt.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(So,pt),n=So.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,jr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ai(this):jr(this),this.readyState==3&&kl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ai(this))},n.Qa=function(f){this.g&&(this.response=f,ai(this))},n.ga=function(){this.g&&ai(this)};function ai(f){f.readyState=4,f.l=null,f.j=null,f.v=null,jr(f)}n.setRequestHeader=function(f,E){this.u.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=E.next();return f.join(`\r
`)};function jr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gr(f){let E="";return Ne(f,function(P,Q){E+=Q,E+=":",E+=P,E+=`\r
`}),E}function Js(f,E,P){e:{for(Q in P){var Q=!1;break e}Q=!0}Q||(P=Gr(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):An(f,E,P))}function _n(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(_n,pt);var Ua=/^https?$/i,Xs=["POST","PUT"];n=_n.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,E,P,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?$r(this.o):$r(ar),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Re){Zs(this,Re);return}if(f=P||"",P=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Se in Q)P.set(Se,Q[Se]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Re of Q.keys())P.set(Re,Q.get(Re));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(P.keys()).find(Re=>Re.toLowerCase()=="content-type"),Se=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Xs,E,void 0))||Q||Se||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Je]of P)this.g.setRequestHeader(Re,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{li(this),this.u=!0,this.g.send(f),this.u=!1}catch(Re){Zs(this,Re)}};function Zs(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,Eo(f),Kr(f)}function Eo(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Tt(this,"complete"),Tt(this,"abort"),Kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),_n.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},n.bb=function(){la(this)};function la(f){if(f.h&&typeof l<"u"&&(!f.v[1]||nr(f)!=4||f.Z()!=2)){if(f.u&&nr(f)==4)Ct(f.Ea,0,f);else if(Tt(f,"readystatechange"),nr(f)==4){f.h=!1;try{const Je=f.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var Q;if(Q=Je===0){var Se=String(f.D).match(Rr)[1]||null;!Se&&u.self&&u.self.location&&(Se=u.self.location.protocol.slice(0,-1)),Q=!Ua.test(Se?Se.toLowerCase():"")}P=Q}if(P)Tt(f,"complete"),Tt(f,"success");else{f.m=6;try{var Re=2<nr(f)?f.g.statusText:""}catch{Re=""}f.l=Re+" ["+f.Z()+"]",Eo(f)}}finally{Kr(f)}}}}function Kr(f,E){if(f.g){li(f);const P=f.g,Q=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Tt(f,"ready");try{P.onreadystatechange=Q}catch{}}}function li(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function nr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),yn(E)}};function Ba(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(f){const E={};f=(f.g&&2<=nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<f.length;Q++){if(H(f[Q]))continue;var P=L(f[Q]);const Se=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Re=E[Se]||[];E[Se]=Re,Re.push(P)}B(E,function(Q){return Q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(f,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||E}function Ao(f){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,f),this.cb=fr("retryDelaySeedMs",1e4,f),this.Wa=fr("forwardChannelMaxRetries",2,f),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(f&&f.concurrentRequestLimit),this.Da=new oa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ao.prototype,n.la=8,n.G=1,n.connect=function(f,E,P,Q){at(0),this.W=f,this.H=E||{},P&&Q!==void 0&&(this.H.OSID=P,this.H.OAID=Q),this.F=this.X,this.I=v(this,null,this.W),as(this)};function Gn(f){if(Ps(f),f.G==3){var E=f.U++,P=Dr(f.I);if(An(P,"SID",f.K),An(P,"RID",E),An(P,"TYPE","terminate"),ls(f,P),E=new er(f,f.j,E),E.L=2,E.v=Ts(Dr(P)),P=!1,u.navigator&&u.navigator.sendBeacon)try{P=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&u.Image&&(new Image().src=E.v,P=!0),P||(E.g=V(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Cn(E)}ha(f)}function Wi(f){f.g&&(ua(f),f.g.cancel(),f.g=null)}function Ps(f){Wi(f),f.u&&(u.clearTimeout(f.u),f.u=null),Rs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function as(f){if(!oi(f.h)&&!f.s){f.s=!0;var E=f.Ga;we||fe(),ie||(we(),ie=!0),_e.add(E,f),f.B=0}}function za(f,E){return _o(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=hr(S(f.Ga,f,E),ca(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Se=new er(this,this.j,f);let Re=this.o;if(this.S&&(Re?(Re=C(Re),G(Re,this.S)):Re=this.S),this.m!==null||this.O||(Se.H=Re,Re=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var Q=this.i[P];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(E+=Q,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=Gi(this,Se,E),P=Dr(this.I),An(P,"RID",f),An(P,"CVER",22),this.D&&An(P,"X-HTTP-Session-Id",this.D),ls(this,P),Re&&(this.O?E="headers="+encodeURIComponent(String(Gr(Re)))+"&"+E:this.m&&Js(P,this.m,Re)),Un(this.h,Se),this.Ua&&An(P,"TYPE","init"),this.P?(An(P,"$req",E),An(P,"SID","null"),Se.T=!0,ks(Se,P,null)):ks(Se,P,E),this.G=2}}else this.G==3&&(f?eo(this,f):this.i.length==0||oi(this.h)||eo(this))};function eo(f,E){var P;E?P=E.l:P=f.U++;const Q=Dr(f.I);An(Q,"SID",f.K),An(Q,"RID",P),An(Q,"AID",f.T),ls(f,Q),f.m&&f.o&&Js(Q,f.m,f.o),P=new er(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Gi(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Un(f.h,P),ks(P,Q,E)}function ls(f,E){f.H&&Ne(f.H,function(P,Q){An(E,Q,P)}),f.l&&Gs({},function(P,Q){An(E,Q,P)})}function Gi(f,E,P){P=Math.min(f.i.length,P);var Q=f.l?S(f.l.Na,f.l,f):null;e:{var Se=f.i;let Re=-1;for(;;){const Je=["count="+P];Re==-1?0<P?(Re=Se[0].g,Je.push("ofs="+Re)):Re=0:Je.push("ofs="+Re);let Gt=!0;for(let sn=0;sn<P;sn++){let Kt=Se[sn].g;const bn=Se[sn].map;if(Kt-=Re,0>Kt)Re=Math.max(0,Se[sn].g-100),Gt=!1;else try{aa(bn,Je,"req"+Kt+"_")}catch{Q&&Q(bn)}}if(Gt){Q=Je.join("&");break e}}}return f=f.i.splice(0,P),E.D=f,Q}function Ls(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;we||fe(),ie||(we(),ie=!0),_e.add(E,f),f.v=0}}function to(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=hr(S(f.Fa,f),ca(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=hr(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Wi(this),Nl(this))};function ua(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Nl(f){f.g=new er(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Dr(f.qa);An(E,"RID","rpc"),An(E,"SID",f.K),An(E,"AID",f.T),An(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&An(E,"TO",f.ja),An(E,"TYPE","xmlhttp"),ls(f,E),f.m&&f.o&&Js(E,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Ts(Dr(E)),P.m=null,P.P=!0,$s(P,f)}n.Za=function(){this.C!=null&&(this.C=null,Wi(this),to(this),at(19))};function Rs(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function us(f,E){var P=null;if(f.g==E){Rs(f),ua(f),f.g=null;var Q=2}else if(Lr(f.h,E))P=E.D,Fa(f.h,E),Q=1;else return;if(f.G!=0){if(E.o)if(Q==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var Se=f.B;Q=mt(),Tt(Q,new Zn(Q,P)),as(f)}else Ls(f);else if(Se=E.s,Se==3||Se==0&&0<E.X||!(Q==1&&za(f,E)||Q==2&&to(f)))switch(P&&0<P.length&&(E=f.h,E.i=E.i.concat(P)),Se){case 1:Qr(f,5);break;case 4:Qr(f,10);break;case 3:Qr(f,6);break;default:Qr(f,2)}}}function ca(f,E){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*E}function Qr(f,E){if(f.j.info("Error code "+E),E==2){var P=S(f.fb,f),Q=f.Xa;const Se=!Q;Q=new tr(Q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ks(Q,"https"),Ts(Q),Se?os(Q.toString(),P):Va(Q.toString(),P)}else at(2);f.G=0,f.l&&f.l.sa(E),ha(f),Ps(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ha(f){if(f.G=0,f.ka=[],f.l){const E=Ma(f.h);(E.length!=0||f.i.length!=0)&&(U(f.ka,E),U(f.ka,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.ra()}}function v(f,E,P){var Q=P instanceof tr?Dr(P):new tr(P);if(Q.g!="")E&&(Q.g=E+"."+Q.g),Qs(Q,Q.s);else{var Se=u.location;Q=Se.protocol,E=E?E+"."+Se.hostname:Se.hostname,Se=+Se.port;var Re=new tr(null);Q&&Ks(Re,Q),E&&(Re.g=E),Se&&Qs(Re,Se),P&&(Re.l=P),Q=Re}return P=f.D,E=f.ya,P&&E&&An(Q,P,E),An(Q,"VER",f.la),ls(f,Q),Q}function V(f,E,P){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new _n(new Cs({eb:P})):new _n(f.pa),E.Ha(f.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function re(){}n=re.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function de(){}de.prototype.g=function(f,E){return new ke(f,E)};function ke(f,E){pt.call(this),this.g=new Ao(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!H(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!H(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new ct(this)}R(ke,pt),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Gn(this.g)},ke.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=hn(f),f=P);E.i.push(new Sl(E.Ya++,f)),E.G==3&&as(E)},ke.prototype.N=function(){this.g.l=null,delete this.j,Gn(this.g),delete this.g,ke.aa.N.call(this)};function Ve(f){ve.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const P in E){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}R(Ve,ve);function Qe(){Oe.call(this),this.status=1}R(Qe,Oe);function ct(f){this.g=f}R(ct,re),ct.prototype.ua=function(){Tt(this.g,"a")},ct.prototype.ta=function(f){Tt(this.g,new Ve(f))},ct.prototype.sa=function(f){Tt(this.g,new Qe)},ct.prototype.ra=function(){Tt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,a_=function(){return new de},o_=function(){return mt()},s_=ze,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,Of=Hr,bi.COMPLETE="complete",i_=bi,dn.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,$h=dn,_n.prototype.listenOnce=_n.prototype.L,_n.prototype.getLastError=_n.prototype.Ka,_n.prototype.getLastErrorCode=_n.prototype.Ba,_n.prototype.getStatus=_n.prototype.Z,_n.prototype.getResponseJson=_n.prototype.Oa,_n.prototype.getResponseText=_n.prototype.oa,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Ha,r_=_n}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",Uy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new wp("@firebase/firestore");function Vc(){return nc.logLevel}function wt(n,...e){if(nc.logLevel<=un.DEBUG){const t=e.map(E0);nc.debug(`Firestore (${fh}): ${n}`,...t)}}function yl(n,...e){if(nc.logLevel<=un.ERROR){const t=e.map(E0);nc.error(`Firestore (${fh}): ${n}`,...t)}}function wu(n,...e){if(nc.logLevel<=un.WARN){const t=e.map(E0);nc.warn(`Firestore (${fh}): ${n}`,...t)}}function E0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,l_(n,r,t)}function l_(n,e,t){let r=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yl(r),new Error(r)}function Rn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||l_(e,s,r)}function Jt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}}class ZI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class e6{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rn(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new pu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pu,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pu)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rn(typeof r.accessToken=="string",31837,{l:r}),new u_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class t6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new t6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,po(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rn(this.o===void 0,3512);const r=o=>{o.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,wt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new By(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=i6(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return rn(r,s);{const o=c_(),l=s6(o.encode(zy(n,t)),o.encode(zy(e,t)));return l!==0?l:rn(r,s)}}t+=r>65535?2:1}return rn(n.length,e.length)}function zy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function s6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return rn(n[t],e[t]);return rn(n.length,e.length)}function nh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class Sa{constructor(e,t,r){t===void 0?t=0:t>e.length&&qt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&qt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Sa.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return rn(e.length,t.length)}static compareSegments(e,t){const r=Sa.isNumericId(e),s=Sa.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Sa.extractNumericId(e).compare(Sa.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fu.fromString(e.substring(4,e.length-2))}}class Hn extends Sa{construct(e,t,r){return new Hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new vt(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const o6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends Sa{construct(e,t,r){return new wi(e,t,r)}static isValidIdentifier(e){return o6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new wi([qy])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new vt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new vt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new vt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new vt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(Hn.fromString(e))}static fromName(e){return new Lt(Hn.fromString(e).popFirst(5))}static empty(){return new Lt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new Hn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n,e,t){if(!t)throw new vt(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function a6(n,e,t,r){if(e===!0&&r===!0)throw new vt(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $y(n){if(!Lt.isDocumentKey(n))throw new vt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hy(n){if(Lt.isDocumentKey(n))throw new vt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ap(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qt(12329,{type:typeof n})}function ad(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ap(n);throw new vt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sd(n,e){if(!d_(n))throw new vt(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new vt(Ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-62135596800,Gy=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Gy);return new Jn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wy)throw new vt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sd(e,Jn._jsonSchema))return new Jn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jn._jsonSchemaVersion="firestore/timestamp/1.0",Jn._jsonSchema={type:Cr("string",Jn._jsonSchemaVersion),seconds:Cr("number"),nanoseconds:Cr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new Jn(0,0))}static max(){return new Qt(new Jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function l6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qt.fromTimestamp(r===1e9?new Jn(t+1,0):new Jn(t,r));return new _u(s,Lt.empty(),e)}function u6(n){return new _u(n.readTime,n.key,ld)}class _u{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _u(Qt.min(),Lt.empty(),ld)}static max(){return new _u(Qt.max(),Lt.empty(),ld)}}function c6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Lt.comparator(n.documentKey,e.documentKey),t!==0?t:rn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==h6)throw n;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,r)=>{t(e)})}static reject(e){return new Ke((t,r)=>{r(e)})}static waitFor(e){return new Ke((t,r)=>{let s=0,o=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&t()},h=>r(h))}),l=!0,o===s&&t()})}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next(s=>s?Ke.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Ke((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(y=>{l[p]=y,++u,u===o&&r(l)},y=>s(y))}})}static doWhile(e,t){return new Ke((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function f6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}kp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-1;function Np(n){return n==null}function np(n){return n===0&&1/n==-1/0}function p6(n){return typeof n=="number"&&Number.isInteger(n)&&!np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function m6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ky(e)),e=g6(n.get(t),e);return Ky(e)}function g6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case f_:t+="";break;default:t+=o}}return t}function Ky(n){return n+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??vi.RED,this.left=s??vi.EMPTY,this.right=o??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new vi(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qt(27949);return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new vi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qr(this.comparator);return t.data=e,t}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Qo([])}unionWith(e){let t=new qr(wi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new m_("Invalid base64 string: "+o):o}}(e);return new _i(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if(Rn(!!n,39018),typeof n=="string"){let e=0;const t=y6.exec(n);if(Rn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xu(n){return typeof n=="string"?_i.fromBase64String(n):_i.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",y_="__type__",v_="__previous_value__",w_="__local_write_time__";function N0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[y_])===null||t===void 0?void 0:t.stringValue)===g_}function Ip(n){const e=n.mapValue.fields[v_];return N0(e)?Ip(e):e}function ud(n){const e=bu(n.mapValue.fields[w_].timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,t,r,s,o,l,u,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=y}}const rp="(default)";class cd{constructor(e,t){this.projectId=e,this.database=t||rp}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===rp}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__type__",w6="__max__",vf={mapValue:{}},b_="__vector__",ip="value";function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?N0(n)?4:b6(n)?9007199254740991:_6(n)?10:11:qt(28295,{value:n})}function Ra(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ud(n).isEqual(ud(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=bu(s.timestampValue),u=bu(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return xu(s.bytesValue).isEqual(xu(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Sr(s.geoPointValue.latitude)===Sr(o.geoPointValue.latitude)&&Sr(s.geoPointValue.longitude)===Sr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Sr(s.integerValue)===Sr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Sr(s.doubleValue),u=Sr(o.doubleValue);return l===u?np(l)===np(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return nh(n.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(Qy(l)!==Qy(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ra(l[h],u[h])))return!1;return!0}(n,e);default:return qt(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>Ra(t,e))!==void 0}function rh(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Sr(o.integerValue||o.doubleValue),h=Sr(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return Jy(n.timestampValue,e.timestampValue);case 4:return Jy(ud(n),ud(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return function(o,l){const u=xu(o),h=xu(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=rn(u[p],h[p]);if(y!==0)return y}return rn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=rn(Sr(o.latitude),Sr(l.latitude));return u!==0?u:rn(Sr(o.longitude),Sr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xy(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,p,y;const _=o.fields||{},S=l.fields||{},w=(u=_[ip])===null||u===void 0?void 0:u.arrayValue,R=(h=S[ip])===null||h===void 0?void 0:h.arrayValue,O=rn(((p=w?.values)===null||p===void 0?void 0:p.length)||0,((y=R?.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:Xy(w,R)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===vf.mapValue&&l===vf.mapValue)return 0;if(o===vf.mapValue)return 1;if(l===vf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const S=Dg(h[_],y[_]);if(S!==0)return S;const w=rh(u[h[_]],p[y[_]]);if(w!==0)return w}return rn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw qt(23264,{le:t})}}function Jy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rn(n,e);const t=bu(n),r=bu(e),s=rn(t.seconds,r.seconds);return s!==0?s:rn(t.nanos,r.nanos)}function Xy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=rh(t[s],r[s]);if(o)return o}return rn(t.length,r.length)}function ih(n){return Og(n)}function Og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Lt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Og(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Og(t.fields[l])}`;return s+"}"}(n.mapValue):qt(61005,{value:n})}function jf(n){switch(Su(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ip(n);return e?16+jf(e):16;case 5:return 2*n.stringValue.length;case 6:return xu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+jf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ac(r.fields,(o,l)=>{s+=o.length+jf(l)}),s}(n.mapValue);default:throw qt(13486,{value:n})}}function Zy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jg(n){return!!n&&"integerValue"in n}function I0(n){return!!n&&"arrayValue"in n}function ev(n){return!!n&&"nullValue"in n}function tv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ff(n){return!!n&&"mapValue"in n}function _6(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||t===void 0?void 0:t.stringValue)===b_}function Xh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===w6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xh(t)}setAll(e){let t=wi.emptyPath(),r={},s=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Xh(l):s.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ff(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ac(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new mo(Xh(this.value))}}function x_(n){const e=[];return ac(n.fields,(t,r)=>{const s=new wi([t]);if(Ff(r)){const o=x_(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Qo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,r,s,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Vi(e,0,Qt.min(),Qt.min(),Qt.min(),mo.empty(),0)}static newFoundDocument(e,t,r,s){return new Vi(e,1,t,Qt.min(),r,s,0)}static newNoDocument(e,t){return new Vi(e,2,t,Qt.min(),Qt.min(),mo.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,Qt.min(),Qt.min(),mo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){this.position=e,this.inclusive=t}}function nv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?r=Lt.comparator(Lt.fromName(l.referenceValue),t.key):r=rh(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ra(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function x6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{}class Tr extends S_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E6(e,t,r):t==="array-contains"?new N6(e,r):t==="in"?new I6(e,r):t==="not-in"?new T6(e,r):t==="array-contains-any"?new C6(e,r):new Tr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A6(e,r):new k6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rh(t,this.value)):t!==null&&Su(this.value)===Su(t)&&this.matchesComparison(rh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zo extends S_{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Zo(e,t)}matches(e){return E_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function E_(n){return n.op==="and"}function A_(n){return S6(n)&&E_(n)}function S6(n){for(const e of n.filters)if(e instanceof Zo)return!1;return!0}function Fg(n){if(n instanceof Tr)return n.field.canonicalString()+n.op.toString()+ih(n.value);if(A_(n))return n.filters.map(e=>Fg(e)).join(",");{const e=n.filters.map(t=>Fg(t)).join(",");return`${n.op}(${e})`}}function k_(n,e){return n instanceof Tr?function(r,s){return s instanceof Tr&&r.op===s.op&&r.field.isEqual(s.field)&&Ra(r.value,s.value)}(n,e):n instanceof Zo?function(r,s){return s instanceof Zo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,u)=>o&&k_(l,s.filters[u]),!0):!1}(n,e):void qt(19439)}function N_(n){return n instanceof Tr?function(t){return`${t.field.canonicalString()} ${t.op} ${ih(t.value)}`}(n):n instanceof Zo?function(t){return t.op.toString()+" {"+t.getFilters().map(N_).join(" ,")+"}"}(n):"Filter"}class E6 extends Tr{constructor(e,t,r){super(e,t,r),this.key=Lt.fromName(r.referenceValue)}matches(e){const t=Lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class A6 extends Tr{constructor(e,t){super(e,"in",t),this.keys=I_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k6 extends Tr{constructor(e,t){super(e,"not-in",t),this.keys=I_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Lt.fromName(r.referenceValue))}class N6 extends Tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return I0(t)&&hd(t.arrayValue,this.value)}}class I6 extends Tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}}class T6 extends Tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}}class C6 extends Tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!I0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function iv(n,e=null,t=[],r=[],s=null,o=null,l=null){return new P6(n,e,t,r,s,o,l)}function T0(n){const e=Jt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ih(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ih(r)).join(",")),e.Pe=t}return e.Pe}function C0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rv(n.startAt,e.startAt)&&rv(n.endAt,e.endAt)}function Mg(n){return Lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t=null,r=[],s=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function L6(n,e,t,r,s,o,l,u){return new gh(n,e,t,r,s,o,l,u)}function T_(n){return new gh(n)}function sv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function C_(n){return n.collectionGroup!==null}function Zh(n){const e=Jt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new qr(wi.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new dd(o,r))}),t.has(wi.keyField().canonicalString())||e.Te.push(new dd(wi.keyField(),r))}return e.Te}function Ia(n){const e=Jt(n);return e.Ie||(e.Ie=R6(e,Zh(n))),e.Ie}function R6(n,e){if(n.limitType==="F")return iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new dd(s.field,o)});const t=n.endAt?new sp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sp(n.startAt.position,n.startAt.inclusive):null;return iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vg(n,e){const t=n.filters.concat([e]);return new gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ug(n,e,t){return new gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tp(n,e){return C0(Ia(n),Ia(e))&&n.limitType===e.limitType}function P_(n){return`${T0(Ia(n))}|lt:${n.limitType}`}function Uc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>N_(s)).join(", ")}]`),Np(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ih(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ih(s)).join(",")),`Target(${r})`}(Ia(n))}; limitType=${n.limitType})`}function Cp(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Lt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Zh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,u,h){const p=nv(l,u,h);return l.inclusive?p<=0:p<0}(r.startAt,Zh(r),s)||r.endAt&&!function(l,u,h){const p=nv(l,u,h);return l.inclusive?p>=0:p>0}(r.endAt,Zh(r),s))}(n,e)}function D6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L_(n){return(e,t)=>{let r=!1;for(const s of Zh(n)){const o=O6(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function O6(n,e,t){const r=n.field.isKeyField()?Lt.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),p=u.data.field(o);return h!==null&&p!==null?rh(h,p):qt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new cr(Lt.comparator);function vl(){return j6}const R_=new cr(Lt.comparator);function Hh(...n){let e=R_;for(const t of n)e=e.insert(t.key,t);return e}function D_(n){let e=R_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yu(){return ed()}function O_(){return ed()}function ed(){return new lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const F6=new cr(Lt.comparator),M6=new qr(Lt.comparator);function cn(...n){let e=M6;for(const t of n)e=e.add(t);return e}const V6=new qr(rn);function U6(){return V6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function j_(n){return{integerValue:""+n}}function B6(n,e){return p6(e)?j_(e):P0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function z6(n,e,t){return n instanceof fd?function(s,o){const l={fields:{[y_]:{stringValue:g_},[w_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&N0(o)&&(o=Ip(o)),o&&(l.fields[v_]=o),{mapValue:l}}(t,e):n instanceof pd?M_(n,e):n instanceof md?V_(n,e):function(s,o){const l=F_(s,o),u=ov(l)+ov(s.Ee);return jg(l)&&jg(s.Ee)?j_(u):P0(s.serializer,u)}(n,e)}function q6(n,e,t){return n instanceof pd?M_(n,e):n instanceof md?V_(n,e):t}function F_(n,e){return n instanceof op?function(r){return jg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fd extends Pp{}class pd extends Pp{constructor(e){super(),this.elements=e}}function M_(n,e){const t=U_(e);for(const r of n.elements)t.some(s=>Ra(s,r))||t.push(r);return{arrayValue:{values:t}}}class md extends Pp{constructor(e){super(),this.elements=e}}function V_(n,e){let t=U_(e);for(const r of n.elements)t=t.filter(s=>!Ra(s,r));return{arrayValue:{values:t}}}class op extends Pp{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ov(n){return Sr(n.integerValue||n.doubleValue)}function U_(n){return I0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.field=e,this.transform=t}}function H6(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof pd&&s instanceof pd||r instanceof md&&s instanceof md?nh(r.elements,s.elements,Ra):r instanceof op&&s instanceof op?Ra(r.Ee,s.Ee):r instanceof fd&&s instanceof fd}(n.transform,e.transform)}class W6{constructor(e,t){this.version=e,this.transformResults=t}}class fl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fl}static exists(e){return new fl(void 0,e)}static updateTime(e){return new fl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lp{}function B_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new q_(n.key,fl.none()):new Ed(n.key,n.data,fl.none());{const t=n.data,r=mo.empty();let s=new qr(wi.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new uc(n.key,r,new Qo(s.toArray()),fl.none())}}function G6(n,e,t){n instanceof Ed?function(s,o,l){const u=s.value.clone(),h=lv(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof uc?function(s,o,l){if(!Mf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=lv(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(z_(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function td(n,e,t,r){return n instanceof Ed?function(o,l,u,h){if(!Mf(o.precondition,l))return u;const p=o.value.clone(),y=uv(o.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof uc?function(o,l,u,h){if(!Mf(o.precondition,l))return u;const p=uv(o.fieldTransforms,h,l),y=l.data;return y.setAll(z_(o)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,u){return Mf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function K6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=F_(r.transform,s||null);o!=null&&(t===null&&(t=mo.empty()),t.set(r.field,o))}return t||null}function av(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nh(r,s,(o,l)=>H6(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ed extends Lp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uc extends Lp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function z_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lv(n,e,t){const r=new Map;Rn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,q6(l,u,t[s]))}return r}function uv(n,e,t){const r=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);r.set(s.field,z6(o,l,e))}return r}class q_ extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q6 extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&G6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=td(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=td(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=O_();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(s.key)?null:u;const h=B_(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Qt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(t,r)=>av(t,r))&&nh(this.baseMutations,e.baseMutations,(t,r)=>av(t,r))}}class L0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Rn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return F6}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new L0(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,gn;function Z6(n){switch(n){case Ge.OK:return qt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return qt(15467,{code:n})}}function $_(n){if(n===void 0)return yl("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case Ir.OK:return Ge.OK;case Ir.CANCELLED:return Ge.CANCELLED;case Ir.UNKNOWN:return Ge.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Ge.INTERNAL;case Ir.UNAVAILABLE:return Ge.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Ge.NOT_FOUND;case Ir.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Ir.ABORTED:return Ge.ABORTED;case Ir.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Ir.DATA_LOSS:return Ge.DATA_LOSS;default:return qt(39323,{code:n})}}(gn=Ir||(Ir={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new fu([4294967295,4294967295],0);function cv(n){const e=c_().encode(n),t=new n_;return t.update(e),new Uint8Array(t.digest())}function hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fu([t,r],0),new fu([s,o],0)]}class R0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wh(`Invalid padding: ${t}`);if(r<0)throw new Wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wh(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fu.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(fu.fromNumber(r)));return s.compare(eT)===1&&(s=new fu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=cv(e),[r,s]=hv(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,s,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new R0(o,s,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.fe===0)return;const t=cv(e),[r,s]=hv(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,s,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rp(Qt.min(),s,new cr(rn),vl(),cn())}}class Ad{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ad(r,t,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class H_{constructor(e,t){this.targetId=e,this.De=t}}class W_{constructor(e,t,r=_i.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class dv{constructor(){this.ve=0,this.Ce=fv(),this.Fe=_i.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=cn(),t=cn(),r=cn();return this.Ce.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:qt(38017,{changeType:o})}}),new Ad(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=fv()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Rn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class tT{constructor(e){this.We=e,this.Ge=new Map,this.ze=vl(),this.je=wf(),this.Je=wf(),this.He=new cr(rn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:qt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const o=s.target;if(Mg(o))if(r===0){const l=new Lt(o.path);this.Xe(t,l,Vi.newNoDocument(l,Qt.min()))}else Rn(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),h=u?this.ut(u,e,l):1;if(h!==0){this.rt(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let l,u;try{l=xu(r).toUint8Array()}catch(h){if(h instanceof m_)return wu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new R0(l,s,o)}catch(h){return wu(h instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,o,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((o,l)=>{const u=this.st(l);if(u){if(o.current&&Mg(u.target)){const h=new Lt(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Vi.newNoDocument(h,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}});let r=cn();this.Je.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const p=this.st(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const s=new Rp(e,t,this.He,this.ze,r);return this.ze=vl(),this.je=wf(),this.Je=wf(),this.He=new cr(rn),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new dv,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new qr(rn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new qr(rn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||wt("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dv),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function wf(){return new cr(Lt.comparator)}function fv(){return new cr(Lt.comparator)}const nT={asc:"ASCENDING",desc:"DESCENDING"},rT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iT={and:"AND",or:"OR"};class sT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bg(n,e){return n.useProto3Json||Np(e)?e:{value:e}}function ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oT(n,e){return ap(n,e.toTimestamp())}function Ta(n){return Rn(!!n,49232),Qt.fromTimestamp(function(t){const r=bu(t);return new Jn(r.seconds,r.nanos)}(n))}function D0(n,e){return zg(n,e).canonicalString()}function zg(n,e){const t=function(s){return new Hn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function K_(n){const e=Hn.fromString(n);return Rn(Z_(e),10190,{key:e.toString()}),e}function qg(n,e){return D0(n.databaseId,e.path)}function Xm(n,e){const t=K_(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Lt(Y_(t))}function Q_(n,e){return D0(n.databaseId,e)}function aT(n){const e=K_(n);return e.length===4?Hn.emptyPath():Y_(e)}function $g(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Y_(n){return Rn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pv(n,e,t){return{name:qg(n,e),fields:t.value.mapValue.fields}}function lT(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:qt(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Rn(y===void 0||typeof y=="string",58123),_i.fromBase64String(y||"")):(Rn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_i.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const y=p.code===void 0?Ge.UNKNOWN:$_(p.code);return new vt(y,p.message||"")}(l);t=new W_(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xm(n,r.document.name),o=Ta(r.document.updateTime),l=r.document.createTime?Ta(r.document.createTime):Qt.min(),u=new mo({mapValue:{fields:r.document.fields}}),h=Vi.newFoundDocument(s,o,l,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Vf(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xm(n,r.document),o=r.readTime?Ta(r.readTime):Qt.min(),l=Vi.newNoDocument(s,o),u=r.removedTargetIds||[];t=new Vf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xm(n,r.document),o=r.removedTargetIds||[];t=new Vf([],o,s,null)}else{if(!("filter"in e))return qt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new X6(s,o),u=r.targetId;t=new H_(u,l)}}return t}function uT(n,e){let t;if(e instanceof Ed)t={update:pv(n,e.key,e.value)};else if(e instanceof q_)t={delete:qg(n,e.key)};else if(e instanceof uc)t={update:pv(n,e.key,e.data),updateMask:vT(e.fieldMask)};else{if(!(e instanceof Q6))return qt(16599,{Rt:e.type});t={verify:qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof fd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof md)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof op)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw qt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:oT(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qt(27497)}(n,e.precondition)),t}function cT(n,e){return n&&n.length>0?(Rn(e!==void 0,14353),n.map(t=>function(s,o){let l=s.updateTime?Ta(s.updateTime):Ta(o);return l.isEqual(Qt.min())&&(l=Ta(o)),new W6(l,s.transformResults||[])}(t,e))):[]}function hT(n,e){return{documents:[Q_(n,e.path)]}}function dT(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Q_(n,s);const o=function(p){if(p.length!==0)return X_(Zo.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(y=>function(S){return{field:Bc(S.field),direction:mT(S.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Bg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function fT(n){let e=aT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Rn(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const S=J_(_);return S instanceof Zo&&A_(S)?S.getFilters():[S]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(S=>function(R){return new dd(zc(R.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(S))}(t.orderBy));let u=null;t.limit&&(u=function(_){let S;return S=typeof _=="object"?_.value:_,Np(S)?null:S}(t.limit));let h=null;t.startAt&&(h=function(_){const S=!!_.before,w=_.values||[];return new sp(w,S)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const S=!_.before,w=_.values||[];return new sp(w,S)}(t.endAt)),L6(e,s,l,o,u,"F",h,p)}function pT(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zc(t.unaryFilter.field);return Tr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zc(t.unaryFilter.field);return Tr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zc(t.unaryFilter.field);return Tr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zc(t.unaryFilter.field);return Tr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tr.create(zc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zo.create(t.compositeFilter.filters.map(r=>J_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(t.compositeFilter.op))}(n):qt(30097,{filter:n})}function mT(n){return nT[n]}function gT(n){return rT[n]}function yT(n){return iT[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function zc(n){return wi.fromServerFormat(n.fieldPath)}function X_(n){return n instanceof Tr?function(t){if(t.op==="=="){if(tv(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NAN"}};if(ev(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tv(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NAN"}};if(ev(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(t.field),op:gT(t.op),value:t.value}}}(n):n instanceof Zo?function(t){const r=t.getFilters().map(s=>X_(s));return r.length===1?r[0]:{compositeFilter:{op:yT(t.op),filters:r}}}(n):qt(54877,{filter:n})}function vT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Z_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,r,s,o=Qt.min(),l=Qt.min(),u=_i.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.gt=e}}function _T(n){const e=fT({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.Dn=new xT}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(_u.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(_u.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class xT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new qr(Hn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qr(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class _s{static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(eb,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new sh(0)}static ur(){return new sh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LruGarbageCollector",ST=1048576;function yv([n,e],[t,r]){const s=rn(n,t);return s===0?rn(e,r):s}class ET{constructor(e){this.Tr=e,this.buffer=new qr(yv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AT{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){wt(gv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mh(t)?wt(gv,"Ignoring IndexedDB error during garbage collection: ",t):await ph(t)}await this.Rr(3e5)})}}class kT{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(kp.ue);const r=new ET(t);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(mv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,o,l,u,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Vc()<=un.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function NT(n,e){return new kT(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.changes=new lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&td(r.mutation,s,Qo.empty(),Jn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const s=Yu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let l=Hh();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Yu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,s){let o=vl();const l=ed(),u=function(){return ed()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof uc)?o=o.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),td(y.mutation,p,y.mutation.getFieldMask(),Jn.now())):l.set(p.key,Qo.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var _;return u.set(p,new TT(y,(_=l.get(p))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ed();let s=new cr((l,u)=>l-u),o=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Qo.empty();y=u.applyToLocalView(p,y),r.set(h,y);const _=(s.get(u.batchId)||cn()).add(h);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,y=h.value,_=O_();y.forEach(S=>{if(!o.has(S)){const w=B_(t.get(S),r.get(S));w!==null&&_.set(S,w),o=o.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Ke.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Lt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):C_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ke.resolve(Yu());let u=ld,h=o;return l.next(p=>Ke.forEach(p,(y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(y)?Ke.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{h=h.insert(y,S)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,cn())).next(y=>({batchId:u,changes:D_(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lt(t)).next(r=>{let s=Hh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let l=Hh();return this.indexManager.getCollectionParents(e,o).next(u=>Ke.forEach(u,h=>{const p=function(_,S){return new gh(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((_,S)=>{l=l.insert(_,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(l=>{o.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Vi.newInvalidDocument(y)))});let u=Hh();return l.forEach((h,p)=>{const y=o.get(h);y!==void 0&&td(y.mutation,p,Qo.empty(),Jn.now()),Cp(t,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ta(s.createTime)}}(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:_T(s.bundledQuery),readTime:Ta(s.readTime)}}(t)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.overlays=new cr(Lt.comparator),this.kr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yu();return Ke.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.wt(e,t,o)}),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const s=Yu(),o=t.length+1,l=new Lt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new cr((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Yu(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=Yu(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>u.set(p,y)),!(u.size()>=s)););return Ke.resolve(u)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new J6(t,r));let o=this.kr.get(t);o===void 0&&(o=cn(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.sessionToken=_i.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.qr=new qr(ri.Qr),this.$r=new qr(ri.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new ri(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ri(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Lt(new Hn([])),r=new ri(t,e),s=new ri(t,e+1),o=[];return this.$r.forEachInRange([r,s],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Lt(new Hn([])),r=new ri(t,e),s=new ri(t,e+1);let o=cn();return this.$r.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new ri(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Lt.comparator(e.key,t.key)||rn(e.Hr,t.Hr)}static Ur(e,t){return rn(e.Hr,t.Hr)||Lt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new qr(ri.Qr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Y6(o,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Yr=this.Yr.add(new ri(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ke.resolve(l)}lookupMutationBatch(e,t){return Ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?k0:this.er-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),s=new ri(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],l=>{const u=this.Zr(l.Hr);o.push(u)}),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(rn);return t.forEach(s=>{const o=new ri(s,0),l=new ri(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],u=>{r=r.add(u.Hr)})}),Ke.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Lt.isDocumentKey(o)||(o=o.child(""));const l=new ri(new Lt(o),0);let u=new qr(rn);return this.Yr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Hr)),!0)},l),Ke.resolve(this.ei(u))}ei(e){const t=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Rn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Ke.forEach(t.mutations,s=>{const o=new ri(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new ri(t,0),s=this.Yr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.ni=e,this.docs=function(){return new cr(Lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let r=vl();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Vi.newInvalidDocument(s))}),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=vl();const l=t.path,u=new Lt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||c6(u6(y),r)<=0||(s.has(y.key)||Cp(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,s){qt(9500)}ri(e,t){return Ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jT(this)}getSize(e){return Ke.resolve(this.size)}}class jT extends IT{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),Ke.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.persistence=e,this.ii=new lc(t=>T0(t),C0),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.si=0,this.oi=new O0,this.targetCount=0,this._i=sh.ar()}forEachTarget(e,t){return this.ii.forEach((r,s)=>t(s)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Ke.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new sh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.hr(t),Ke.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),Ke.waitFor(o).next(()=>s)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.ai={},this.overlays={},this.ui=new kp(0),this.ci=!1,this.ci=!0,this.li=new RT,this.referenceDelegate=e(this),this.hi=new FT(this),this.indexManager=new bT,this.remoteDocumentCache=function(s){return new OT(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new wT(t),this.Ti=new PT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new DT(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){wt("MemoryPersistence","Starting transaction:",e);const s=new MT(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,t){return Ke.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class MT extends d6{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Ai=new O0,this.Ri=null}static Vi(e){return new j0(e)}get mi(){if(this.Ri)return this.Ri;throw qt(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.mi,r=>{const s=Lt.fromPath(r);return this.fi(e,s).next(o=>{o||t.removeEntry(s,Qt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ke.or([()=>Ke.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class lp{constructor(e,t){this.persistence=e,this.gi=new lc(r=>m6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NT(this,t)}static Vi(e,t){return new lp(e,t)}Ii(){}di(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return Ke.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(o=>o?Ke.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,l=>this.Sr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Qt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ke.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jf(e.data.value)),t}Sr(e,t,r){return Ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return Ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=cn(),s=cn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new F0(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WS()?8:f6(Bi())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ps(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,t,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new VT;return this.ws(e,t,l).next(u=>{if(o.result=u,this.Rs)return this.Ss(e,t,l,u.size)})}).next(()=>o.result)}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(Vc()<=un.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",Uc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ke.resolve()):(Vc()<=un.DEBUG&&wt("QueryEngine","Query:",Uc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Vc()<=un.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",Uc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ia(t))):Ke.resolve())}ps(e,t){if(sv(t))return Ke.resolve(null);let r=Ia(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ug(t,null,"F"),r=Ia(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=cn(...o);return this.gs.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.bs(t,u);return this.Ds(t,p,l,h.readTime)?this.ps(e,Ug(t,null,"F")):this.vs(e,p,t,h)}))})))}ys(e,t,r,s){return sv(t)||s.isEqual(Qt.min())?Ke.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(t,o);return this.Ds(t,l,r,s)?Ke.resolve(null):(Vc()<=un.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uc(t)),this.vs(e,l,t,l6(s,ld)).next(u=>u))})}bs(e,t){let r=new qr(L_(e));return t.forEach((s,o)=>{Cp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,t,r){return Vc()<=un.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",Uc(t)),this.gs.getDocumentsMatchingQuery(e,t,_u.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LocalStore",BT=3e8;class zT{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new cr(rn),this.Ms=new lc(o=>T0(o),C0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function qT(n,e,t,r){return new zT(n,e,t,r)}async function nb(n,e){const t=Jt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=cn();for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Bs:p,removedBatchIds:l,addedBatchIds:u}))})})}function $T(n,e){const t=Jt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const _=p.batch,S=_.keys();let w=Ke.resolve();return S.forEach(R=>{w=w.next(()=>y.getEntry(h,R)).next(O=>{const U=p.docVersions.get(R);Rn(U!==null,48541),O.version.compareTo(U)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=cn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function rb(n){const e=Jt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function HT(n,e){const t=Jt(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const u=[];e.targetChanges.forEach((y,_)=>{const S=s.get(_);if(!S)return;u.push(t.hi.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.hi.addMatchingKeys(o,y.addedDocuments,_)));let w=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(_i.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),s=s.insert(_,w),function(O,U,j){return O.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=BT?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(S,w,y)&&u.push(t.hi.updateTargetData(o,w))});let h=vl(),p=cn();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),u.push(WT(o,l,e.documentUpdates).next(y=>{h=y.Ls,p=y.ks})),!r.isEqual(Qt.min())){const y=t.hi.getLastRemoteSnapshotVersion(o).next(_=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(y)}return Ke.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Fs=s,o))}function WT(n,e,t){let r=cn(),s=cn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=vl();return t.forEach((u,h)=>{const p=o.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Qt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):wt(M0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{Ls:l,ks:s}})}function GT(n,e){const t=Jt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=k0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KT(n,e){const t=Jt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.hi.getTargetData(r,e).next(o=>o?(s=o,Ke.resolve(s)):t.hi.allocateTargetId(r).next(l=>(s=new cu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Hg(n,e,t){const r=Jt(n),s=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!mh(l))throw l;wt(M0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function vv(n,e,t){const r=Jt(n);let s=Qt.min(),o=cn();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const _=Jt(h),S=_.Ms.get(y);return S!==void 0?Ke.resolve(_.Fs.get(S)):_.hi.getTargetData(p,y)}(r,l,Ia(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:Qt.min(),t?o:cn())).next(u=>(QT(r,D6(e),u),{documents:u,qs:o})))}function QT(n,e,t){let r=n.xs.get(e)||Qt.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}class wv{constructor(){this.activeTargetIds=U6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YT{constructor(){this.Fo=new wv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new wv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="ConnectivityMonitor";class bv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){wt(_v,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){wt(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function Wg(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",XT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZT{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===rp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const l=Wg(),u=this.Go(e,t.toUriEncodedString());wt(Zm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,o);const{host:p}=new URL(u),y=ch(p);return this.jo(e,u,h,r,y).then(_=>(wt(Zm,`Received RPC '${e}' ${l}: `,_),_),_=>{throw wu(Zm,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_})}Jo(e,t,r,s,o,l){return this.Wo(e,t,r,s,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}Go(e,t){const r=XT[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="WebChannelConnection";class tC extends ZT{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,o){const l=Wg();return new Promise((u,h)=>{const p=new r_;p.setWithCredentials(!0),p.listenOnce(i_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const _=p.getResponseJson();wt(Fi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Of.TIMEOUT:wt(Fi,`RPC '${e}' ${l} timed out`),h(new vt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const S=p.getStatus();if(wt(Fi,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const O=function(j){const H=j.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(H)>=0?H:Ge.UNKNOWN}(R.status);h(new vt(O,R.message))}else h(new vt(Ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new vt(Ge.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{wt(Fi,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);wt(Fi,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",y,r,15)})}P_(e,t,r){const s=Wg(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=a_(),u=o_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=o.join("");wt(Fi,`Creating RPC '${e}' stream ${s}: ${y}`,h);const _=l.createWebChannel(y,h);this.T_(_);let S=!1,w=!1;const R=new eC({Ho:U=>{w?wt(Fi,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(S||(wt(Fi,`Opening RPC '${e}' stream ${s} transport.`),_.open(),S=!0),wt(Fi,`RPC '${e}' stream ${s} sending:`,U),_.send(U))},Yo:()=>_.close()}),O=(U,j,H)=>{U.listen(j,X=>{try{H(X)}catch(he){setTimeout(()=>{throw he},0)}})};return O(_,$h.EventType.OPEN,()=>{w||(wt(Fi,`RPC '${e}' stream ${s} transport opened.`),R.s_())}),O(_,$h.EventType.CLOSE,()=>{w||(w=!0,wt(Fi,`RPC '${e}' stream ${s} transport closed`),R.__(),this.I_(_))}),O(_,$h.EventType.ERROR,U=>{w||(w=!0,wu(Fi,`RPC '${e}' stream ${s} transport errored. Name:`,U.name,"Message:",U.message),R.__(new vt(Ge.UNAVAILABLE,"The operation could not be completed")))}),O(_,$h.EventType.MESSAGE,U=>{var j;if(!w){const H=U.data[0];Rn(!!H,16349);const X=H,he=X?.error||((j=X[0])===null||j===void 0?void 0:j.error);if(he){wt(Fi,`RPC '${e}' stream ${s} received error:`,he);const be=he.status;let Ne=function(F){const G=Ir[F];if(G!==void 0)return $_(G)}(be),B=he.message;Ne===void 0&&(Ne=Ge.INTERNAL,B="Unknown error status: "+be+" with message "+he.message),w=!0,R.__(new vt(Ne,B)),_.close()}else wt(Fi,`RPC '${e}' stream ${s} received:`,H),R.a_(H)}}),O(u,s_.STAT_EVENT,U=>{U.stat===Rg.PROXY?wt(Fi,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Rg.NOPROXY&&wt(Fi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){return new sT(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&wt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="PersistentStream";class sb{constructor(e,t,r,s,o,l,u,h){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ib(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(yl(t.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===t&&this.W_(r,s)},r=>{e(()=>{const s=new vt(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return wt(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(wt(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nC extends sb{constructor(e,t,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=lT(this.serializer,e),r=function(o){if(!("targetChange"in o))return Qt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Qt.min():l.readTime?Ta(l.readTime):Qt.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=$g(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=Mg(h)?{documents:hT(o,h)}:{query:dT(o,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=G_(o,l.resumeToken);const p=Bg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Qt.min())>0){u.readTime=ap(o,l.snapshotVersion.toTimestamp());const p=Bg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=pT(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.k_(t)}}class rC extends sb{constructor(e,t,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=cT(e.writeResults,e.commitTime),r=Ta(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=$g(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uT(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class sC extends iC{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new vt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,zg(t,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(Ge.UNKNOWN,o.toString())})}Jo(e,t,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(e,zg(t,r),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new vt(Ge.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class oC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yl(t),this._a=!1):wt("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="RemoteStore";class aC{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{cc(this)&&(wt(rc,"Restarting streams for network reachability change."),await async function(h){const p=Jt(h);p.Ia.add(4),await kd(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Op(p)}(this))})}),this.Aa=new oC(r,s)}}async function Op(n){if(cc(n))for(const e of n.da)await e(!0)}async function kd(n){for(const e of n.da)await e(!1)}function ob(n,e){const t=Jt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),z0(t)?B0(t):yh(t).x_()&&U0(t,e))}function V0(n,e){const t=Jt(n),r=yh(t);t.Ta.delete(e),r.x_()&&ab(t,e),t.Ta.size===0&&(r.x_()?r.B_():cc(t)&&t.Aa.set("Unknown"))}function U0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yh(n).H_(e)}function ab(n,e){n.Ra.$e(e),yh(n).Y_(e)}function B0(n){n.Ra=new tT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),yh(n).start(),n.Aa.aa()}function z0(n){return cc(n)&&!yh(n).M_()&&n.Ta.size>0}function cc(n){return Jt(n).Ia.size===0}function lb(n){n.Ra=void 0}async function lC(n){n.Aa.set("Online")}async function uC(n){n.Ta.forEach((e,t)=>{U0(n,e)})}async function cC(n,e){lb(n),z0(n)?(n.Aa.la(e),B0(n)):n.Aa.set("Unknown")}async function hC(n,e,t){if(n.Aa.set("Online"),e instanceof W_&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ta.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ta.delete(u),s.Ra.removeTarget(u))}(n,e)}catch(r){wt(rc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await up(n,r)}else if(e instanceof Vf?n.Ra.Ye(e):e instanceof H_?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Qt.min()))try{const r=await rb(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ta.get(p);y&&o.Ta.set(p,y.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const y=o.Ta.get(h);if(!y)return;o.Ta.set(h,y.withResumeToken(_i.EMPTY_BYTE_STRING,y.snapshotVersion)),ab(o,h);const _=new cu(y.target,h,p,y.sequenceNumber);U0(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){wt(rc,"Failed to raise snapshot:",r),await up(n,r)}}async function up(n,e,t){if(!mh(e))throw e;n.Ia.add(1),await kd(n),n.Aa.set("Offline"),t||(t=()=>rb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{wt(rc,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Op(n)})}function ub(n,e){return e().catch(t=>up(n,t,e))}async function jp(n){const e=Jt(n),t=Eu(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:k0;for(;dC(e);)try{const s=await GT(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,fC(e,s)}catch(s){await up(e,s)}cb(e)&&hb(e)}function dC(n){return cc(n)&&n.Pa.length<10}function fC(n,e){n.Pa.push(e);const t=Eu(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function cb(n){return cc(n)&&!Eu(n).M_()&&n.Pa.length>0}function hb(n){Eu(n).start()}async function pC(n){Eu(n).na()}async function mC(n){const e=Eu(n);for(const t of n.Pa)e.X_(t.mutations)}async function gC(n,e,t){const r=n.Pa.shift(),s=L0.from(r,e,t);await ub(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await jp(n)}async function yC(n,e){e&&Eu(n).Z_&&await async function(r,s){if(function(l){return Z6(l)&&l!==Ge.ABORTED}(s.code)){const o=r.Pa.shift();Eu(r).N_(),await ub(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await jp(r)}}(n,e),cb(n)&&hb(n)}async function Sv(n,e){const t=Jt(n);t.asyncQueue.verifyOperationInProgress(),wt(rc,"RemoteStore received new credentials");const r=cc(t);t.Ia.add(3),await kd(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Op(t)}async function vC(n,e){const t=Jt(n);e?(t.Ia.delete(2),await Op(t)):e||(t.Ia.add(2),await kd(t),t.Aa.set("Unknown"))}function yh(n){return n.Va||(n.Va=function(t,r,s){const o=Jt(t);return o.ia(),new nC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:lC.bind(null,n),e_:uC.bind(null,n),n_:cC.bind(null,n),J_:hC.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),z0(n)?B0(n):n.Aa.set("Unknown")):(await n.Va.stop(),lb(n))})),n.Va}function Eu(n){return n.ma||(n.ma=function(t,r,s){const o=Jt(t);return o.ia(),new rC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:pC.bind(null,n),n_:yC.bind(null,n),ea:mC.bind(null,n),ta:gC.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await jp(n)):(await n.ma.stop(),n.Pa.length>0&&(wt(rc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new pu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const l=Date.now()+r,u=new q0(e,t,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(n,e){if(yl("AsyncQueue",`${e}: ${n}`),mh(n))return new vt(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Lt.comparator(t.key,r.key):(t,r)=>Lt.comparator(t.key,r.key),this.keyedMap=Hh(),this.sortedSet=new cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.fa=new cr(Lt.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):qt(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class oh{constructor(e,t,r,s,o,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new oh(e,t,Xc.emptySet(t),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class _C{constructor(){this.queries=Av(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=Jt(t),o=s.queries;s.queries=Av(),o.forEach((l,u)=>{for(const h of u.wa)h.onError(r)})})(this,new vt(Ge.ABORTED,"Firestore shutting down"))}}function Av(){return new lc(n=>P_(n),Tp)}async function bC(n,e){const t=Jt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new wC,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(s,!0);break;case 1:o.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=$0(l,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&H0(t)}async function xC(n,e){const t=Jt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SC(n,e){const t=Jt(n);let r=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const u of l.wa)u.Ca(s)&&(r=!0);l.ya=s}}r&&H0(t)}function EC(n,e,t){const r=Jt(n),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(t);r.queries.delete(e)}function H0(n){n.Da.forEach(e=>{e.next()})}var Gg,kv;(kv=Gg||(Gg={})).Fa="default",kv.Cache="cache";class AC{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class kC{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=cn(),this.mutatedKeys=cn(),this.Xa=L_(e),this.eu=new Xc(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new Ev,s=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const S=s.get(y),w=Cp(this.query,_)?_:null,R=!!S&&this.mutatedKeys.has(S.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let U=!1;S&&w?S.data.isEqual(w.data)?R!==O&&(r.track({type:3,doc:w}),U=!0):this.iu(S,w)||(r.track({type:2,doc:w}),U=!0,(h&&this.Xa(w,h)>0||p&&this.Xa(w,p)<0)&&(u=!0)):!S&&w?(r.track({type:0,doc:w}),U=!0):S&&!w&&(r.track({type:1,doc:S}),U=!0,(h||p)&&(u=!0)),U&&(w?(l=l.add(w),o=O?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{eu:l,ru:r,Ds:u,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((y,_)=>function(w,R){const O=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{At:U})}};return O(w)-O(R)}(y.type,_.type)||this.Xa(y.doc,_.doc)),this.su(r),s=s!=null&&s;const u=t&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,p=h!==this.Ya;return this.Ya=h,l.length!==0||p?{snapshot:new oh(this.query,e.eu,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ev,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=cn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new fb(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new db(r))}),t}uu(e){this.Ha=e.qs,this.Za=cn();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return oh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const W0="SyncEngine";class NC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IC{constructor(e){this.key=e,this.lu=!1}}class TC{constructor(e,t,r,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new lc(u=>P_(u),Tp),this.Tu=new Map,this.Iu=new Set,this.du=new cr(Lt.comparator),this.Eu=new Map,this.Au=new O0,this.Ru={},this.Vu=new Map,this.mu=sh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CC(n,e,t=!0){const r=wb(n);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await pb(r,e,t,!0),s}async function PC(n,e){const t=wb(n);await pb(t,e,!0,!1)}async function pb(n,e,t,r){const s=await KT(n.localStore,Ia(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await LC(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&ob(n.remoteStore,s),u}async function LC(n,e,t,r,s){n.gu=(_,S,w)=>async function(O,U,j,H){let X=U.view.nu(j);X.Ds&&(X=await vv(O.localStore,U.query,!1).then(({documents:B})=>U.view.nu(B,X)));const he=H&&H.targetChanges.get(U.targetId),be=H&&H.targetMismatches.get(U.targetId)!=null,Ne=U.view.applyChanges(X,O.isPrimaryClient,he,be);return Iv(O,U.targetId,Ne._u),Ne.snapshot}(n,_,S,w);const o=await vv(n.localStore,e,!0),l=new kC(e,o.qs),u=l.nu(o.documents),h=Ad.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);Iv(n,t,p._u);const y=new NC(e,t,l);return n.Pu.set(e,y),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function RC(n,e,t){const r=Jt(n),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter(l=>!Tp(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&V0(r.remoteStore,s.targetId),Kg(r,s.targetId)}).catch(ph)):(Kg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function DC(n,e){const t=Jt(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),V0(t.remoteStore,r.targetId))}async function OC(n,e,t){const r=zC(n);try{const s=await function(l,u){const h=Jt(l),p=Jn.now(),y=u.reduce((w,R)=>w.add(R.key),cn());let _,S;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=vl(),O=cn();return h.Os.getEntries(w,y).next(U=>{R=U,R.forEach((j,H)=>{H.isValidDocument()||(O=O.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,R)).next(U=>{_=U;const j=[];for(const H of u){const X=K6(H,_.get(H.key).overlayedDocument);X!=null&&j.push(new uc(H.key,X,x_(X.value.mapValue),fl.exists(!0)))}return h.mutationQueue.addMutationBatch(w,p,j,u)}).next(U=>{S=U;const j=U.applyToLocalDocumentSet(_,O);return h.documentOverlayCache.saveOverlays(w,U.batchId,j)})}).then(()=>({batchId:S.batchId,changes:D_(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let p=l.Ru[l.currentUser.toKey()];p||(p=new cr(rn)),p=p.insert(u,h),l.Ru[l.currentUser.toKey()]=p}(r,s.batchId,t),await Nd(r,s.changes),await jp(r.remoteStore)}catch(s){const o=$0(s,"Failed to persist write");t.reject(o)}}async function mb(n,e){const t=Jt(n);try{const r=await HT(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Eu.get(o);l&&(Rn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?Rn(l.lu,14607):s.removedDocuments.size>0&&(Rn(l.lu,42227),l.lu=!1))}),await Nd(t,r,e)}catch(r){await ph(r)}}function Nv(n,e,t){const r=Jt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=Jt(l);h.onlineState=u;let p=!1;h.queries.forEach((y,_)=>{for(const S of _.wa)S.va(u)&&(p=!0)}),p&&H0(h)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jC(n,e,t){const r=Jt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),o=s&&s.key;if(o){let l=new cr(Lt.comparator);l=l.insert(o,Vi.newNoDocument(o,Qt.min()));const u=cn().add(o),h=new Rp(Qt.min(),new Map,new cr(rn),l,u);await mb(r,h),r.du=r.du.remove(o),r.Eu.delete(e),G0(r)}else await Hg(r.localStore,e,!1).then(()=>Kg(r,e,t)).catch(ph)}async function FC(n,e){const t=Jt(n),r=e.batch.batchId;try{const s=await $T(t.localStore,e);yb(t,r,null),gb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(t,s)}catch(s){await ph(s)}}async function MC(n,e,t){const r=Jt(n);try{const s=await function(l,u){const h=Jt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(_=>(Rn(_!==null,37113),y=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);yb(r,e,t),gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Nd(r,s)}catch(s){await ph(s)}}function gb(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function yb(n,e,t){const r=Jt(n);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||vb(n,r)})}function vb(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(V0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),G0(n))}function Iv(n,e,t){for(const r of t)r instanceof db?(n.Au.addReference(r.key,e),VC(n,r)):r instanceof fb?(wt(W0,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||vb(n,r.key)):qt(19791,{yu:r})}function VC(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(wt(W0,"New document in limbo: "+t),n.Iu.add(r),G0(n))}function G0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Lt(Hn.fromString(e)),r=n.mu.next();n.Eu.set(r,new IC(t)),n.du=n.du.insert(t,r),ob(n.remoteStore,new cu(Ia(T_(t.path)),r,"TargetPurposeLimboResolution",kp.ue))}}async function Nd(n,e,t){const r=Jt(n),s=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{l.push(r.gu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t?.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=F0.Es(h.targetId,p);o.push(_)}}))}),await Promise.all(l),r.hu.J_(s),await async function(h,p){const y=Jt(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ke.forEach(p,S=>Ke.forEach(S.Is,w=>y.persistence.referenceDelegate.addReference(_,S.targetId,w)).next(()=>Ke.forEach(S.ds,w=>y.persistence.referenceDelegate.removeReference(_,S.targetId,w)))))}catch(_){if(!mh(_))throw _;wt(M0,"Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const w=y.Fs.get(S),R=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(R);y.Fs=y.Fs.insert(S,O)}}}(r.localStore,o))}async function UC(n,e){const t=Jt(n);if(!t.currentUser.isEqual(e)){wt(W0,"User change. New user:",e.toKey());const r=await nb(t.localStore,e);t.currentUser=e,function(o,l){o.Vu.forEach(u=>{u.forEach(h=>{h.reject(new vt(Ge.CANCELLED,l))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nd(t,r.Bs)}}function BC(n,e){const t=Jt(n),r=t.Eu.get(e);if(r&&r.lu)return cn().add(r.key);{let s=cn();const o=t.Tu.get(e);if(!o)return s;for(const l of o){const u=t.Pu.get(l);s=s.unionWith(u.view.tu)}return s}}function wb(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jC.bind(null,e),e.hu.J_=SC.bind(null,e.eventManager),e.hu.pu=EC.bind(null,e.eventManager),e}function zC(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MC.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return qT(this.persistence,new UT,e.initialUser,this.serializer)}Du(e){return new tb(j0.Vi,this.serializer)}bu(e){return new YT}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class qC extends cp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Rn(this.persistence.referenceDelegate instanceof lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AT(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new tb(r=>lp.Vi(r,t),this.serializer)}}class Qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await vC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _C}()}createDatastore(e){const t=Dp(e.databaseInfo.databaseId),r=function(o){return new tC(o)}(e.databaseInfo);return function(o,l,u,h){return new sC(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,l,u){return new aC(r,s,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Nv(this.syncEngine,t,0),function(){return bv.C()?new bv:new JT}())}createSyncEngine(e,t){return function(s,o,l,u,h,p,y){const _=new TC(s,o,l,u,h,p);return y&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Jt(s);wt(rc,"RemoteStore shutting down."),o.Ia.add(5),await kd(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yl("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="FirestoreClient";class HC{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Mi.UNAUTHENTICATED,this.clientId=A0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{wt(Au,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(wt(Au,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tg(n,e){n.asyncQueue.verifyOperationInProgress(),wt(Au,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{wu("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{wt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{wu("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function Tv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WC(n);wt(Au,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Sv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Sv(e.remoteStore,s)),n._onlineComponents=e}async function WC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wt(Au,"Using user provided OfflineComponentProvider");try{await tg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ge.FAILED_PRECONDITION||s.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;wu("Error using user provided cache. Falling back to memory cache: "+t),await tg(n,new cp)}}else wt(Au,"Using default OfflineComponentProvider"),await tg(n,new qC(void 0));return n._offlineComponents}async function _b(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wt(Au,"Using user provided OnlineComponentProvider"),await Tv(n,n._uninitializedComponentsProvider._online)):(wt(Au,"Using default OnlineComponentProvider"),await Tv(n,new Qg))),n._onlineComponents}function GC(n){return _b(n).then(e=>e.syncEngine)}async function KC(n){const e=await _b(n),t=e.eventManager;return t.onListen=CC.bind(null,e.syncEngine),t.onUnlisten=RC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=PC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DC.bind(null,e.syncEngine),t}function QC(n,e,t={}){const r=new pu;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,p){const y=new $C({next:S=>{y.Ou(),l.enqueueAndForget(()=>xC(o,_)),S.fromCache&&h.source==="server"?p.reject(new vt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new AC(u,y,{includeMetadataChanges:!0,ka:!0});return bC(o,_)}(await KC(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firestore.googleapis.com",Pv=!0;class Lv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xb,this.ssl=Pv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ST)throw new vt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new vt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XI;switch(r.type){case"firstParty":return new n6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Cv.get(t);r&&(wt("ComponentProvider","Removing Datastore"),Cv.delete(t),r.terminate())}(this),Promise.resolve()}}function YC(n,e,t,r={}){var s;n=ad(n,Fp);const o=ch(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(z5(`https://${h}`),q5("Firestore",!0)),l.host!==xb&&l.host!==h&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!vu(p,u)&&(n._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Mi.MOCK_USER;else{y=MS(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new vt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Mi(S)}n._authCredentials=new ZI(new u_(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}toJSON(){return{type:zr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sd(t,zr._jsonSchema))return new zr(e,r||null,new Lt(Hn.fromString(t.referencePath)))}}zr._jsonSchemaVersion="firestore/documentReference/1.0",zr._jsonSchema={type:Cr("string",zr._jsonSchemaVersion),referencePath:Cr("string")};class mu extends hc{constructor(e,t,r){super(e,t,T_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new Lt(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function bf(n,e,...t){if(n=si(n),h_("collection","path",e),n instanceof Fp){const r=Hn.fromString(e,...t);return Hy(r),new mu(n,null,r)}{if(!(n instanceof zr||n instanceof mu))throw new vt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return Hy(r),new mu(n.firestore,null,r)}}function ng(n,e,...t){if(n=si(n),arguments.length===1&&(e=A0.newId()),h_("doc","path",e),n instanceof Fp){const r=Hn.fromString(e,...t);return $y(r),new zr(n,null,new Lt(r))}{if(!(n instanceof zr||n instanceof mu))throw new vt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return $y(r),new zr(n.firestore,n instanceof mu?n.converter:null,new Lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class Dv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ib(this,"async_queue_retry"),this.oc=()=>{const r=eg();r&&wt(Rv,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=eg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=eg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new pu;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!mh(e))throw e;wt(Rv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,yl("INTERNAL UNHANDLED ERROR: ",Ov(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=q0.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&qt(47125,{hc:Ov(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Ov(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class K0 extends Fp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Dv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function JC(n,e){const t=typeof n=="object"?n:u0(),r=typeof n=="string"?n:rp,s=oc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=jS("firestore");o&&YC(s,...o)}return s}function Sb(n){if(n._terminated)throw new vt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XC(n),n._firestoreClient}function XC(n){var e,t,r;const s=n._freezeSettings(),o=function(u,h,p,y){return new v6(u,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,bb(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new HC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(_i.fromBase64String(e))}catch(t){throw new vt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new go(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:go._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sd(e,go._jsonSchema))return go.fromBase64String(e.bytes)}}go._jsonSchemaVersion="firestore/bytes/1.0",go._jsonSchema={type:Cr("string",go._jsonSchemaVersion),bytes:Cr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new vt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ca._jsonSchemaVersion}}static fromJSON(e){if(Sd(e,Ca._jsonSchema))return new Ca(e.latitude,e.longitude)}}Ca._jsonSchemaVersion="firestore/geoPoint/1.0",Ca._jsonSchema={type:Cr("string",Ca._jsonSchemaVersion),latitude:Cr("number"),longitude:Cr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sd(e,Pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Pa(e.vectorValues);throw new vt(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pa._jsonSchemaVersion="firestore/vectorValue/1.0",Pa._jsonSchema={type:Cr("string",Pa._jsonSchemaVersion),vectorValues:Cr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/^__.*__$/;class eP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}function Eb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ec:n})}}class J0{constructor(e,t,r,s,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new J0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return hp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Eb(this.Ec)&&ZC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class tP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dp(e)}Dc(e,t,r,s=!1){return new J0({Ec:e,methodName:t,bc:r,path:wi.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ab(n){const e=n._freezeSettings(),t=Dp(n._databaseId);return new tP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nP(n,e,t,r,s,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,s);Ib("Data must be an object, but it was:",l,r);const u=kb(r,l);let h,p;if(o.merge)h=new Qo(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const S=iP(e,_,t);if(!l.contains(S))throw new vt(Ge.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);oP(y,S)||y.push(S)}h=new Qo(y),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new eP(new mo(u),h,p)}class X0 extends Y0{_toFieldTransform(e){return new $6(e.path,new fd)}isEqual(e){return e instanceof X0}}function rP(n,e,t,r=!1){return Z0(t,n.Dc(r?4:3,e))}function Z0(n,e){if(Nb(n=si(n)))return Ib("Unsupported field value:",e,n),kb(n,e);if(n instanceof Y0)return function(r,s){if(!Eb(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const u of r){let h=Z0(u,s.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Jn.fromDate(r);return{timestampValue:ap(s.serializer,o)}}if(r instanceof Jn){const o=new Jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,o)}}if(r instanceof Ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof go)return{bytesValue:G_(s.serializer,r._byteString)};if(r instanceof zr){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pa)return function(l,u){return{mapValue:{fields:{[__]:{stringValue:b_},[ip]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.wc("VectorValues must only contain numeric values.");return P0(u.serializer,p)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Ap(r)}`)}(n,e)}function kb(n,e){const t={};return p_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(n,(r,s)=>{const o=Z0(s,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof Ca||n instanceof go||n instanceof zr||n instanceof Y0||n instanceof Pa)}function Ib(n,e,t){if(!Nb(t)||!d_(t)){const r=Ap(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function iP(n,e,t){if((e=si(e))instanceof Q0)return e._internalPath;if(typeof e=="string")return Tb(n,e);throw hp("Field path arguments must be of type string or ",n,!1,void 0,t)}const sP=new RegExp("[~\\*/\\[\\]]");function Tb(n,e,t){if(e.search(sP)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Q0(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hp(n,e,t,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new vt(Ge.INVALID_ARGUMENT,u+n+h)}function oP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(e1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aP extends Cb{data(){return super.data()}}function e1(n,e){return typeof e=="string"?Tb(n,e):e instanceof Q0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t1{}class Pb extends t1{}function uP(n,e,...t){let r=[];e instanceof t1&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof r1).length,u=o.filter(h=>h instanceof n1).length;if(l>1||l>0&&u>0)throw new vt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class n1 extends Pb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n1(e,t,r)}_apply(e){const t=this._parse(e);return Lb(e._query,t),new hc(e.firestore,e.converter,Vg(e._query,t))}_parse(e){const t=Ab(e.firestore);return function(o,l,u,h,p,y,_){let S;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new vt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Fv(_,y);const R=[];for(const O of _)R.push(jv(h,o,O));S={arrayValue:{values:R}}}else S=jv(h,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Fv(_,y),S=rP(u,l,_,y==="in"||y==="not-in");return Tr.create(p,y,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class r1 extends t1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r1(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Zo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const h of u)Lb(l,h),l=Vg(l,h)}(e._query,t),new hc(e.firestore,e.converter,Vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i1 extends Pb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new i1(e,t)}_apply(e){const t=function(s,o,l){if(s.startAt!==null)throw new vt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new vt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dd(o,l)}(e._query,this._field,this._direction);return new hc(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new gh(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function cP(n,e="asc"){const t=e,r=e1("orderBy",n);return i1._create(r,t)}function jv(n,e,t){if(typeof(t=si(t))=="string"){if(t==="")throw new vt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C_(e)&&t.indexOf("/")!==-1)throw new vt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Hn.fromString(t));if(!Lt.isDocumentKey(r))throw new vt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zy(n,new Lt(r))}if(t instanceof zr)return Zy(n,t._key);throw new vt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(t)}.`)}function Fv(n,e){if(!Array.isArray(n)||n.length===0)throw new vt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(n,e){const t=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new vt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new vt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hP{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ac(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[ip].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Sr(l.doubleValue));return new Pa(o)}convertGeoPoint(e){return new Ca(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const t=bu(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Hn.fromString(e);Rn(Z_(r),9688,{name:e});const s=new cd(r.get(1),r.get(3)),o=new Lt(r.popFirst(5));return s.isEqual(t)||yl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zc extends Cb{constructor(e,t,r,s,o,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(e1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zc._jsonSchema={type:Cr("string",Zc._jsonSchemaVersion),bundleSource:Cr("string","DocumentSnapshot"),bundleName:Cr("string"),bundle:Cr("string")};class Uf extends Zc{data(e={}){return super.data(e)}}class eh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new xf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uf(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new Uf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new xf(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Uf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new xf(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:fP(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=A0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:n})}}eh._jsonSchemaVersion="firestore/querySnapshot/1.0",eh._jsonSchema={type:Cr("string",eh._jsonSchemaVersion),bundleSource:Cr("string","QuerySnapshot"),bundleName:Cr("string"),bundle:Cr("string")};class pP extends hP{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function Mv(n){n=ad(n,hc);const e=ad(n.firestore,K0),t=Sb(e),r=new pP(e);return lP(n._query),QC(t,n._query).then(s=>new eh(e,r,n,s))}function rg(n,e,t){n=ad(n,zr);const r=ad(n.firestore,K0),s=dP(n.converter,e,t);return mP(r,[nP(Ab(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,fl.none())])}function mP(n,e){return function(r,s){const o=new pu;return r.asyncQueue.enqueueAndForget(async()=>OC(await GC(r),s,o)),o.promise}(Sb(n),e)}function Uh(){return new X0("serverTimestamp")}(function(e,t=!0){(function(s){fh=s})(hh),La(new Jo("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new K0(new e6(r.getProvider("auth-internal")),new r6(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new vt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(p.options.projectId,y)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),yo(Vy,Uy,e),yo(Vy,Uy,"esm2017")})();const gP={apiKey:"AIzaSyDgFj_sc38M2igNWsjrQuTz5IFY7wuT368",authDomain:"scriptlycode.firebaseapp.com",databaseURL:"https://scriptlycode-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"scriptlycode",storageBucket:"scriptlycode.firebasestorage.app",messagingSenderId:"183324234404",appId:"1:183324234404:web:6e5e5fd05c410e88d58c31",measurementId:"G-9W16FE7Z7G"},s1=Y5(gP);Tk(s1);const Oc=YI(s1),Bh=JC(s1),Mp=()=>{const[n,e]=ce.useState(null),[t,r]=ce.useState(!0),[s,o]=ce.useState(null);ce.useEffect(()=>{const S=MN(Oc,w=>{e(w),r(!1)});return()=>S()},[]);const l=ce.useCallback(()=>{o(null)},[]),u=ce.useCallback(async()=>{if(!window.electronAPI){o("Electron API not available");return}r(!0),o(null);try{const S=await window.electronAPI.loginWithGoogle();if(!S.access_token)throw new Error("No access token received");const w=ll.credential(null,S.access_token),R=await $w(Oc,w);e(R.user)}catch(S){const w=S instanceof Error?S.message:"Unknown error occurred";o(w),console.error("Google sign-in error:",S)}finally{r(!1)}},[]),h=ce.useCallback(async(S,w)=>{r(!0),o(null);try{const R=await RN(Oc,S,w);e(R.user)}catch(R){let O="Sign in failed";R.code==="auth/user-not-found"?O="No account found with this email address":R.code==="auth/wrong-password"?O="Incorrect password":R.code==="auth/invalid-email"?O="Invalid email address":R.code==="auth/too-many-requests"&&(O="Too many failed attempts. Please try again later"),o(O),console.error("Email sign-in error:",R)}finally{r(!1)}},[]),p=ce.useCallback(async(S,w,R)=>{r(!0),o(null);try{const O=await LN(Oc,S,w);await ON(O.user,{displayName:R}),e(O.user)}catch(O){let U="Sign up failed";O.code==="auth/email-already-in-use"?U="An account with this email already exists":O.code==="auth/invalid-email"?U="Invalid email address":O.code==="auth/weak-password"&&(U="Password should be at least 6 characters"),o(U),console.error("Email sign-up error:",O)}finally{r(!1)}},[]),y=ce.useCallback(async S=>{r(!0),o(null);try{await PN(Oc,S)}catch(w){let R="Password reset failed";w.code==="auth/user-not-found"?R="No account found with this email address":w.code==="auth/invalid-email"&&(R="Invalid email address"),o(R),console.error("Password reset error:",w)}finally{r(!1)}},[]),_=ce.useCallback(async()=>{r(!0),o(null);try{await VN(Oc),e(null)}catch(S){const w=S instanceof Error?S.message:"Unknown error occurred";o(w),console.error("Sign-out error:",S)}finally{r(!1)}},[]);return{user:n,loading:t,error:s,signInWithGoogle:u,signInWithEmail:h,signUpWithEmail:p,resetPassword:y,signOut:_,clearError:l}},Rb=({onClose:n})=>{const[e,t]=ce.useState(!1),[r,s]=ce.useState(!1),[o,l]=ce.useState(!1),[u,h]=ce.useState(!1),[p,y]=ce.useState({email:"",password:"",displayName:"",resetEmail:""}),{user:_,loading:S,error:w,signInWithGoogle:R,signInWithEmail:O,signUpWithEmail:U,resetPassword:j,clearError:H}=Mp(),X=C=>{const{name:F,value:G}=C.target;y(L=>({...L,[F]:G})),H()},he=async C=>{C.preventDefault(),!(!p.email||!p.password)&&await O(p.email,p.password)},be=async C=>{C.preventDefault(),!(!p.email||!p.password||!p.displayName)&&await U(p.email,p.password,p.displayName)},Ne=async C=>{C.preventDefault(),p.resetEmail&&(await j(p.resetEmail),h(!0))},B=async()=>{await R()};return _?null:o?N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl p-8 w-full max-w-md mx-4",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Reset Password"}),u?N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:"Password reset email sent! Check your inbox."}),N.jsx("button",{onClick:()=>{l(!1),h(!1),y(C=>({...C,resetEmail:""}))},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Sign In"})]}):N.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[w&&N.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:w}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),N.jsxs("div",{className:"relative",children:[N.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),N.jsx("input",{type:"email",name:"resetEmail",value:p.resetEmail,onChange:X,placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:border-zinc-600 dark:text-white",required:!0})]})]}),N.jsxs("div",{className:"flex space-x-3",children:[N.jsx("button",{type:"button",onClick:()=>{l(!1),y(C=>({...C,resetEmail:""})),H()},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-zinc-600 dark:text-gray-300 dark:hover:bg-zinc-800",children:"Cancel"}),N.jsx("button",{type:"submit",disabled:S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:S?"Sending...":"Send Reset Email"})]})]})]})}):N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl p-8 w-full max-w-md mx-4",children:[N.jsxs("div",{className:"text-center mb-6",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e?"Create Account":"Welcome Back"}),N.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e?"Sign up to sync your notes":"Sign in to access your notes"})]}),w&&N.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:w}),N.jsxs("button",{onClick:B,disabled:S,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 mb-4",children:[S?N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700 mr-2"}):N.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[N.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),N.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),N.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),N.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),N.jsxs("div",{className:"relative mb-4",children:[N.jsx("div",{className:"absolute inset-0 flex items-center",children:N.jsx("div",{className:"w-full border-t border-gray-300 dark:border-zinc-600"})}),N.jsx("div",{className:"relative flex justify-center text-sm",children:N.jsx("span",{className:"px-2 bg-white dark:bg-zinc-900 text-gray-500",children:"or"})})]}),N.jsxs("form",{onSubmit:e?be:he,className:"space-y-4",children:[e&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),N.jsxs("div",{className:"relative",children:[N.jsx(kf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),N.jsx("input",{type:"text",name:"displayName",value:p.displayName,onChange:X,placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:border-zinc-600 dark:text-white",required:!0})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),N.jsxs("div",{className:"relative",children:[N.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),N.jsx("input",{type:"email",name:"email",value:p.email,onChange:X,placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:border-zinc-600 dark:text-white",required:!0})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),N.jsxs("div",{className:"relative",children:[N.jsx(m3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),N.jsx("input",{type:r?"text":"password",name:"password",value:p.password,onChange:X,placeholder:"Enter your password",className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:border-zinc-600 dark:text-white",required:!0}),N.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?N.jsx(o3,{className:"h-5 w-5"}):N.jsx(l5,{className:"h-5 w-5"})})]})]}),!e&&N.jsx("div",{className:"text-right",children:N.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",children:"Forgot password?"})}),N.jsx("button",{type:"submit",disabled:S,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:S?"Please wait...":e?"Create Account":"Sign In"})]}),N.jsx("div",{className:"mt-6 text-center",children:N.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e?"Already have an account?":"Don't have an account?"," ",N.jsx("button",{onClick:()=>{t(!e),y({email:"",password:"",displayName:"",resetEmail:""}),H()},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 font-medium",children:e?"Sign In":"Sign Up"})]})}),n&&N.jsx("div",{className:"mt-4 text-center",children:N.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400",children:"Continue without signing in"})})]})})};class yP{userId=null;options;syncStatus;syncCallbacks=[];syncInterval=null;constructor(e){this.options=e,this.syncStatus={issyncing:!1,lastSyncTime:null,syncErrors:[],pendingChanges:0}}setUserId(e){this.userId=e,e&&this.options.autoSync?this.startAutoSync():this.stopAutoSync()}onSyncStatusChange(e){return this.syncCallbacks.push(e),()=>{this.syncCallbacks=this.syncCallbacks.filter(t=>t!==e)}}notifyStatusChange(){this.syncCallbacks.forEach(e=>e({...this.syncStatus}))}async syncNotesToFirestore(e,t){if(!(!this.userId||!this.options.enableFirestore)){this.syncStatus.issyncing=!0,this.syncStatus.syncErrors=[],this.notifyStatusChange();try{const r=bf(Bh,"users",this.userId,"notes");for(const l of e){const u=ng(r,l.id);await rg(u,{...l,updatedAt:Uh(),syncedAt:Uh()})}const s=bf(Bh,"users",this.userId,"folders");for(const l of t){const u=ng(s,l.id);await rg(u,{...l,updatedAt:Uh(),syncedAt:Uh()})}const o=ng(Bh,"users",this.userId);await rg(o,{lastSyncTime:Uh(),notesCount:e.length,foldersCount:t.length},{merge:!0}),this.syncStatus.lastSyncTime=new Date,this.syncStatus.pendingChanges=0}catch(r){console.error("Firestore sync error:",r),this.syncStatus.syncErrors.push(r instanceof Error?r.message:"Unknown sync error")}finally{this.syncStatus.issyncing=!1,this.notifyStatusChange()}}}async syncNotesFromFirestore(){if(!this.userId||!this.options.enableFirestore)return null;this.syncStatus.issyncing=!0,this.notifyStatusChange();try{const e=bf(Bh,"users",this.userId,"notes"),r=(await Mv(uP(e,cP("updatedAt","desc")))).docs.map(u=>({id:u.id,...u.data()})),s=bf(Bh,"users",this.userId,"folders"),l=(await Mv(s)).docs.map(u=>({id:u.id,...u.data()}));return this.syncStatus.lastSyncTime=new Date,{notes:r,folders:l}}catch(e){return console.error("Firestore fetch error:",e),this.syncStatus.syncErrors.push(e instanceof Error?e.message:"Unknown fetch error"),null}finally{this.syncStatus.issyncing=!1,this.notifyStatusChange()}}async syncToGoogleDrive(e){if(!(!this.userId||!this.options.enableGoogleDrive)){this.syncStatus.issyncing=!0,this.notifyStatusChange();try{console.log("Google Drive sync would happen here");const t={userId:this.userId,notes:e,exportedAt:new Date().toISOString(),version:"1.0"};console.log("Backup data prepared for Google Drive:",t),this.syncStatus.lastSyncTime=new Date}catch(t){console.error("Google Drive sync error:",t),this.syncStatus.syncErrors.push(t instanceof Error?t.message:"Google Drive sync failed")}finally{this.syncStatus.issyncing=!1,this.notifyStatusChange()}}}async performFullSync(e,t){if(!this.userId)return;this.syncStatus.pendingChanges=e.length+t.length,this.notifyStatusChange();const r=[];this.options.enableFirestore&&r.push(this.syncNotesToFirestore(e,t)),this.options.enableGoogleDrive&&r.push(this.syncToGoogleDrive(e)),await Promise.allSettled(r)}startAutoSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{console.log("Auto sync triggered")},this.options.syncInterval))}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}getSyncStatus(){return{...this.syncStatus}}updateOptions(e){this.options={...this.options,...e},this.userId&&(this.options.autoSync?this.startAutoSync():this.stopAutoSync())}}const jc=new yP({enableFirestore:!0,enableGoogleDrive:!1,autoSync:!1,syncInterval:3e4}),vP=()=>{const{user:n}=Mp(),[e,t]=ce.useState(jc.getSyncStatus()),[r,s]=ce.useState({enableFirestore:!0,enableGoogleDrive:!1,autoSync:!1,syncInterval:3e4}),o=!!(n&&(r.enableFirestore||r.enableGoogleDrive));ce.useEffect(()=>{jc.setUserId(n?.uid||null)},[n]),ce.useEffect(()=>jc.onSyncStatusChange(t),[]);const l=ce.useCallback(async(y,_)=>{n&&await jc.performFullSync(y,_)},[n]),u=ce.useCallback(async()=>n?await jc.syncNotesFromFirestore():null,[n]),h=ce.useCallback(y=>{const _={...r,...y};s(_),jc.updateOptions(_)},[r]),p=ce.useCallback(()=>{const y=!r.enableFirestore;h({enableFirestore:y,autoSync:y?r.autoSync:!1})},[r.enableFirestore,r.autoSync,h]);return{syncStatus:e,syncOptions:r,isCloudEnabled:o,syncToCloud:l,syncFromCloud:u,updateSyncOptions:h,toggleCloudSync:p}},Vv="notes-app-data",Uv="notes-app-folders",wP=()=>{const[n,e]=ce.useState([]),[t,r]=ce.useState([]),[s,o]=ce.useState(null),[l,u]=ce.useState(null),{syncToCloud:h,syncFromCloud:p,isCloudEnabled:y}=vP();ce.useEffect(()=>{const B=localStorage.getItem(Vv);if(B)try{const F=JSON.parse(B).map(G=>({...G,createdAt:new Date(G.createdAt),updatedAt:new Date(G.updatedAt)}));e(F)}catch(F){console.error("Error parsing saved notes:",F)}const C=localStorage.getItem(Uv);if(C)try{const F=JSON.parse(C).map(G=>({...G,createdAt:new Date(G.createdAt),updatedAt:new Date(G.updatedAt)}));r(F)}catch(F){console.error("Error parsing saved folders:",F)}},[]);const _=B=>{localStorage.setItem(Vv,JSON.stringify(B))},S=B=>{localStorage.setItem(Uv,JSON.stringify(B))};return{notes:n,folders:t,selectedNote:s,selectedFolderId:l,setSelectedNote:o,setSelectedFolderId:u,createNote:(B=null)=>{const C={id:Date.now().toString(),title:"",content:"",category:"",folderId:B||l,createdAt:new Date,updatedAt:new Date},F=[C,...n];return e(F),o(C),_(F),C},updateNote:B=>{const C=n.map(F=>F.id===B.id?B:F);e(C),o(B),_(C)},deleteNote:B=>{const C=n.filter(F=>F.id!==B);e(C),s?.id===B&&o(C.length>0?C[0]:null),_(C)},createFolder:(B,C=null)=>{const F={id:Date.now().toString(),name:B,parentId:C,isExpanded:!0,createdAt:new Date,updatedAt:new Date},G=[...t,F];return r(G),S(G),F},updateFolder:B=>{const C=t.map(F=>F.id===B.id?B:F);r(C),S(C)},deleteFolder:B=>{const C=n.map(L=>L.folderId===B?{...L,folderId:null}:L);e(C),_(C);const F=L=>(t.filter(T=>T.parentId===L).forEach(T=>F(T.id)),t.filter(T=>T.id!==L)),G=F(B);r(G),S(G),l===B&&u(null)},moveNote:(B,C)=>{const F=n.map(G=>G.id===B?{...G,folderId:C}:G);e(F),_(F)},toggleFolder:B=>{const C=t.map(F=>F.id===B?{...F,isExpanded:!F.isExpanded}:F);r(C),S(C)},syncNotesToCloud:async()=>{if(y)try{await h(n,t)}catch(B){console.error("Failed to sync to cloud:",B)}},loadNotesFromCloud:async()=>{if(y)try{const B=await p();B&&(e(B.notes),r(B.folders),_(B.notes),S(B.folders))}catch(B){console.error("Failed to load from cloud:",B)}},isCloudEnabled:y}},_P=()=>{const n=fp(),{user:e,signOut:t,loading:r}=Mp(),{autoSave:s,setAutoSave:o,autoSaveInterval:l,setAutoSaveInterval:u,fontSize:h,setFontSize:p,fontFamily:y,setFontFamily:_,lineHeight:S,setLineHeight:w,wordWrap:R,setWordWrap:O,showLineNumbers:U,setShowLineNumbers:j,tabSize:H,setTabSize:X,minimap:he,setMinimap:be,bracketMatching:Ne,setBracketMatching:B,autoIndent:C,setAutoIndent:F,shortcuts:G,updateShortcut:L,resetShortcuts:D}=s5(),{theme:T,setTheme:se}=K4(),[Pe,Ie]=ce.useState(!1),[we,ie]=ce.useState("account"),[_e,fe]=ce.useState(null),[Z,A]=ce.useState(""),z=[{id:"account",label:"Account",icon:kf},{id:"appearance",label:"Appearance",icon:h5},{id:"editor",label:"Editor",icon:cg},{id:"shortcuts",label:"Shortcuts",icon:h3},{id:"storage",label:"Storage",icon:N2},{id:"about",label:"About",icon:T2}];function J(){return N.jsxs("div",{className:"space-y-6",children:[N.jsx("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:e?N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center space-x-4",children:[e.photoURL?N.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-16 h-16 rounded-full object-cover border-2",style:{borderColor:"var(--accent)"},crossOrigin:"anonymous",onError:$e=>{const Ye=$e.target;Ye.style.display="none",Ye.nextElementSibling?.classList.remove("hidden")}}):null,N.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${e.photoURL?"hidden":""}`,style:{backgroundColor:"var(--accent)"},children:N.jsx(kf,{className:"w-8 h-8 text-white"})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:e.displayName||"User"}),N.jsxs("p",{className:"flex items-center space-x-2",style:{color:"var(--text-secondary)"},children:[N.jsx(ug,{size:16}),N.jsx("span",{children:e.email})]}),N.jsx("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:N.jsxs("span",{className:"flex items-center space-x-1",style:{color:"var(--text-secondary)"},children:[N.jsx("div",{className:`w-2 h-2 rounded-full ${e.emailVerified?"bg-green-500":"bg-red-500"}`}),N.jsx("span",{children:e.emailVerified?"Verified":"Unverified"})]})})]})]}),N.jsxs("button",{onClick:()=>t(),disabled:r,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--bg-destructive)",color:"white"},children:[N.jsx(g3,{size:16}),N.jsx("span",{children:r?"Signing out...":"Sign Out"})]})]}):N.jsxs("div",{className:"text-center py-8",children:[N.jsx(kf,{size:48,className:"mx-auto mb-4",style:{color:"var(--text-secondary)"}}),N.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Sign in to sync your notes"}),N.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Connect your account to save notes in the cloud"}),N.jsx("button",{onClick:()=>Ie(!0),className:"px-6 py-2 rounded-lg text-white transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--accent)"},children:"Sign In"})]})}),Pe&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:N.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 w-full max-w-md mx-4",children:N.jsx(Rb,{onClose:()=>Ie(!1)})})})]})}function te(){return N.jsx("div",{className:"space-y-6",children:N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Theme"}),N.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[N.jsxs("button",{onClick:()=>se("light"),className:`p-4 rounded-lg border-2 transition-all duration-200 ${T==="light"?"scale-105":"hover:scale-105"}`,style:{borderColor:T==="light"?"var(--accent)":"var(--border)",backgroundColor:T==="light"?"var(--accent)":"var(--bg-primary)"},children:[N.jsx(S3,{size:24,className:`mx-auto mb-2 ${T==="light"?"text-white":""}`,style:{color:T==="light"?"white":"var(--text-primary)"}}),N.jsx("span",{className:`font-medium ${T==="light"?"text-white":""}`,style:{color:T==="light"?"white":"var(--text-primary)"},children:"Light"})]}),N.jsxs("button",{onClick:()=>se("dark"),className:`p-4 rounded-lg border-2 transition-all duration-200 ${T==="dark"?"scale-105":"hover:scale-105"}`,style:{borderColor:T==="dark"?"var(--accent)":"var(--border)",backgroundColor:T==="dark"?"var(--accent)":"var(--bg-primary)"},children:[N.jsx(v3,{size:24,className:`mx-auto mb-2 ${T==="dark"?"text-white":""}`,style:{color:T==="dark"?"white":"var(--text-primary)"}}),N.jsx("span",{className:`font-medium ${T==="dark"?"text-white":""}`,style:{color:T==="dark"?"white":"var(--text-primary)"},children:"Dark"})]}),N.jsxs("button",{onClick:()=>se("system"),className:`p-4 rounded-lg border-2 transition-all duration-200 ${T==="system"?"scale-105":"hover:scale-105"}`,style:{borderColor:T==="system"?"var(--accent)":"var(--border)",backgroundColor:T==="system"?"var(--accent)":"var(--bg-primary)"},children:[N.jsx(T2,{size:24,className:`mx-auto mb-2 ${T==="system"?"text-white":""}`,style:{color:T==="system"?"white":"var(--text-primary)"}}),N.jsx("span",{className:`font-medium ${T==="system"?"text-white":""}`,style:{color:T==="system"?"white":"var(--text-primary)"},children:"System"})]})]})]})})}function ae(){const $e=ne=>{ne.preventDefault();const _t=[];if(ne.metaKey&&_t.push("Cmd"),ne.ctrlKey&&!ne.metaKey&&_t.push("Ctrl"),ne.altKey&&_t.push("Alt"),ne.shiftKey&&_t.push("Shift"),ne.key!=="Meta"&&ne.key!=="Control"&&ne.key!=="Alt"&&ne.key!=="Shift"){const ft=ne.key===" "?"Space":ne.key;_t.push(ft)}A(_t.join("+"))},Ye=ne=>{Z&&L(ne,Z),fe(null),A("")},it=()=>{fe(null),A("")},kt=ne=>{fe(ne.id),A(ne.keys)},Me=G.reduce((ne,_t)=>(ne[_t.category]||(ne[_t.category]=[]),ne[_t.category].push(_t),ne),{});return N.jsxs("div",{className:"space-y-6 max-w-4xl",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text)"},children:"Keyboard Shortcuts"}),N.jsx("button",{onClick:D,className:"px-4 py-2 rounded-lg transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--color-accent)",color:"white"},children:"Reset to Defaults"})]}),Object.entries(Me).map(([ne,_t])=>N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[N.jsxs("h4",{className:"text-lg font-medium mb-4 capitalize",style:{color:"var(--color-text)"},children:[ne," Shortcuts"]}),N.jsx("div",{className:"space-y-3",children:_t.map(ft=>N.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"font-medium truncate",style:{color:"var(--color-text)"},children:ft.name}),N.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:ft.description})]}),N.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:_e===ft.id?N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"text",value:Z,onKeyDown:$e,placeholder:"Press keys...",className:"px-3 py-1 rounded border text-center w-32",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-border)",color:"var(--color-text)"},autoFocus:!0}),N.jsx("button",{onClick:()=>Ye(ft.id),className:"px-2 py-1 rounded text-xs whitespace-nowrap",style:{backgroundColor:"var(--color-accent)",color:"white"},children:"Save"}),N.jsx("button",{onClick:it,className:"px-2 py-1 rounded text-xs whitespace-nowrap",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)",color:"var(--color-text)"},children:"Cancel"})]}):N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("kbd",{className:"px-2 py-1 rounded text-sm font-mono border whitespace-nowrap",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-border)",color:"var(--color-text)"},children:ft.keys}),N.jsx("button",{onClick:()=>kt(ft),className:"px-2 py-1 rounded text-xs whitespace-nowrap",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)",color:"var(--color-accent)"},children:"Edit"})]})})]},ft.id))})]},ne)),N.jsx("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h4",{className:"font-medium mb-1",style:{color:"var(--text-primary)"},children:"Reset Shortcuts"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Reset all keyboard shortcuts to their default values"})]}),N.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all shortcuts to defaults?")&&D()},className:"px-4 py-2 rounded-lg border text-sm font-medium transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text-primary)"},children:"Reset to Defaults"})]})})]})}function oe(){const $e=[{label:"Inter (Default)",value:"Inter, system-ui, sans-serif"},{label:"System Font",value:"system-ui, -apple-system, sans-serif"},{label:"Fira Code",value:"'Fira Code', 'Consolas', monospace"},{label:"JetBrains Mono",value:"'JetBrains Mono', 'Consolas', monospace"},{label:"Monaco",value:"'Monaco', 'Consolas', monospace"},{label:"Roboto",value:"'Roboto', sans-serif"}];return N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[N.jsx(x3,{size:20,className:"mr-2"}),"Auto-Save"]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Enable Auto-Save"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Automatically save changes while typing"})]}),N.jsx("button",{onClick:()=>o(!s),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${s?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${s?"translate-x-6":"translate-x-0.5"}`})})]}),s&&N.jsxs("div",{children:[N.jsxs("label",{className:"block font-medium mb-2",style:{color:"var(--text-primary)"},children:["Auto-Save Interval: ",l/1e3,"s"]}),N.jsx("input",{type:"range",min:"1000",max:"30000",step:"1000",value:l,onChange:Ye=>u(Number(Ye.target.value)),className:"w-full",style:{accentColor:"var(--accent)"}}),N.jsxs("div",{className:"flex justify-between text-sm mt-1",style:{color:"var(--text-secondary)"},children:[N.jsx("span",{children:"1s"}),N.jsx("span",{children:"30s"})]})]})]})]}),N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[N.jsx(hg,{size:20,className:"mr-2"}),"Typography"]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block font-medium mb-2",style:{color:"var(--text-primary)"},children:"Font Family"}),N.jsx("select",{value:y,onChange:Ye=>_(Ye.target.value),className:"w-full p-3 rounded-lg border transition-colors",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border)",color:"var(--text-primary)"},children:$e.map(Ye=>N.jsx("option",{value:Ye.value,children:Ye.label},Ye.value))})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block font-medium mb-2",style:{color:"var(--text-primary)"},children:["Font Size: ",h,"px"]}),N.jsx("input",{type:"range",min:"10",max:"24",step:"1",value:h,onChange:Ye=>p(Number(Ye.target.value)),className:"w-full",style:{accentColor:"var(--accent)"}}),N.jsxs("div",{className:"flex justify-between text-sm mt-1",style:{color:"var(--text-secondary)"},children:[N.jsx("span",{children:"10px"}),N.jsx("span",{children:"24px"})]})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block font-medium mb-2",style:{color:"var(--text-primary)"},children:["Line Height: ",S]}),N.jsx("input",{type:"range",min:"1.2",max:"2.0",step:"0.1",value:S,onChange:Ye=>w(Number(Ye.target.value)),className:"w-full",style:{accentColor:"var(--accent)"}}),N.jsxs("div",{className:"flex justify-between text-sm mt-1",style:{color:"var(--text-secondary)"},children:[N.jsx("span",{children:"1.2"}),N.jsx("span",{children:"2.0"})]})]})]})]}),N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[N.jsx(cg,{size:20,className:"mr-2"}),"Editor Behavior"]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Word Wrap"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Wrap long lines to fit in the editor"})]}),N.jsx("button",{onClick:()=>O(!R),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${R?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${R?"translate-x-6":"translate-x-0.5"}`})})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Auto Indent"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Automatically indent new lines"})]}),N.jsx("button",{onClick:()=>F(!C),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${C?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${C?"translate-x-6":"translate-x-0.5"}`})})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block font-medium mb-2",style:{color:"var(--text-primary)"},children:["Tab Size: ",H," spaces"]}),N.jsx("input",{type:"range",min:"2",max:"8",step:"2",value:H,onChange:Ye=>X(Number(Ye.target.value)),className:"w-full",style:{accentColor:"var(--accent)"}}),N.jsxs("div",{className:"flex justify-between text-sm mt-1",style:{color:"var(--text-secondary)"},children:[N.jsx("span",{children:"2"}),N.jsx("span",{children:"4"}),N.jsx("span",{children:"6"}),N.jsx("span",{children:"8"})]})]})]})]}),N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[N.jsx(l5,{size:20,className:"mr-2"}),"Display Options"]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Show Line Numbers"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Display line numbers in the editor"})]}),N.jsx("button",{onClick:()=>j(!U),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${U?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${U?"translate-x-6":"translate-x-0.5"}`})})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Minimap"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Show a minimap of the document"})]}),N.jsx("button",{onClick:()=>be(!he),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${he?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${he?"translate-x-6":"translate-x-0.5"}`})})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("label",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Bracket Matching"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Highlight matching brackets"})]}),N.jsx("button",{onClick:()=>B(!Ne),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${Ne?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:N.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 top-0.5 ${Ne?"translate-x-6":"translate-x-0.5"}`})})]})]})]})]})}function ue(){return N.jsx("div",{className:"space-y-6",children:N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[N.jsx(N2,{size:20,className:"mr-2"}),"Local Storage"]}),N.jsx("div",{className:"space-y-4",children:N.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Notes Data"}),N.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Stored locally"})]}),N.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Your notes are saved in your browser's local storage"})]})})]})})}function Ae(){return N.jsx("div",{className:"space-y-6",children:N.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border)"},children:[N.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Notes App"}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Version 1.0.0"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"A modern note-taking application built with React and Electron"})]}),N.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[N.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Features"}),N.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[N.jsx("li",{children:" Rich text editing with formatting tools"}),N.jsx("li",{children:" Folder organization and categorization"}),N.jsx("li",{children:" Search functionality"}),N.jsx("li",{children:" Dark and light themes"}),N.jsx("li",{children:" Auto-save capabilities"})]})]})]})]})})}function We(){switch(we){case"account":return J();case"appearance":return te();case"editor":return oe();case"shortcuts":return ae();case"storage":return ue();case"about":return Ae();default:return null}}return N.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[N.jsx("header",{className:"p-4 border-b",style:{borderColor:"var(--border)"},children:N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsx("button",{onClick:()=>n("/"),className:"p-2 rounded-lg transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--bg-secondary)"},children:N.jsx(t3,{size:20,style:{color:"var(--text-primary)"}})}),N.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Settings"})]})}),N.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[N.jsx("aside",{className:"w-64 border-r p-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:N.jsx("nav",{className:"space-y-2",children:z.map($e=>{const Ye=$e.icon,it=we===$e.id;return N.jsxs("button",{onClick:()=>ie($e.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 text-left ${it?"scale-105":"hover:scale-105"}`,style:{backgroundColor:it?"var(--accent)":"transparent",color:it?"white":"var(--text-primary)"},children:[N.jsx(Ye,{size:18}),N.jsx("span",{className:"font-medium",children:$e.label})]},$e.id)})})}),N.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:We()})]})]})};function Bv({user:n,children:e}){const t=wl();return n?e:N.jsx(Jv,{to:"/login",state:{from:t},replace:!0})}function bP(){const{notes:n,folders:e,selectedNote:t,selectedFolderId:r,setSelectedNote:s,setSelectedFolderId:o,createNote:l,updateNote:u,deleteNote:h,createFolder:p,updateFolder:y,deleteFolder:_,toggleFolder:S}=wP(),{user:w,loading:R}=Mp(),[O,U]=ce.useState(""),[j,H]=ce.useState("All"),[X,he]=ce.useState(void 0),[be,Ne]=ce.useState(()=>{const we=localStorage.getItem("sidebarWidth");return we?parseInt(we,10):320}),[B,C]=ce.useState(!1),[F,G]=ce.useState(()=>{const we=localStorage.getItem("sidebarVisible");return we!==null?we==="true":!0});ce.useEffect(()=>{localStorage.setItem("sidebarWidth",be.toString())},[be]),ce.useEffect(()=>{localStorage.setItem("sidebarVisible",F.toString())},[F]);const L=ce.useCallback(we=>{if(!B)return;const ie=we.clientX;ie>=200&&ie<=600&&Ne(ie)},[B]),D=ce.useCallback(()=>{C(!1)},[]);ce.useEffect(()=>(B?(document.addEventListener("mousemove",L),document.addEventListener("mouseup",D),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",D),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",D),document.body.style.cursor="",document.body.style.userSelect=""}),[B,L,D]),ce.useEffect(()=>{const we=ie=>{(ie.ctrlKey||ie.metaKey)&&ie.shiftKey&&(ie.key==="B"||ie.key==="b")&&(ie.preventDefault(),ie.stopPropagation(),G(_e=>!_e))};return document.addEventListener("keydown",we,!0),()=>document.removeEventListener("keydown",we,!0)},[]),ce.useEffect(()=>{if(typeof window<"u"&&window.electronAPI)return window.electronAPI.onMenuNewNote(()=>{T(r)}),window.electronAPI.onMenuSave(()=>{t&&u(t)}),window.electronAPI.onMenuNewFolder(()=>{const we=`New Folder ${e.length+1}`;p(we,r)}),window.electronAPI.onMenuExportPDF(()=>{t&&nd(async()=>{const{exportToPDF:we}=await Promise.resolve().then(()=>X2);return{exportToPDF:we}},void 0).then(({exportToPDF:we})=>{we(t)})}),window.electronAPI.onMenuExportTXT(()=>{t&&nd(async()=>{const{exportToTXT:we}=await Promise.resolve().then(()=>X2);return{exportToTXT:we}},void 0).then(({exportToTXT:we})=>{we(t)})}),()=>{window.electronAPI&&(window.electronAPI.removeAllListeners("menu-new-note"),window.electronAPI.removeAllListeners("menu-save"),window.electronAPI.removeAllListeners("menu-new-folder"),window.electronAPI.removeAllListeners("menu-export-pdf"),window.electronAPI.removeAllListeners("menu-export-txt"))}},[t,r,u,l]);const T=(we=null)=>{l(we)},se=we=>{o(we),s(null),he(void 0)},Pe=we=>{s(we),O.trim()?(he(O.trim()),setTimeout(()=>he(void 0),3e3)):he(void 0)},Ie=(we,ie)=>{s(we),ie.trim()&&(he(ie.trim()),setTimeout(()=>he(void 0),3e3))};return R?N.jsx("div",{className:"flex items-center justify-center h-screen",style:{backgroundColor:"var(--bg-primary)"},children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-xl flex items-center justify-center animate-pulse",style:{backgroundColor:"var(--accent)"},children:N.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),N.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Loading Notes"}),N.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Authenticating and setting up your workspace..."}),N.jsx("div",{className:"flex justify-center mt-4",children:N.jsxs("div",{className:"flex space-x-1",children:[N.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--accent)",animationDelay:"0ms"}}),N.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--accent)",animationDelay:"150ms"}}),N.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:"var(--accent)",animationDelay:"300ms"}})]})})]})}):N.jsx(Q4,{children:N.jsx(G4,{children:N.jsx(F4,{children:N.jsxs(f4,{children:[N.jsx(Sf,{path:"/login",element:w?N.jsx(Jv,{to:"/",replace:!0}):N.jsx(Rb,{})}),N.jsx(Sf,{path:"/",element:N.jsx(Bv,{user:w,children:N.jsx("div",{className:"h-screen bg-gray-100 dark:bg-black flex overflow-hidden",children:N.jsx("div",{className:"flex flex-col w-full relative",children:N.jsxs("div",{className:"flex flex-1 h-full",children:[F&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"bg-white dark:bg-zinc-900 border-r border-gray-200 dark:border-zinc-700 flex flex-col h-full relative",style:{width:`${be}px`},children:N.jsx(kS,{notes:n,folders:e,selectedNote:t,selectedFolderId:r,onSelectNote:Pe,onSelectFolder:se,onCreateNote:T,onCreateFolder:p,onUpdateFolder:y,onDeleteFolder:_,onToggleFolder:S,onDeleteNote:h,searchQuery:O,onSearchChange:U,selectedCategory:j,onCategoryChange:H,onNavigateToText:Ie})}),N.jsx("div",{className:"w-1 bg-gray-200 dark:bg-zinc-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative",onMouseDown:we=>{we.preventDefault(),C(!0)},children:N.jsx("div",{className:"absolute inset-0 hover:bg-blue-500 dark:hover:bg-blue-400 opacity-0 hover:opacity-50 transition-opacity duration-200"})})]}),N.jsx("div",{className:"flex-1 h-full overflow-auto",children:N.jsx(NS,{note:t,onSave:u,searchTerm:X})})]})})})})}),N.jsx(Sf,{path:"/settings",element:N.jsx(Bv,{user:w,children:N.jsx(_P,{})})})]})})})})}_x.createRoot(document.getElementById("root")).render(N.jsx(ce.StrictMode,{children:N.jsx(bP,{})}));export{Fn as _};
